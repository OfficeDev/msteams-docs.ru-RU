### YamlMime:Tutorial
title: Предоставление разрешения для устройства табуляции
metadata:
  title: Предоставление разрешения для устройства табуляции
  description: В этом учебном модуле вы узнаете, как предоставить устройствам табуляции разрешения, такие как расположение, доступ к камере и микрофону для Microsoft Teams приложений.
  audience: Developer
  level: Beginner
  ms.date: 12/24/2021
  ms.topic: interactive-tutorial
  nextTutorialHref: concepts/device-capabilities/browser-device-permissions.md
  nextTutorialTitle: Дополнительные сведения о разрешениях устройства для браузера
  ms.custom: mvc
  ms.localizationpriority: high
  ms.openlocfilehash: d352c26bba4958776b00ea72cdb4147a763d1d1f
  ms.sourcegitcommit: 5070746e736edb4ae77cd3efcb2ab8bb2e5819a0
  ms.translationtype: MT
  ms.contentlocale: ru-RU
  ms.lasthandoff: 06/16/2022
  ms.locfileid: "66123316"
items:
- durationInMinutes: 1
  content: >
    Teams, которое требует разрешения устройства, например расположение, камера или доступ к микрофону, теперь требует, чтобы пользователи вручную предоставили разрешение в веб-браузере. Ранее браузер обрабатывал предоставление разрешений на доступ, а теперь эти разрешения обрабатываются в Microsoft Teams.


    Это пошаговое руководство поможет вам предоставить разрешение устройства табуляции на Teams. Вы увидите следующие выходные данные:

      :::image type="content" source="../msteams-platform/assets/images/tab-device-permission/output1.png" alt-text="окончательные выходные данные" border="true":::
- title: Предварительные требования
  durationInMinutes: 1
  content: >
    Установите следующие средства и настройте среду разработки:



    * [Microsoft Teams](https://www.microsoft.com/en-in/microsoft-teams/log-in) с допустимой учетной записью

    * [Microsoft 365 учетной](https://developer.microsoft.com/en-us/microsoft-365/dev-program) записи разработчика или доступ к Teams с соответствующими разрешениями на установку приложения

    * [Последняя версия Visual Studio](https://code.visualstudio.com/Download)

    * [Последняя версия nodejs](https://nodejs.org/en/download/)

    * [Последняя версия ngrok](https://ngrok.com/download) (только для тестирования devbox) или любое эквивалентное решение для туннелирования

      > [!NOTE]
      > После скачивания ngrok зарегистрируйтесь и установите [authtoken](https://ngrok.com/download).
- title: Настройка локальной среды
  durationInMinutes: 1
  content: >
    1. Откройте [Microsoft Teams примеров](https://github.com/OfficeDev/Microsoft-Teams-Samples).


    1. Выберите **"Код"**.


    1. В раскрывающемся меню выберите "Открыть **с помощью GitHub Desktop"**.


       :::image type="content" source="../msteams-platform/assets/images/tab-device-permission/cloner-epository-tab-device.png" alt-text="клонирование репозитория" border="true":::


    1. Выберите **"Клонировать"**.
- title: Настройка туннеля для локального веб-сервера
  durationInMinutes: 1
  content: "Используйте ngrok или командную строку для создания туннеля для общедоступных конечных точек HTTPS локального веб-сервера. Выполните следующую команду в ngrok:\n\n```bash\nngrok http -host-header=localhost 3000\n``` \n  > [!TIP]\n  > Если вы **столкнулись ERR_NGROK_4018**, выполните действия, как показано в командной строке для регистрации и проверки подлинности ngrok. Затем выполните команду `ngrok http -host-header=localhost 3000` .\n\n  :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/ngrok-tab-device.png\" alt-text=\" ngrok tunnelling\" border=\"true\":::\n"
- title: Настройка файла манифеста
  durationInMinutes: 1
  content: "1. Перейдите **к файлу manifest.json** в клонированном репозитории.\n\n   :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/manifestjson-tab-device.png\" alt-text=\"файл манифеста\" border=\"true\":::\n\n1. Откройте **файл manifest.json** в Visual Studio и внесите следующие изменения:\n  \n   Замените `<<BASE_URI_DOMAIN>>` конечную точку HTTP из ngrok, за исключением https:// во всех местах.\n\n   :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/tab-device-VS-update1.png\" alt-text=\"обновление ngrok в Visual Studio\" border=\"true\":::\n          \n"
- title: Создание и запуск клиентского приложения с помощью npm
  durationInMinutes: 1
  content: "1. В клонированном репозитории перейдите к примерам > **tab-device-permissions > nodejs**.\n\n1. **Скопируйте путь к папке nodejs**. \n\n   :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/nodejs-path-tab-device.png\" alt-text=\"скопируйте путь\" border=\"true\":::  \n\n1. Откройте новое окно **командной строки** и измените текущий каталог на скопированный **путь nodejs** .\n\n   :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/nodejs-new-folder-path-tab-device.png\" alt-text=\"скопируйте путь\" border=\"true\":::     \n\n1. Выполните следующую команду в **командной строке** , чтобы скачать пакеты и зависимости:\n\n   ```Command-Prompt\n    npm install\n    ```  \n\n1. Выполните следующую команду в **командной строке** , чтобы запустить приложение:\n\n   ```Command-Prompt\n   npm start\n   ```\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/npm-start-install1.png\" alt-text=\"Установка и запуск npm\" border=\"true\":::     \n\n1. В браузере можно просмотреть следующие выходные данные:\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/sbs-react.png\" alt-text=\"Выходные данные браузера\" border=\"true\":::     \n"
- title: Добавление разрешения устройства табуляции в Teams
  durationInMinutes: 1
  content: "# <a name=\"desktop\"></a>[Компьютер](#tab/desktop) \n\n\n1. В клонированном репозитории перейдите  >  к примерам **tab-device-permissions** > **nodejs** > **appPackage**.\n\n1. Создайте .zip со следующими файлами, которые находятся в папке **appPackage** : \n   * manifest.json\n   * icon-outline.png\n   * icon-color.png\n\n   :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/manifest-zip-tab-device1.png\" alt-text=\"создание ZIP-файла\" border=\"true\":::        \n \n 1. Перейдите **к Microsoft Teams**.\n\n 1. Выберите **Приложения**.\n\n     :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/apps-tab-device1.png\" alt-text=\"выбор приложений\" border=\"true\":::         \n\n 1. В левом нижнем углу выберите \" **Управление приложениями\"**.\n\n     :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/manage-apps-tab-device.png\" alt-text=\"Выбор элемента &quot;Управление приложением&quot;\" border=\"true\":::         \n\n 1. Выберите **Отправить пользовательское приложение**.\n\n     :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/upload-custom-app-tab-device1.png\" alt-text=\"отправка пользовательского приложения\" border=\"true\":::           \n\n 1. Выберите **\"** Открыть\", чтобы .zip файл, созданный в папке **appPackage** .\n\n     :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/manifest-folder-upload-tab-device1.png\" alt-text=\"добавление ZIP-файла манифеста\" border=\"true\":::             \n\n 1. Нажмите **Добавить**.\n\n     :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/sbs-add-desktop.png\" alt-text=\"добавление разрешения устройства вкладки приложения\" border=\"true\":::               \n\n 1. Выберите **вкладку \"Разрешение устройства\"** , чтобы просмотреть следующие выходные данные:\n \n     :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/desktop-teams-permission1.png\" alt-text=\"добавление устройства табуляции на рабочий стол\" border=\"true\"::: \n\n\n# <a name=\"browser\"></a>[Browser](#tab/Browser)\n\n\n1. В клонированном репозитории перейдите  >  к примерам **tab-device-permissions** > **nodejs** > **appPackage**.\n\n1. Создайте .zip со следующими файлами, которые находятся в папке **appPackage** : \n   * manifest.json\n   * icon-outline.png\n   * icon-color.png\n\n   :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/manifest-zip-tab-device1.png\" alt-text=\"создание ZIP-файла\" border=\"true\":::        \n\n1. Перейдите **к Microsoft Teams**. \n\n1. Выберите **Приложения**.\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/apps-tab-device1.png\" alt-text=\"выбор приложений\" border=\"true\":::         \n\n1. В левом нижнем углу выберите \" **Управление приложениями\"**.\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/manage-apps-tab-device.png\" alt-text=\"Выбор элемента &quot;Управление приложением&quot;\" border=\"true\":::         \n\n1. Выберите **Отправить пользовательское приложение**. \n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/upload-custom-app-tab-device1.png\" alt-text=\"отправка пользовательского приложения\" border=\"true\":::           \n\n1. Выберите **\"** Открыть\", чтобы .zip файл, созданный в папке **appPackage** .\n\n     :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/manifest-folder-upload-tab-device1.png\" alt-text=\"добавление ZIP-файла манифеста\" border=\"true\":::             \n\n1. Нажмите **Добавить**.\n\n   :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/sbs-add-browser-teams1.png\" alt-text=\"добавление разрешения устройства вкладки приложения\" border=\"true\":::               \n\n1. Выберите **вкладку \"Разрешение устройства\"** , чтобы просмотреть следующие выходные данные:\n\n   :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/browser-tab-device1.png\" alt-text=\"получение расположения\" border=\"true\":::\n\n\n# <a name=\"mobile\"></a>[Мобильные устройства](#tab/mobile)\n\n \n  Откройте Teams на мобильном устройстве, чтобы просмотреть следующие выходные данные:\n\n\n   :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/mobile-teams-output1.png\" alt-text=\"мобильное устройство табуляции\" border=\"true\":::                   \n\n \n"
- title: Тестирование приложения
  durationInMinutes: 1
  content: "Чтобы приложение с разрешением устройства табуляции разрешающее пользователю предоставлять разрешение, необходимо протестировать приложение после успешной отправки приложения в Teams.\n\n # <a name=\"desktop\"></a>[Компьютер](#tab/Desktop)\n\n  Чтобы протестировать приложение на рабочем столе, щелкните **значок** разрешения приложения, чтобы разрешить доступ к запросам разрешений:\n\n    \n  :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/desktop-teams-permission1.png\" alt-text=\"Рабочий стол\" border=\"true\":::                   \n  \n  \n   # <a name=\"browser\"></a>[Browser](#tab/Browser)\n\n  \n  Чтобы протестировать приложение в браузере, щелкните **значок** разрешения приложения, чтобы разрешить доступ к запросам разрешений:\n\n    \n  :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/browser-tab-device1.png\" alt-text=\"получение расположения\" border=\"true\":::                   \n \n \n # <a name=\"mobile\"></a>[Мобильные устройства](#tab/Mobile)\n\n  \n  Чтобы протестировать приложение на мобильных устройствах, отображаются следующие всплывающие окна для выбора курса действий:\n\n  * Выберите **\"РАЗРЕШИТЬ** \", если вы хотите предоставить разрешение\n  * Выберите **DENY** , если вы не хотите предоставлять разрешение\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/prompt-mobile-app1.png\" alt-text=\"выходные данные мобильных устройств\" border=\"true\":::                   \n--- \n"
- title: Полный запрос
  durationInMinutes: 1
  content: "У вас возникла такая проблема?\n\n:::image type=\"content\" source=\"../msteams-platform/assets/images/tab-device-permission/output1.png\" alt-text=\"location\" border=\"true\":::                   \n"
- content: Вы завершили работу с этим руководством и теперь можете предоставить разрешение устройства табуляции по адресу Teams.
