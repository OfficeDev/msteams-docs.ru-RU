---
title: Приложение с элементами управления совместной работы
author: surbhigupta
description: В этом модуле вы узнаете, как создать управляемое моделью приложение с элементами управления совместной работы для Teams и как добавить элементы управления совместной работы в приложение.
ms.localizationpriority: medium
ms.author: v-npaladugu
ms.topic: conceptual
ms.openlocfilehash: f75f7ea3b014a9373ba1d643cede7055aa333ef5
ms.sourcegitcommit: f2ac771cbd608e872604e9ac8ffec2d08f55ee1a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/04/2022
ms.locfileid: "68373047"
---
# <a name="create-a-new-model-driven-app-with-collaboration-controls-for-teams"></a>Создание приложения на основе модели с элементами управления совместной работы для Teams

Элементы управления совместной работой предназначены [для приложений на основе модели](/power-apps/maker/model-driven-apps/model-driven-app-overview). В следующем разделе описывается создание приложения на основе модели.

> [!NOTE]
> В настоящее время элементы управления совместной работы доступны только в [общедоступной предварительной версии разработчика](~/resources/dev-preview/developer-preview-intro.md).

## <a name="create-a-model-driven-application"></a>Создание приложения на основе модели

1. Откройте [.https://make.powerapps.com](https://make.powerapps.com/) или [https://make.preview.powerapps.com.](https://make.preview.powerapps.com/)

1. Выберите **"Решения** " в левой области.

1. Выберите **"Новое решение**", чтобы предоставить домашнее приложение для всех будущих настроек.

   :::image type="content" source="../assets/images/collaboration-control/new-solution.png" alt-text="Снимок экрана— это пример нового решения, которое предоставляет домашнее приложение для всех будущих настроек.":::

1. Укажите имя и издателя нового решения. Это решение будет содержать пользовательские Диспетчер взаимодействия.

   :::image type="content" source="../assets/images/collaboration-control/collaboration-manager.png" alt-text="Снимок экрана: пример, предоставляющий сведения об издателе нового решения.":::

1. Нажмите кнопку **Создать**

1. После создания решения оно появится в списке решений. Выберите решение, чтобы открыть его.

1. Перед созданием приложения создайте домашнее приложение для данных. Выберите **"Создать** > **таблицу** ", чтобы приступить к работе.

     :::image type="content" source="../assets/images/collaboration-control/create-table.png" alt-text="Снимок экрана: создание новой таблицы.":::

1. Присвойте таблице имя. В **разделе "Дополнительные параметры**" выберите **"Создать новое действие"**.

   :::image type="content" source="../assets/images/collaboration-control/new-activity.png" alt-text="Снимок экрана: создание нового действия.":::

1. Нажмите кнопку **Сохранить**.

1. После создания таблицы ее можно настроить, добавив дополнительные столбцы, связи и т. д. (необязательно).

1. Теперь вы можете создать приложение на основе модели, **выбрав новое** >  >  приложение на основе модели **приложения.**

   :::image type="content" source="../assets/images/collaboration-control/model-driven-app.png" alt-text="Снимок экрана: пример создания приложения на основе модели.":::

1. Выберите новый **современный конструктор приложений (предварительная версия),** чтобы открыть новое приложение.

   :::image type="content" source="../assets/images/collaboration-control/model-driven-app-blank.png" alt-text="Снимок экрана: пример, в котором новое приложение на основе модели пустое, и вы можете выбрать интерфейс создания.":::

1. Нажмите **кнопку "Создать".**

1. Присвойте приложению имя и нажмите кнопку **"Создать".**

   :::image type="content" source="../assets/images/collaboration-control/collaboration-manager-for-inspection.png" alt-text="Снимок экрана: пример добавления диспетчера совместной работы для проверки и создания нового приложения на основе модели.":::

1. Выберите **"Добавить страницу".**

1. Выберите **представление и форму на основе таблицы.**

   :::image type="content" source="../assets/images/collaboration-control/table-based.png" alt-text="Снимок экрана: пример представления и формы на основе таблицы, где можно выбрать тип страницы.":::

1. Нажмите **кнопку "Далее".**

1. Найдите и выберите созданную ранее таблицу.

   :::image type="content" source="../assets/images/collaboration-control/table-view-form-pages.png" alt-text="Снимок экрана: пример, на котором показаны страницы форм представления таблицы и можно выбрать созданную таблицу.":::

1. Нажмите **кнопку "Добавить".**

1. Выберите **"Опубликовать** ", чтобы сохранить и опубликовать приложение.

1. Выберите **"Воспроизвести** ", чтобы протестировать новое приложение.

Теперь вы успешно создали приложение на основе модели.

## <a name="add-collaboration-controls-to-your-application"></a>Добавление элементов управления совместной работы в приложение

Ниже приведены шаги по добавлению возможностей управления совместной работой, таких как задачи, собрания, файлы и заметки, в созданное приложение.

1. Чтобы включить вкладки "Задачи", "Собрания" и "Заметки", необходимо изменить форму "Основные сведения". Для начала вернитесь в обозреватель и выберите решение.

1. Выберите таблицу, созданную при [создании нового приложения на основе модели для Teams.](#create-a-new-model-driven-app-with-collaboration-controls-for-teams)

1. Перейдите на вкладку "Формы" для таблицы.

     :::image type="content" source="../assets/images/collaboration-control/forms-tab.png" alt-text="Снимок экрана: пример, на котором показана вкладка &quot;Формы&quot; для таблицы.":::

1. Выберите форму information типа Формы **Main** , чтобы открыть ее в конструкторе форм.

1. В конструкторе форм нажмите и перетащите вкладку **с 1 столбцом** из раздела **"** Компоненты".

     :::image type="content" source="../assets/images/collaboration-control/components.png" alt-text="Снимок экрана: пример, на котором показаны компоненты power apps.":::

1. После выбора вкладки переименуйте вкладку в "Задачи" в области свойств.

1. Выберите имя вкладки, чтобы выбрать полный раздел, а затем на панели "Свойства" выберите "Развернуть первый компонент до **полной** ". Это необходимо, так как элементы управления совместной работы лучше всего просматривать во всех представлениях вкладок.

    :::image type="content" source="../assets/images/collaboration-control/tasks-pane.png" alt-text=" Снимок экрана: выбор первого компонента до полной вкладки.":::

     :::image type="content" source="../assets/images/collaboration-control/expand-first-component.png" alt-text=" Снимок экрана: развертывание первого компонента до полной вкладки.":::

1. Разверните категорию "Совместная работа (предварительная версия) на панели элементов управления и перетащите элемент управления "Задачи (предварительная версия) в раздел в форме "Задачи".

     :::image type="content" source="../assets/images/collaboration-control/collab-preview.png" alt-text="Снимок экрана: просмотр элемента управления в разделе в форме задач.":::

3. Задайте для таблицы & "Готово".

     :::image type="content" source="../assets/images/collaboration-control/select-table-activities.png" alt-text="Снимок экрана: выбор таблицы для действий.":::

5. Выберите "Скрыть метку" в свойстве.

     :::image type="content" source="../assets/images/collaboration-control/hide-label-properties.png" alt-text="Снимок экрана: выбор скрытия метки.":::

1. Теперь появится элемент управления "Задачи".

     :::image type="content" source="../assets/images/collaboration-control/new-collab-control.png" alt-text="Снимок экрана: пример отображения элемента управления &quot;Задачи&quot;.":::

1. Повторите шаги "Задачи", чтобы добавить в приложение элементы управления "Утверждения", "Файлы", "Собрания" и "Заметки".
1. После добавления всех элементов управления вы увидите элементы управления, отображаемые ниже в конструкторе форм. Если элемент управления не отображается в конструкторе форм, например отображает пустую форму, запустите приложение в Power Apps, а наличие страницы "настройка" или "пустое состояние" означает, что элемент управления был успешно добавлен.

     :::image type="content" source="../assets/images/collaboration-control/new-collab-approval.png" alt-text="Снимок экрана: конструктор форм &quot;Элементы управления&quot; успешно добавлен.":::

1. Теперь вы можете запустить приложение power в Power Apps, выбрав его.

     :::image type="content" source="../assets/images/collaboration-control/collaboration-manager-for-inspections-power-apps.png" alt-text="Снимок экрана: запуск приложения power, выбрав диспетчер совместной работы для проверки.":::

1. Создайте новую запись, выбрав " **+ Создать** ", а затем откройте запись.

     :::image type="content" source="../assets/images/collaboration-control/power-apps-open-the-record.png" alt-text="Снимок экрана: создание новой записи.":::

1. Теперь можно просмотреть представления для каждой вкладки, которые выглядят примерно так, как показано на следующем рисунке:

     :::image type="content" source="../assets/images/collaboration-control/tabs.png" alt-text="Снимок экрана: пример, показывающий представление для каждой вкладки.":::

     > [!TIP]
     > Элементы управления отображаются только после сохранения записи в приложении. Если вкладки элементов управления не отображаются в записи, попробуйте обновить браузер или повторно опубликовать приложение из Power Apps.

Теперь вы успешно добавили элементы управления совместной работы в приложение. Теперь вы можете запустить приложение в Power Apps и запустить элементы управления. Так как параметры еще не настроены, вы не сможете создавать сущности, такие как "Задачи" или "Собрания", пока они не будут добавлены.

## <a name="define-settings-for-your-collaboration"></a>Определение параметров для совместной работы

Вы можете определить параметры элементов управления совместной работы для бизнес-сущности, например таблицу, созданную в новом приложении [на основе модели](#create-a-new-model-driven-app-with-collaboration-controls-for-teams).

Ниже приведены параметры, которые можно применить.

|Параметры|Используется|
|---|---|
|Идентификатор группы|Задачи, внутренние собрания, утверждения.|
|Бизнес-идентификатор Bookings|Внешние собрания с помощью Bookings |
|Идентификатор сайта|файлы SharePoint; |
|Идентификатор диска|файлы SharePoint;|

> [!NOTE]
> Параметры очень важны для запуска приложения, поэтому убедитесь, что вы выполните рекомендуемые действия. Если у вас есть проблемы при запуске и сохранении элементов управления, повторно проверьте значения.

Идентификатор группы можно получить, создав новую команду или используя существующую команду в Microsoft Teams для размещения приложения и создания переменных параметров.

Чтобы создать новую команду, см. [статью "Создание команды с нуля"](https://support.microsoft.com/en-us/office/create-a-team-from-scratch-174adf5f-846b-4780-b765-de1a0a737e2b).

Чтобы получить идентификатор группы teams для утверждений, задач и внутренних собраний, выполните следующие инструкции:

1. Найдите свою команду в списке команд.

1. Щелкните многоточие **и** выберите команду **"Получить ссылку"**.

     :::image type="content" source="../assets/images/collaboration-control/get-link.png" alt-text="Снимок экрана: получение ссылки на команду.":::

1. Скопируйте ссылку и запишите значение из `groupId` URL-адреса. Это значение будет использоваться на более позднем этапе при определении параметров решения.

     `https://teams.microsoft.com/l/team/19%3akk_TuKhjXu92yJvg4TZ10S6rouLSCgvHIb5NOOTfRjg1%40thread.tacv2/conversations?groupId=4310f270-1aa5-4089-99f3-47eb3b4d69ad&tenantId=b699419b-e0df-47e3-9909-24076fdcf68b`

Используйте следующие инструкции для получения идентификатора сайта SharePoint и идентификатора диска для файлов:

1. Чтобы использовать элемент управления "Файлы", необходимо настроить существующий сайт SharePoint или создать новый сайт SharePoint. Сведения о создании сайта см. [в разделе "Создание сайта"](/sharepoint/create-site-collection).

1. Теперь получите значения параметров идентификатора сайта и диска, которые можно вызвать с помощью сведений на сайте SharePoint.

     1. **Идентификатор сайта**: с помощью [песочници Graph](https://developer.microsoft.com/graph/graph-explorer) войдите и предоставьте разрешения directory.ReadWrite.All и User.ReadWrite.All.

         :::image type="content" source="../assets/images/collaboration-control/graph-permissions.png" alt-text="Снимок экрана: пример, на котором показан песочницу Graph.":::

     1. Убедитесь, что вы замените имя узла и относительный путь к пути к сайту, и выполните вызов графа `https://graph.microsoft.com/v1.0/sites/{hostname}:/{relative-path-to-site}`. Ниже приведен пример:
         1. Если URL-адрес сайта = `https://myhostname.sharepoint.com/sites/MySiteName`
         1. Имя узла = `myhostname.sharepoint.com`
         1. Относительный путь к сайту = `sites/MySiteName`

              :::image type="content" source="../assets/images/collaboration-control/graph-call.png" alt-text="Снимок экрана: пример вызова Graph.":::

            Вызов графа будет выглядеть следующим образом: `https://graph.microsoft.com/v1.0/sites/myhostname.sharepoint.com:/sites/MySiteName`

     1. Полученный ответ представляет собой объект JSON, представляющий сайт, например идентификатор сайта.`abcdef.sharepoint.com,0abe7394-6fce-4dcc-9884-7eaceb48cd41,8cb86762-16cd-495e-87cb-893cfdf94054`

     1. Сохраните параметр значения идентификатора сайта.

     1. **Идентификатор диска**: с помощью [песочници Graph](https://developer.microsoft.com/graph/graph-explorer)`https://graph.microsoft.com/v1.0/sites/{site-id}/drives` войдите в систему и выполните вызов графа со значением идентификатора сайта, сохраненного ранее.

     1. Возвращается ответ JSON со значением параметра массива типов или списком объектов диска. Просмотрите JSON-объект Json, параметр имени которого соответствует имени библиотеки документов. Сохраните значение параметра идентификатора диска.

Чтобы создавать собрания с пользователями за пределами организации, например клиентами, и использовать функции виртуального посещения в приложении, необходимо предоставить бизнес Bookings. Дополнительные сведения см[. в Microsoft Bookings](/microsoft-365/bookings/bookings-overview?view=o365-worldwide&preserve-view=true).

## <a name="add-settings-to-your-collaboration-manager-app"></a>Добавление параметров в Диспетчер взаимодействия приложения

Чтобы применить параметры и изучить возможности совместной работы приложения в Power Apps, откройте созданное ранее приложение. Вы увидите страницу представления, на которой можно выбрать существующие записи или создать новую. Чтобы начать с открытия или создания записи.

Вам потребуется добавить идентификаторы параметров, сохраненные ранее для приложения.

|Параметры|Используется|
|---|---|
|Идентификатор группы|Задачи, внутренние собрания, утверждения.|
|Бизнес-идентификатор Bookings|Внешние собрания с помощью Bookings |
|Идентификатор сайта|файлы SharePoint; |
|Идентификатор диска|файлы SharePoint;|

### <a name="add-settings-for-tasks-meetings-and-files"></a>Добавление параметров для задач, собраний и файлов

1. Запустите элемент управления, и вы увидите окно следующим образом:

     :::image type="content" source="../assets/images/collaboration-control/launch-window.png" alt-text="Снимок экрана: пример окна управления.":::

1. Выберите **"Настроить"** и перейдите на вкладку "Общие", чтобы добавить идентификатор группы.

     :::image type="content" source="../assets/images/collaboration-control/groupid-general.png" alt-text="Снимок экрана: добавление идентификатора группы на вкладке &quot;Общие&quot;.":::

1. Откройте вкладку "Файлы", чтобы добавить идентификатор сайта и идентификатор диска.

     :::image type="content" source="../assets/images/collaboration-control/files-tab.png" alt-text="Снимок экрана: добавление идентификатора сайта и диска на вкладке &quot;Файлы&quot;.":::

Элементу управления Notes не требуется значение параметра. Теперь вы можете создавать в приложении такие сущности, как "Задачи" и "Собрания". Если у вас возникают проблемы с запуском и сохранением элементов управления, повторно проверьте значения параметров.

## <a name="explore-your-new-collaboration-manager-app"></a>Изучение нового Диспетчер взаимодействия приложения

В следующих разделах описывается использование элементов управления "Задача", "Заметки", "Собрания", "Файлы" и "Утверждения".

### <a name="create-tasks"></a>Создание задач

Просмотрите совместную работу на вкладке "Задачи", выбрав вкладку "Задачи", на которой откроется пустая страница, на которой пользователи могут добавить все необходимые задачи.

1. Чтобы создать задачу для команды, выберите " **Добавить задачу"**. Откроется диалоговое окно, в котором можно указать конкретные сведения о задаче и назначить ее соответствующим сотрудникам в команде и выбрать команду "Сохранить".

     :::image type="content" source="../assets/images/collaboration-control/add-task.png" alt-text="Снимок экрана: добавление задачи.":::

1. Сохраненная задача появится в списке задач.

1. Так как все задачи поддерживаются Планировщик (Майкрософт). Пользователи могут использовать приложение "Задачи" в Microsoft Teams, чтобы просмотреть все назначенные задачи. Чтобы приступить к работе, нажмите многоточие **...** в левой области Teams. Найдите и выберите "Задачи по планировщику" и "Задачи".

     :::image type="content" source="../assets/images/collaboration-control/tasks-planner.png" alt-text="Снимок экрана: пример задач по Планировщику и Задачам.":::

1. После открытия приложения "Задачи по планировщику" и "Задачи для выполнения" пользователи могут просматривать все задачи, созданные в  приложении, в разделе "Назначено мне" приложения. Пользователи также могут просматривать сведения о задаче, добавлять вложения и помечать их как завершенные.

### <a name="create-notes"></a>Создание заметок

Чтобы создать заметку, выберите вкладку **"** Заметки" в приложении, которая будет перенаправлена на пустой экран, где пользователи могут предоставить любую соответствующую информацию. Чтобы добавить новую заметку, выберите " **Создать заметку"**.
После добавления соответствующих сведений в заметки нажмите кнопку **"Сохранить"**.

### <a name="create-meetings"></a>Создавайте собрания

Выберите **вкладку "** Собрания" в записи, чтобы запланировать как внутренние, так и внешние собрания.

Чтобы запланировать внутреннее собрание, щелкните раскрывающийся  список рядом с кнопкой "Создать собрание", а затем выберите "**Внутреннее собрание"**.

:::image type="content" source="../assets/images/collaboration-control/new-meeting-tab.png" alt-text="Снимок экрана: планирование внутренних собраний.":::

> [!NOTE]
>
> Резервирование клиентов включено, если вы настроите Microsoft Booking с допустимым параметром для вашего приложения.

В **диалоговом окне** "Создание собрания" пользователи могут предоставить соответствующие сведения о собрании и выбрать команду **"Сохранить"**. Собрание появится в списке собраний.

:::image type="content" source="../assets/images/collaboration-control/new-meeting.png" alt-text="Снимок экрана: планирование нового собрания.":::

Чтобы запланировать внешнее собрание с клиентом, щелкните раскрывающийся  список рядом с кнопкой "Создать собрание" и выберите **"Резервирование клиента"**. Если параметр **"** Резервирование клиентов" недоступен в  раскрывающемся списке "Новое собрание", убедитесь, что приложение настроено Microsoft Bookings параметрах и у пользователя есть роль администратора Bookings. Дополнительные сведения см. [в статье "Добавление персонала в Bookings"](/microsoft-365/bookings/add-staff?view=o365-worldwide&preserve-view=true). Вы можете добавить дополнительные типы резервирования, добавив дополнительные службы в пределах вашего бизнеса Bookings.

:::image type="content" source="../assets/images/collaboration-control/customer-booking.png" alt-text="Снимок экрана: планирование резервирования клиентов.":::

Пользователи могут просматривать как внутренние собрания, так и резервирования клиентов в списке собраний. После начала собрания пользователи могут присоединиться, настроив кнопку  "Присоединиться", которая открывает собрание непосредственно в Microsoft Teams.

Так как собрания поддерживаются Outlook, пользователи могут перейти в Bookings или Календарь Outlook просмотреть все собрания, перечисленные в одном календаре. Внутренние собрания перечислены в общем календаре.

Ниже приведены действия по добавлению общего календаря в Outlook (необязательно).

1. На вкладке "Главная" ленты в разделе "Управление календарями" выберите "Открыть календарь > "Открыть общий календарь".

1. В диалоговом окне "Открытие общего календаря" введите имя пользователя. Выберите нужного пользователя и нажмите кнопку "ОК".

В области слева в разделе "Общие календари" должен появиться дополнительный календарь с именем пользователя.

:::image type="content" source="../assets/images/collaboration-control/customer-booking.png" alt-text="Снимок экрана: планирование резервирования клиентов.":::

### <a name="add-files"></a>Добавление файлов

Откройте **вкладку "** Файлы" в приложении и **выберите "Отправить**", чтобы отправить файлы OneDrive для бизнеса или с компьютера. После успешной отправки файла основное представление списка автоматически обновляется, чтобы отобразить файлы в списке.

:::image type="content" source="../assets/images/collaboration-control/meeting-calendar.png" alt-text="Снимок экрана: открытие общего календаря.":::

### <a name="approvals"></a>Утверждения

Утверждения позволяют пользователям запрашивать выход из системы у других пользователей при работе с записью. Например, запрос утверждения для выполнения задачи или закрытия записи.

1. Перейдите на **вкладку "** Утверждения" приложения.

1. Если запросы на утверждение отсутствуют, пользователи видят следующий экран.

      :::image type="content" source="../assets/images/collaboration-control/no-approvals.png" alt-text="Снимок экрана: пример, в котором не отображаются запросы на утверждение.":::

1. Выберите новый **запрос на утверждение,** чтобы открыть форму запроса на утверждение.

      :::image type="content" source="../assets/images/collaboration-control/approval-request-form.png" alt-text="Снимок экрана: пример новой формы запроса на утверждение.":::

1. В форме запроса на утверждение заполните необходимые поля и выберите команду **"** Отправить", которая создает запрос и добавляется в список.

      :::image type="content" source="../assets/images/collaboration-control/approvals-list.png" alt-text="Снимок экрана: пример, показывающий список утверждений.":::

1. Выберите утверждение, чтобы просмотреть сведения.

Дополнительные сведения об утверждениях см. [в разделе "Создание утверждения"](https://support.microsoft.com/en-us/office/create-an-approval-6548a338-f837-4e3c-ad02-8214fc165c84).
