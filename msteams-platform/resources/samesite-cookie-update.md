---
title: Microsoft Teams и атрибут Самесите cookie (обновление 2020)
author: laujan
description: ''
keywords: атрибуты файла самесите
ms.topic: reference
ms.author: lomeybur
ms.openlocfilehash: 167266ba0b5af1c8233cffe1fef496dd94c27ae4
ms.sourcegitcommit: 4329a94918263c85d6c65ff401f571556b80307b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/01/2020
ms.locfileid: "41675192"
---
# <a name="microsoft-teams-and-the-samesite-cookie-attribute-2020-update"></a><span data-ttu-id="e3c4f-103">Microsoft Teams и атрибут Самесите cookie (обновление 2020)</span><span class="sxs-lookup"><span data-stu-id="e3c4f-103">Microsoft Teams and the SameSite cookie attribute (2020 update)</span></span>

## <a name="cookies-in-brief"></a><span data-ttu-id="e3c4f-104">Краткие файлы cookie</span><span class="sxs-lookup"><span data-stu-id="e3c4f-104">Cookies in brief</span></span>

 <span data-ttu-id="e3c4f-105">Файлы cookie — это текстовые строки, которые отправляются с веб-сайтов и хранятся на компьютере веб-браузером.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-105">Cookies are text strings, sent from websites, and stored on a computer by the web browser.</span></span> <span data-ttu-id="e3c4f-106">Обычно они используются для проверки подлинности и личной настройки, например, для отзыва сведений о состоянии, сохранения параметров пользователя, записи сведений о просмотре и отображения релевантных рекламных объявлений.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-106">They're typically used for authentication and personalization, e.g., recalling stateful information, preserving user settings, recording browsing activity, and displaying relevant ads.</span></span> <span data-ttu-id="e3c4f-107">Файлы cookie всегда связаны с определенным доменом и могут устанавливаться различными сторонами.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-107">Cookies are always linked to a particular domain and can be installed by various parties.</span></span> <span data-ttu-id="e3c4f-108">Они делятся на следующие категории:</span><span class="sxs-lookup"><span data-stu-id="e3c4f-108">They are categorized as follows:</span></span>

 |<span data-ttu-id="e3c4f-109">Cookie</span><span class="sxs-lookup"><span data-stu-id="e3c4f-109">Cookie</span></span>|<span data-ttu-id="e3c4f-110">Область</span><span class="sxs-lookup"><span data-stu-id="e3c4f-110">Scope</span></span>|
 | ------ | ------ |
 |<span data-ttu-id="e3c4f-111">**Файл cookie первого производителя**</span><span class="sxs-lookup"><span data-stu-id="e3c4f-111">**First-party cookie**</span></span>|<span data-ttu-id="e3c4f-112">Основной файл cookie создается веб-сайтами, которые пользователь посетит и использует для сохранения данных, таких как элементы корзины для покупок, учетные данные входа (например, файлы cookie проверки подлинности) и другие аналитики.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-112">A first-party cookie is created by websites that a user visits and is used to save data such as shopping cart items, login credentials (e.g., authentication cookies), and other analytics.</span></span>|
 |<span data-ttu-id="e3c4f-113">**Файл cookie второй стороны**</span><span class="sxs-lookup"><span data-stu-id="e3c4f-113">**Second-party cookie**</span></span>|<span data-ttu-id="e3c4f-114">Файлы cookie второй стороны технически являются такими же, как и у первого файла cookie.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-114">A second-party cookies is technically the same as a first-party  cookie.</span></span> <span data-ttu-id="e3c4f-115">Разница заключается в том, что данные используются совместно со второй стороной через соглашение о партнерстве связи (например, [Microsoft Teams Analytics и Reporting](/microsoftteams/teams-analytics-and-reports/teams-reporting-reference)).</span><span class="sxs-lookup"><span data-stu-id="e3c4f-115">The difference is that data is shared with a second party via a data partnership agreement (e.g., [Microsoft Teams analytics and reporting](/microsoftteams/teams-analytics-and-reports/teams-reporting-reference)).</span></span> |
 |<span data-ttu-id="e3c4f-116">**Файл cookie стороннего производителя**</span><span class="sxs-lookup"><span data-stu-id="e3c4f-116">**Third-party cookie**</span></span>|<span data-ttu-id="e3c4f-117">Сторонний файл cookie устанавливается доменом, отличным от того, который пользователь посетит явным образом, и в основном используется для отслеживания (например, кнопок "Like"), обслуживания и интерактивных бесед.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-117">A third-party cookie is installed by a domain other than the one the user explicitly visited and is mainly used for tracking (e.g. "Like" buttons), ad serving, and live chats.</span></span>|

### <a name="cookies-and-http-requests"></a><span data-ttu-id="e3c4f-118">Файлы cookie и HTTP-запросы</span><span class="sxs-lookup"><span data-stu-id="e3c4f-118">Cookies and HTTP requests</span></span>

<span data-ttu-id="e3c4f-119">Прежде чем приступить к введению ограничений Самесите, когда файлы cookie были сохранены в браузере, они были подключены к *каждому* HTTP-запросу и отправляются на сервер с помощью заголовка HTTP-ответа Set-cookie.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-119">Before the introduction of SameSite restrictions, when cookies were stored on the browser, they were attached to *every* HTTP web request and sent to the server by the Set-Cookie HTTP response header.</span></span> <span data-ttu-id="e3c4f-120">Предсказуемо, это может привести к возникновению уязвимостей системы безопасности, таких как атаки на межсайтовые запросы (КСРФ).</span><span class="sxs-lookup"><span data-stu-id="e3c4f-120">Predictably, that performance had the potential to introduce security vulnerabilities such as Cross-Site Request Forgery (CSRF) attacks.</span></span> <span data-ttu-id="e3c4f-121">*Просмотрите* [файлы cookie HTTP](https://developer.mozilla.org/docs/Web/HTTP/Cookies).</span><span class="sxs-lookup"><span data-stu-id="e3c4f-121">*See* [HTTP cookies](https://developer.mozilla.org/docs/Web/HTTP/Cookies).</span></span> <span data-ttu-id="e3c4f-122">Компонент Самесите воспринимается с помощью его реализации и управления в заголовке Сеткукие.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-122">The SameSite component mitigated that exposure through its implementation and management in the SetCookie header.</span></span>

### <a name="samesite-attribute-initial-release"></a><span data-ttu-id="e3c4f-123">Атрибут Самесите: Initial Release</span><span class="sxs-lookup"><span data-stu-id="e3c4f-123">SameSite attribute: initial release</span></span>

<span data-ttu-id="e3c4f-124">В Google Chrome версии 51 появилась спецификация Сеткукие Самесите в качестве *необязательного* атрибута.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-124">Google Chrome version 51 introduced the SetCookie SameSite specification as an *optional* attribute.</span></span> <span data-ttu-id="e3c4f-125">Начиная с сборки 17672, Windows 10 предоставила поддержку Самесите cookie для [браузера Microsoft Edge](https://blogs.windows.com/msedgedev/2018/05/17/samesite-cookies-microsoft-edge-internet-explorer/).</span><span class="sxs-lookup"><span data-stu-id="e3c4f-125">Starting with Build 17672, Windows 10 introduced SameSite cookie support for the [Microsoft Edge browser](https://blogs.windows.com/msedgedev/2018/05/17/samesite-cookies-microsoft-edge-internet-explorer/).</span></span>

<span data-ttu-id="e3c4f-126">Разработчики могут отказаться от добавления атрибута Самесите cookie к заголовку Сеткукие или добавить его с одним из двух параметров: *нестрогая* и *строгая*.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-126">Developers could opt out of adding the SameSite cookie attribute to the SetCookie header or they could add it with one of two settings, *Lax* and *Strict*.</span></span> <span data-ttu-id="e3c4f-127">Нереализованный атрибут Самесите рассматривался как состояние по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-127">An unimplemented SameSite attribute was considered the default state.</span></span>

## <a name="samesite-cookie-attribute-2020-release"></a><span data-ttu-id="e3c4f-128">Атрибут Самесите cookie: выпуск 2020</span><span class="sxs-lookup"><span data-stu-id="e3c4f-128">SameSite cookie attribute: 2020 release</span></span>

<span data-ttu-id="e3c4f-129">Хром 80, запланированный для выпуска в феврале 2020, представляет новые значения файлов cookie и по умолчанию накладывает политики файлов cookie.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-129">Chrome 80, scheduled for release in February 2020, introduces new cookie values and imposes cookie policies by default.</span></span> <span data-ttu-id="e3c4f-130">В обновленный атрибут Самесите можно передать три значения: *строгий*, *нестрогий*или *None*.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-130">Three values can be passed into the updated SameSite attribute: *Strict*, *Lax*, or *None*.</span></span> <span data-ttu-id="e3c4f-131">Файлы cookie, для `SameSite=Lax`которых не указан атрибут самесите, по умолчанию будут иметь значение.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-131">Cookies that don't specify the SameSite attribute will default to `SameSite=Lax`.</span></span>

|<span data-ttu-id="e3c4f-132">Setting</span><span class="sxs-lookup"><span data-stu-id="e3c4f-132">Setting</span></span> | <span data-ttu-id="e3c4f-133">Принудительное применение</span><span class="sxs-lookup"><span data-stu-id="e3c4f-133">Enforcement</span></span> | <span data-ttu-id="e3c4f-134">Значение</span><span class="sxs-lookup"><span data-stu-id="e3c4f-134">Value</span></span> |<span data-ttu-id="e3c4f-135">Спецификация атрибута</span><span class="sxs-lookup"><span data-stu-id="e3c4f-135">Attribute Specification</span></span> |
| -------- | ----------- | --------|--------|
| <span data-ttu-id="e3c4f-136">**Низкий**</span><span class="sxs-lookup"><span data-stu-id="e3c4f-136">**Lax**</span></span>  | <span data-ttu-id="e3c4f-137">Файлы cookie будут отправляться автоматически только в контексте *первого разработчика* и с запросами HTTP GET.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-137">Cookies will be sent automatically only in a *first-party* context and with HTTP GET requests.</span></span> <span data-ttu-id="e3c4f-138">Файлы cookie Самесите будут храниться на подзапросах между сайтами, например вызовы для загрузки изображений или iframes, но будут отправлены, когда пользователь переходит по URL-адресу с внешнего сайта, например, после ссылки.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-138">SameSite cookies will be withheld on cross-site sub-requests, such as calls to load images or iframes, but will be sent when a user navigates to the URL from an external site, e.g., by following a link.</span></span>| <span data-ttu-id="e3c4f-139">**Default**</span><span class="sxs-lookup"><span data-stu-id="e3c4f-139">**Default**</span></span> |`Set-Cookie: key=value; SameSite=Lax`|
| <span data-ttu-id="e3c4f-140">**Жестк**</span><span class="sxs-lookup"><span data-stu-id="e3c4f-140">**Strict**</span></span> |<span data-ttu-id="e3c4f-141">Браузер будет отправлять файлы cookie только для запросов первого производителя (запросов, исходящих от сайта, на котором задан файл cookie).</span><span class="sxs-lookup"><span data-stu-id="e3c4f-141">The browser will only send cookies for first-party context requests (requests originating from the site that set the cookie).</span></span> <span data-ttu-id="e3c4f-142">Если получен запрос с URL-адреса, отличного от URL-адреса текущего расположения, то не будет отправлен ни один `Strict` из файлов cookie, помеченных атрибутом.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-142">If the request originated from a different URL than that of the current location, none of the cookies tagged with the `Strict` attribute will be sent.</span></span>| <span data-ttu-id="e3c4f-143">Необязательна</span><span class="sxs-lookup"><span data-stu-id="e3c4f-143">Optional</span></span> |`Set-Cookie: key=value; SameSite=Strict`|
| <span data-ttu-id="e3c4f-144">**Нет**</span><span class="sxs-lookup"><span data-stu-id="e3c4f-144">**None**</span></span> | <span data-ttu-id="e3c4f-145">Файлы cookie отправляются как в первом, так и в запросах между источниками; Однако значение должно быть явно задано, **`None`** а все запросы браузеров **должны следовать протоколу HTTPS** и включать атрибут **`Secure`** , для которого требуется зашифрованное подключение.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-145">Cookies will be sent in both first-party context and cross-origin requests; however, the value must be explicitly set to **`None`** and all browser requests **must follow the HTTPS protocol** and include the **`Secure`** attribute which requires an encrypted connection.</span></span> <span data-ttu-id="e3c4f-146">Файлы cookie, которые не соответствуют этому требованию, будут **отклонены**.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-146">Cookies that don't adhere to that requirement will be **rejected**.</span></span> <br/><span data-ttu-id="e3c4f-147">**Оба атрибута являются обязательными**.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-147">**Both attributes are required together**.</span></span> <span data-ttu-id="e3c4f-148">**`None`** Если он указан без **`Secure`** или не используется протокол HTTPS, файл cookie стороннего производителя будет отклонен.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-148">If just **`None`** is specified without **`Secure`**  or if the HTTPS protocol is not used, the third-party cookie will be rejected.</span></span>| <span data-ttu-id="e3c4f-149">Необязательный параметр, но если он установлен, то протокол HTTPS является обязательным.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-149">Optional, but, if set, the HTTPS protocol is required.</span></span> |`Set-Cookie: key=value; SameSite=None; Secure` |

## <a name="handling-incompatible-clients"></a><span data-ttu-id="e3c4f-150">Обработка несовместимых клиентов</span><span class="sxs-lookup"><span data-stu-id="e3c4f-150">Handling incompatible clients</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e3c4f-151">`SameSite=None` В настоящее время не поддерживается [**клиентскими рабочими столами**](/aspnet/core/security/samesite?view=aspnetcore-3.1#test-with-electron) и более старыми версиями Chrome или Safari.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-151">Currently, `SameSite=None`  is not supported by the [**Teams desktop client**](/aspnet/core/security/samesite?view=aspnetcore-3.1#test-with-electron) or older versions of Chrome or Safari.</span></span> <span data-ttu-id="e3c4f-152">*Просмотр* [известных несовместимых клиентов]( https://www.chromium.org/updates/same-site/incompatible-clients).</span><span class="sxs-lookup"><span data-stu-id="e3c4f-152">*See* [Known Incompatible Clients]( https://www.chromium.org/updates/same-site/incompatible-clients).</span></span>
><span data-ttu-id="e3c4f-153">Однако существует два **обходных решения**:</span><span class="sxs-lookup"><span data-stu-id="e3c4f-153">However, there are two **workaround solutions**:</span></span>
>
>1. <span data-ttu-id="e3c4f-154">Проверьте пользовательский агент, чтобы предоставить правильное свойство Самесите.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-154">Check the user-agent in order to provide the correct SameSite property.</span></span> <span data-ttu-id="e3c4f-155">Вы можете реализовать проверку агента пользователя в [**C#**](https://devblogs.microsoft.com/aspnet/upcoming-samesite-cookie-changes-in-asp-net-and-asp-net-core/) и [**node. js**](https://web.dev/samesite-cookie-recipes/).</span><span class="sxs-lookup"><span data-stu-id="e3c4f-155">You can implement the user-agent check in [**C#**](https://devblogs.microsoft.com/aspnet/upcoming-samesite-cookie-changes-in-asp-net-and-asp-net-core/) and [**Node.js**](https://web.dev/samesite-cookie-recipes/).</span></span>
>2. <span data-ttu-id="e3c4f-156">Настройте атрибуты файлов cookie, используя новые и старые модели.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-156">Set your cookie attributes using both the new and old models.</span></span> <span data-ttu-id="e3c4f-157">*Ознакомьтесь* с [разработкой несовместимых клиентов](https://web.dev/samesite-cookie-recipes/#handling-incompatible-clients)</span><span class="sxs-lookup"><span data-stu-id="e3c4f-157">*See* [Handling incompatible clients](https://web.dev/samesite-cookie-recipes/#handling-incompatible-clients)</span></span><br><br>
><span data-ttu-id="e3c4f-158">**Если ваше приложение запущено в настольном клиенте Teams, а атрибут Самесите имеет `SameSite=None` значение, ваше приложение не будет работать должным образом.**</span><span class="sxs-lookup"><span data-stu-id="e3c4f-158">**If your app is running in the Teams desktop client, and you set the SameSite attribute to `SameSite=None` , your app will not work as expected.**</span></span>

<span data-ttu-id="e3c4f-159">Любой из этих подходов гарантирует, что приложение будет работать правильно при обновлении клиента для настольных компьютеров Teams до `SameSite=None` совместимой версии чромиум.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-159">Using either approach will ensure that your application continues to work properly when the Teams desktop client is upgraded to a `SameSite=None`   compatible version of  Chromium.</span></span>

## <a name="teams-implications-and-adjustments"></a><span data-ttu-id="e3c4f-160">Влияние и корректировки Teams</span><span class="sxs-lookup"><span data-stu-id="e3c4f-160">Teams implications and adjustments</span></span>

>[!WARNING]
><span data-ttu-id="e3c4f-161">**Приложения, работающие на настольном клиенте Teams `SameSite=None` , несовместимы с атрибутом и не будут работать должным образом.**</span><span class="sxs-lookup"><span data-stu-id="e3c4f-161">**Applications running in the Teams desktop client are incompatible with the `SameSite=None`  attribute, and  they will not work as expected.**</span></span> <span data-ttu-id="e3c4f-162">Ознакомьтесь **с решением,** описанным выше.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-162">Please see the **workaround solutions**, above.</span></span>

1. <span data-ttu-id="e3c4f-163">Включите подходящий параметр Самесите для файлов cookie и убедитесь, что ваши приложения и расширения продолжают работать в Teams.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-163">Enable the relevant SameSite setting for your cookies and validate that your apps and extensions continue to work in Teams.</span></span>
1. <span data-ttu-id="e3c4f-164">Если произошел отказ ваших приложений или расширений, выполните необходимые исправления перед выпуском Chrome 80.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-164">If your apps or extensions fail, make the necessary fixes prior to the Chrome 80 release.</span></span>
1. <span data-ttu-id="e3c4f-165">Внутренние партнеры корпорации Майкрософт могут присоединиться к следующей команде, если им нужна дополнительная информация или Справка <https://teams.microsoft.com/l/team/19%3A08b594cd465e4c0491fb751e823802e2%40thread.skype/conversations?groupId=4d6d04cd-dbf0-43c8-a2ff-f80dd38be034&tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47>по этой причине:.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-165">Microsoft internal partners can join the following team if they need more information or help with this issue: <https://teams.microsoft.com/l/team/19%3A08b594cd465e4c0491fb751e823802e2%40thread.skype/conversations?groupId=4d6d04cd-dbf0-43c8-a2ff-f80dd38be034&tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47>.</span></span>

> [!NOTE]
> <span data-ttu-id="e3c4f-166">Рекомендуется всегда устанавливать атрибуты Самесите, чтобы отражать предполагаемое использование файлов cookie, не полагайтесь на поведение браузера по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-166">For best practice, it's recommended that you always set SameSite attributes to reflect the intended use for your cookies — don't rely on default browser behavior.</span></span> <span data-ttu-id="e3c4f-167">*Сведения* [о разработчиках: подготовка к созданию нового самесите = None; Защита параметров файлов cookie](https://blog.chromium.org/2019/10/developers-get-ready-for-new.html).</span><span class="sxs-lookup"><span data-stu-id="e3c4f-167">*See* [Developers: Get Ready for New SameSite=None; Secure Cookie Settings](https://blog.chromium.org/2019/10/developers-get-ready-for-new.html).</span></span>

### <a name="tabs-task-modules-and-message-extensions"></a><span data-ttu-id="e3c4f-168">Вкладки, модули задач и расширения сообщений</span><span class="sxs-lookup"><span data-stu-id="e3c4f-168">Tabs, task modules, and message extensions</span></span>

* <span data-ttu-id="e3c4f-169">Вкладки Teams `<iframes>` используются для внедрения содержимого, которое просматривается в контексте верхнего уровня или первого производителя.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-169">Teams tabs use `<iframes>` to embed content that is viewed in a top-level or first-party context.</span></span>
* <span data-ttu-id="e3c4f-170">Модули задач позволяют создавать Модальные всплывающие окна в приложении Teams.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-170">Task modules allow you to create modal popup experiences in your Teams application.</span></span> <span data-ttu-id="e3c4f-171">Как и на вкладке, в текущей странице открывается модальное окно.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-171">Similar to a tab, a modal window opens inside the current page.</span></span>
* <span data-ttu-id="e3c4f-172">Расширения сообщений позволяют вставлять обогащенные материалы в сообщения чата из внешних ресурсов.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-172">Message extensions allow you to insert enriched content into chat message from external resources.</span></span>

<span data-ttu-id="e3c4f-173">Все файлы cookie, используемые внедренным контентом, будут считаться сторонним поставщиком, когда сайт отображается `<iframe>`в.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-173">Any cookies used by embedded content will be considered third-party when the site is displayed in an `<iframe>`.</span></span> <span data-ttu-id="e3c4f-174">Кроме того, если на странице есть удаленные ресурсы, которые отправляются с помощью запросов (например, `<img>` `<script>` тегов, внешних шрифтов и персональных контента), необходимо убедиться в том, что они помечены для использования на нескольких сайтах — `SameSite=None; Secure` или убедиться, что резервный вариант установлен.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-174">In addition, if any remote resources on a page rely on cookies being sent with a request (e.g., `<img>` and `<script>` tags, external fonts, and personalized content) you'll need to ensure those are marked for cross-site usage — `SameSite=None; Secure` — or ensure that a fallback is in place.</span></span>

### <a name="authentication"></a><span data-ttu-id="e3c4f-175">Проверка подлинности</span><span class="sxs-lookup"><span data-stu-id="e3c4f-175">Authentication</span></span>

* <span data-ttu-id="e3c4f-176">Если для внедренных страниц содержимого на вкладках требуется проверка подлинности, необходимо использовать веб-процесс проверки подлинности на основе веб-сайта.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-176">If you require authentication for embedded content pages in tabs, you'll need to use the web-based authentication flow.</span></span>
* <span data-ttu-id="e3c4f-177">Веб-процесс проверки подлинности также можно использовать для страницы конфигурации, модуля задачи или расширения обмена сообщениями.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-177">A web-based authentication flow can also be used for a configuration page, task module, or messaging extension.</span></span>
* <span data-ttu-id="e3c4f-178">Вы можете использовать процесс проверки подлинности на основе веб-сайта для диалогового окна "робот", вам потребуется использовать модуль задачи.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-178">You can use  a web-based authentication flow for a conversational bot you'll need to use a task module.</span></span>

<span data-ttu-id="e3c4f-179">В соответствии с обновленными ограничениями Самесите браузер не добавляет файл cookie на веб-сайт, на котором уже выполнена проверка подлинности, если эта ссылка является производной от внешнего сайта.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-179">Pursuant to the updated SameSite restrictions, a browser will not add a cookie to an already authenticated web site if the link derives from an external site.</span></span> <span data-ttu-id="e3c4f-180">Необходимо убедиться, что файлы cookie для проверки подлинности отмечены для использования на `SameSite=None; Secure` нескольких сайтах — или убедиться, что резервный сервер установлен.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-180">You'll need to ensure your authentication cookies are marked for cross-site usage — `SameSite=None; Secure` — or ensure that a fallback is in place.</span></span>

### <a name="android-system-webview"></a><span data-ttu-id="e3c4f-181">Система Вебвиев системы Android</span><span class="sxs-lookup"><span data-stu-id="e3c4f-181">Android System WebView</span></span>

<span data-ttu-id="e3c4f-182">Android Вебвиев это компонент системы Chrome, позволяющий приложениям Android отображать веб-контент.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-182">Android WebView is a Chrome system component that allows Android apps to display web content.</span></span> <span data-ttu-id="e3c4f-183">В то время как новые ограничения станут значением по умолчанию, начиная с Chrome 80, они не будут немедленно применены к представлениям в Интернете.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-183">While the new restrictions will become the default, starting with Chrome 80, they will not be immediately enforced on WebViews.</span></span> <span data-ttu-id="e3c4f-184">Они будут применены в будущем.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-184">They will be applied in the future.</span></span> <span data-ttu-id="e3c4f-185">Чтобы подготовить, Android позволяет встроенным приложениям задавать файлы cookie непосредственно через [API кукеманажер](https://developer.android.com/reference/android/webkit/CookieManager):</span><span class="sxs-lookup"><span data-stu-id="e3c4f-185">To prepare, Android allows native apps to set cookies directly via the [CookeManager API](https://developer.android.com/reference/android/webkit/CookieManager):</span></span>

* <span data-ttu-id="e3c4f-186">Для файлов cookie, которые необходимы только в первом контексте, их необходимо объявить как `SameSite=Lax` или `SameSite=Strict`(при необходимости).</span><span class="sxs-lookup"><span data-stu-id="e3c4f-186">For cookies that are only needed in a first-party context, you should declare them as `SameSite=Lax` or `SameSite=Strict`, as appropriate.</span></span>
* <span data-ttu-id="e3c4f-187">Для файлов cookie, необходимых для стороннего контекста, необходимо убедиться, что они объявлены как `SameSite=None; Secure`.</span><span class="sxs-lookup"><span data-stu-id="e3c4f-187">For cookies needed in a third-party context, you should ensure that they are declared as `SameSite=None; Secure`.</span></span>

## <a name="learn-more"></a><span data-ttu-id="e3c4f-188">Дополнительные сведения</span><span class="sxs-lookup"><span data-stu-id="e3c4f-188">Learn more</span></span>

[<span data-ttu-id="e3c4f-189">Примеры Самесите</span><span class="sxs-lookup"><span data-stu-id="e3c4f-189">SameSite examples</span></span>](https://github.com/GoogleChromeLabs/samesite-examples)

[<span data-ttu-id="e3c4f-190">Рецепты для файлов cookie Самесите</span><span class="sxs-lookup"><span data-stu-id="e3c4f-190">SameSite cookie recipes</span></span>](https://web.dev/samesite-cookie-recipes/)

[<span data-ttu-id="e3c4f-191">Известные несовместимые клиенты</span><span class="sxs-lookup"><span data-stu-id="e3c4f-191">Known Incompatible Clients</span></span>]( https://www.chromium.org/updates/same-site/incompatible-clients)

[<span data-ttu-id="e3c4f-192">Разработчики: Подготовьтесь к использованию нового Самесите = None; Параметры безопасного файла cookie</span><span class="sxs-lookup"><span data-stu-id="e3c4f-192">Developers: Get Ready for New SameSite=None; Secure Cookie Settings</span></span>](https://blog.chromium.org/2019/10/developers-get-ready-for-new.html)

<span data-ttu-id="e3c4f-193">**Влияние подключения OpenId**</span><span class="sxs-lookup"><span data-stu-id="e3c4f-193">**OpenId Connect impact**</span></span><br>
[<span data-ttu-id="e3c4f-194">Предстоящие изменения файлов cookie Самесите в ядре ASP.NET и ASP.NET</span><span class="sxs-lookup"><span data-stu-id="e3c4f-194">Upcoming SameSite Cookie Changes in ASP.NET and ASP.NET Core</span></span>](https://devblogs.microsoft.com/aspnet/upcoming-samesite-cookie-changes-in-asp-net-and-asp-net-core/)
