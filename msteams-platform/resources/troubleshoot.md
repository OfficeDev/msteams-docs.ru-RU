---
title: Устранение неполадок в приложении
description: Устранение неполадок или ошибок при создании приложений для Microsoft Teams
keywords: устранение неполадок в разработке команд приложений
localization_priority: Normal
ms.topic: troubleshooting
ms.date: 07/09/2018
ms.openlocfilehash: ce45a75869e8b6694cd84c10f8fac1f9bd55bad4
ms.sourcegitcommit: 825abed2f8784d2bab7407ba7a4455ae17bbd28f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/26/2021
ms.locfileid: "52020431"
---
# <a name="troubleshoot-your-microsoft-teams-app"></a>Устранение неполадок Microsoft Teams приложения

## <a name="troubleshooting-tabs"></a>Вкладки устранения неполадок

### <a name="accessing-the-devtools"></a>Доступ к DevTools

Вы можете открыть [DevTools](~/tabs/how-to/developer-tools.md) в клиенте Teams для аналогичного опыта, как нажатие F12 (на Windows) или Command-Option-I (на MacOS) в браузере.

### <a name="blank-tab-screen"></a>Пустой экран вкладки

Если вы не видите контент в представлении вкладки, это может быть:

* содержимое не может отображаться в `<iframe>` .
* домен контента не находится в [списке validDomains](~/resources/schema/manifest-schema.md#validdomains) в манифесте.

### <a name="the-save-button-isnt-enabled-on-the-settings-dialog"></a>Кнопка Сохранить не включена в диалоговом окантове параметров

Не забудьте позвонить, если пользователь вошел или выбрал все необходимые данные на странице параметры, чтобы включить `microsoftTeams.settings.setValidityState(true)` кнопку сохранить.

### <a name="after-selecting-the-save-button-the-tab-settings-cannot-be-saved"></a>После выбора кнопки Сохранить параметры вкладки не удается сохранить.

При добавлении вкладки, если вы нажмете кнопки сохранить, но вам будет представлено сообщение об ошибке, указывающее, что параметры не могут быть сохранены, проблема может быть одной из двух классов проблем:

* Сообщение о сохранения успеха так и не было получено. Если обработник сохранения был зарегистрирован с помощью, необходимо `microsoftTeams.settings.registerOnSaveHandler(handler)` вызвать `saveEvent.notifySuccess()` вызов. Если вызов не вызывается в течение 30 секунд или вместо этого вызывается, эта ошибка `saveEvent.notifyFailure(reason)` будет показана.

* Если обработник сохранения не зарегистрирован, вызов автоматически делается сразу после выбора кнопки `saveEvent.notifySuccess()` сохранить.

* Предоставленные параметры были недействительными. Другая причина, по которой параметры не могут быть сохранены, состоит в том, если вызов предоставил объект недействительных параметров или вызов не был выполнен `microsoftTeams.setSettings(settings)` вообще. См. в следующем разделе Общие проблемы с объектом параметров.

### <a name="common-problems-with-the-settings-object"></a>Общие проблемы с объектом параметров

* `settings.entityId` отсутствует. Это поле является обязательным.
* `settings.contentUrl` отсутствует. Это поле является обязательным.
* `settings.contentUrl` или `settings.removeUrl` необязательный или `settings.websiteUrl` предоставляется, но не является допустимым. URL-адреса должны использовать HTTPS, а также должны быть тем же доменом, что и страница параметров, или указаны в списке `validDomains` манифеста.

### <a name="cant-authenticate-the-user-or-display-your-auth-provider-in-your-tab"></a>Не может проверить подлинность пользователя или отобразить поставщика auth на вкладке

Если вы не делаете бесшумную проверку подлинности, необходимо следовать процессу проверки подлинности, предоставляемому клиентом [Microsoft Teams JavaScript.](/javascript/api/overview/msteams-client.md)

> [!NOTE]
>Мы требуем, чтобы весь поток проверки подлинности начался и заканчивается в домене, который должен быть указан в `validDomains` объекте в манифесте.

Дополнительные сведения о проверке подлинности см. в дополнительных сведениях о [проверке подлинности пользователя.](~/concepts/authentication/authentication.md)

### <a name="static-tabs-not-showing-up"></a>Не отображаются статические вкладки

Существует известная проблема, когда обновление существующего приложения-бота с помощью новой или обновленной статической вкладки не будет показывать изменение вкладки при доступе к приложению из личного чата.  Чтобы увидеть изменение, необходимо протестировать новый пользователь или тестовый экземпляр или получить доступ к боту из флайка Apps.

## <a name="troubleshooting-bots"></a>Устранение неполадок ботов

### <a name="cant-add-my-bot"></a>Не могу добавить бот

Приложения должны быть включены администратором Office 365 для загрузки конечными пользователями. Обратите внимание, что в некоторых случаях Office 365 клиент может иметь несколько skUs, связанных с ним, и для работы ботов в любом случае они должны быть включены во всех skUs. Дополнительные сведения [см. в Office 365 клиента.](~/concepts/build-and-test/prepare-your-o365-tenant.md)

### <a name="cant-add-bot-as-a-member-of-a-team"></a>Не может добавить бота в качестве члена команды

Сначала боты должны быть загружены в команду, прежде чем они будут доступны в любом канале этой группы. Дополнительные [сведения об](~/concepts/deploy-and-publish/apps-upload.md) этом процессе можно получить в группе.

### <a name="my-bot-doesnt-get-my-message-in-a-channel"></a>Мой бот не получит мое сообщение в канале

Боты в каналах получают сообщения только при явном @mentioned, даже если вы отвечаете на предыдущее сообщение бота. Единственным исключением, в котором имя бота в сообщении может не быть, является получение ботом действия в результате отправленного изначально `imBack` cardAction.

### <a name="my-bot-doesnt-understand-my-commands-when-in-a-channel"></a>Мой бот не понимает мои команды, когда в канале

Так как боты в каналах получают сообщения только при @mentioned, все сообщения, которые ваш бот получает в канале, включают @mention в текстовом поле. Перед передачей в логику размыкания лучше всего отобрать само имя бота из всех входящих текстовых сообщений. Просмотрите [упоминания](../bots/how-to/conversations/channel-and-group-conversations.md#work-with-mentions) о том, как обращаться с этим случаем.

## <a name="issues-with-packaging-and-uploading"></a>Проблемы с упаковкой и загрузкой

### <a name="error-while-reading-manifestjson"></a>Ошибка при чтении manifest.js

Большинство ошибок манифеста дают подсказку о том, какое конкретное поле отсутствует или является недействительным. Однако если файл JSON не может быть прочитан как JSON вообще, используется это общее сообщение об ошибке.

Распространенные причины ошибок чтения манифеста:

* Недействительный JSON. Используйте такой IDE, как [Visual Studio Code](https://code.visualstudio.com) [или Visual Studio,](https://www.visualstudio.com/vs/) который автоматически проверяет синтаксис JSON.
* Проблемы с кодией. Используйте UTF-8 дляmanifest.js *файла.* Другие коды, в частности с boM, могут быть недоступны для чтения.
* Неправильное .zip пакет. Файл *manifest.js* должен быть на верхнем уровне .zip файла. Обратите внимание, что сжатие файлов Mac по умолчанию можетmanifest.jsв подтексто, который не будет правильно загружаться в Microsoft Teams. 

### <a name="another-extension-with-same-id-exists"></a>Существует еще одно расширение с тем же ИД

При попытке повторной загрузки обновленного пакета с тем же ИД выберите значок **Replace** в конце строки таблицы вкладки, а не кнопку **Upload.**

Если обновленный пакет не загружается повторно, убедитесь, что ID является уникальным.
