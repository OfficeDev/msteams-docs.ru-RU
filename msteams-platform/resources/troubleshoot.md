---
title: Устранение неполадок в приложении
description: Устранение проблем и ошибок при создании приложений для Microsoft Teams
keywords: Устранение неполадок при разработке приложений Teams
ms.date: 07/09/2018
ms.openlocfilehash: f7fe42e7c1f3ff2c4d8d1cbe81ed8f71e6c04384
ms.sourcegitcommit: 4329a94918263c85d6c65ff401f571556b80307b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/01/2020
ms.locfileid: "41675189"
---
# <a name="troubleshoot-your-microsoft-teams-app"></a>Устранение неполадок в приложении Microsoft Teams

## <a name="troubleshooting-tabs"></a>Вкладки устранения неполадок

### <a name="accessing-the-devtools"></a>Доступ к Девтулс

Вы можете открыть [девтулс в клиенте Teams](~/tabs/how-to/developer-tools.md) для аналогичной функции, нажав клавишу F12 (в Windows) или Command-Option-I (on MacOS) в браузере.

### <a name="blank-tab-screen"></a>Экран пустой вкладки

Если вы не видите контент в представлении вкладок, может быть:

* контент не может быть отображен в файле `<iframe>`.
* домен контента не входит в список [валиддомаинс](~/resources/schema/manifest-schema.md#validdomains) в манифесте.

### <a name="the-save-button-isnt-enabled-on-the-settings-dialog"></a>Кнопка "Сохранить" недоступна в диалоговом окне "Параметры"

Обязательно звоните `microsoftTeams.settings.setValidityState(true)` , когда пользователь настроил ввод или выбрал все необходимые данные на странице параметров, чтобы включить кнопку Сохранить.

### <a name="after-selecting-the-save-button-the-tab-settings-cannot-be-saved"></a>После нажатия кнопки сохранить параметры вкладки невозможно сохранить

Если при добавлении вкладки нажать кнопку Сохранить, но отображается сообщение об ошибке с указанием на то, что параметры не могут быть сохранены, проблема может быть одним из двух классов проблем:

* Сообщение о сохранении успешности не было получено. Если обработчик сохранения зарегистрирован с помощью `microsoftTeams.settings.registerOnSaveHandler(handler)`, обратный вызов должен вызываться `saveEvent.notifySuccess()`. Если обратный вызов не вызывает его в течение 30 секунд или `saveEvent.notifyFailure(reason)` вызовов, отображается эта ошибка.

* Если обработчик сохранения не зарегистрирован, `saveEvent.notifySuccess()` вызов автоматически выполняется сразу после нажатия кнопки Сохранить.

* Указаны недопустимые параметры. Другая причина, по которой эти параметры могут не сохраняться, заключается в `microsoftTeams.setSettings(settings)` том, что вызов предоставил недопустимый объект параметров, или вызов не был выполнен вообще. В следующем разделе представлены распространенные проблемы с объектом Settings.

### <a name="common-problems-with-the-settings-object"></a>Распространенные проблемы с объектом Settings

* `settings.entityId`отсутствует. Это поле является обязательным.
* `settings.contentUrl`отсутствует. Это поле является обязательным.
* `settings.contentUrl`необязательные `settings.removeUrl`или необязательные или `settings.websiteUrl` предоставленные, но недопустимые. URL-адреса должны использовать HTTPS, а также должны быть того же домена, что и на странице параметров или в `validDomains` списке манифеста.

### <a name="cant-authenticate-the-user-or-display-your-auth-provider-in-your-tab"></a>Не удается проверить подлинность пользователя или отобразить поставщика проверки подлинности на вкладке

Если вы не выполняете автоматическую проверку подлинности, необходимо соблюдать процесс проверки подлинности, предоставляемый [клиентским пакетом SDK для Microsoft Teams JavaScript](/javascript/api/overview/msteams-client.md).

> [!NOTE]
>Необходимо, чтобы весь процесс проверки подлинности был запущен и завершен для вашего домена, который должен `validDomains` быть указан в объекте в манифесте.

Для получения дополнительных сведений о проверке подлинности обратитесь к разделу Проверка [подлинности пользователя](~/concepts/authentication/authentication.md).

### <a name="static-tabs-not-showing-up"></a>Не отображаются статические вкладки

Существует известная ошибка, из-за которой при обновлении существующего приложения-робота с помощью новой или обновленной статической вкладки не будет показано изменение вкладки при доступе к приложению из беседы личного чата.  Чтобы просмотреть изменения, необходимо проверить нового пользователя или тестового экземпляра или получить доступ к Bot из всплывающего меню приложения.

## <a name="troubleshooting-bots"></a>Устранение неполадок Боты

### <a name="cant-add-my-bot"></a>Не удается добавить мой Bot

Приложения должны быть включены администратором клиента Office 365, чтобы они загружались конечными пользователями. Обратите внимание, что в некоторых случаях у клиента Office 365 может быть связано несколько номеров SKU, и для работы боты в любом случае он должен быть включен во всех SKU. Более подробную информацию можно найти [в статье Подготовка клиента Office 365](~/concepts/build-and-test/prepare-your-o365-tenant.md) .

### <a name="cant-add-bot-as-a-member-of-a-team"></a>Не удается добавить Bot в качестве участника команды

Сначала необходимо отправить боты в команду, чтобы она была доступна в любом канале этой команды. Изучите [отправку своего приложения в команду, чтобы](~/concepts/deploy-and-publish/apps-upload.md) получить дополнительные сведения об этом процессе.

### <a name="my-bot-doesnt-get-my-message-in-a-channel"></a>Мой робот не получает сообщение в канале

Боты в каналах получают сообщения только в том случае, если они явно @mentioned, даже если вы отвечаете на предыдущее сообщение Bot. Единственное исключение, в котором имя Bot может отсутствовать в сообщении, состоит в том, что Bot получает `imBack` действие в результате кардактион.

### <a name="my-bot-doesnt-understand-my-commands-when-in-a-channel"></a>Мой Bot не распознает команды в канале

Так как боты в каналах получают сообщения, только когда они @mentioned, все сообщения, которые поступают в канале от канала почтовых роботов, включают @mention в текстовое поле. Рекомендуется извлекать само имя Bot из всех входящих текстовых сообщений, прежде чем передавать логику синтаксического анализа. Просмотрите [упоминания](~/bots/how-to/conversations/channel-and-group-conversations.md#working-with--mentions) , чтобы узнать, как справиться с этим обращением.

## <a name="issues-with-packaging-and-uploading"></a>Проблемы с упаковкой и отправкой

### <a name="error-while-reading-manifestjson"></a>Ошибка при чтении манифеста. JSON

Большинство ошибок манифеста содержит подсказку о том, что конкретное поле отсутствует или не является допустимым. Тем не менее, если JSON-файл не может быть прочитан как JSON вообще, используется это общее сообщение об ошибке.

Распространенные причины ошибок чтения манифеста:

* Недопустимый формат JSON. Используйте IDE, например [Visual Studio Code](https://code.visualstudio.com) или [Visual Studio](https://www.visualstudio.com/vs/) , которая автоматически проверяет синтаксис JSON.
* Проблемы кодирования. Используйте кодировку UTF – 8 для файла *manifest. JSON* . Другие кодировки, в частности, с КОМПЛЕКТом, могут быть недоступны для чтения.
* Неправильно сформированный ZIP-пакет. Файл *manifest. JSON* должен находиться на верхнем уровне ZIP-файла. Обратите внимание на то, что сжатие файлов Mac по умолчанию может поместить файл *manifest. JSON* в подкаталог, который не будет загружаться должным образом в Microsoft Teams.

### <a name="another-extension-with-same-id-exists"></a>Существует другой добавочный номер с таким же идентификатором

Если вы пытаетесь повторно отправить обновленный пакет с тем же ИДЕНТИФИКАТОРом, выберите значок **заменить** в конце строки таблицы вкладки, а не кнопку **Отправить** .

Если вы не отправляете обновленный пакет повторно, убедитесь, что этот идентификатор уникален.
