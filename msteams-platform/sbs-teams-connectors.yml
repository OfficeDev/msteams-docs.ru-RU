### YamlMime:Tutorial
title: Создание соединителей Teams
metadata:
  title: Создание соединителей Teams
  description: В этом учебном модуле вы узнаете, как настроить и проверить соединитель для приложения Microsoft Teams.
  audience: Developer
  level: Beginner
  ms.date: 02/14/2022
  ms.topic: interactive-tutorial
  nextTutorialHref: webhooks-and-connectors/how-to/connectors-creating.md
  nextTutorialTitle: Дополнительные сведения о веб-перехватчиках и соединителях
  ms.custom: mvc
  ms.localizationpriority: none
  ms.openlocfilehash: c9a3eb17be0c7955e7b2e15bc37062d7ab8b7acb
  ms.sourcegitcommit: 42602e8ec917f5033c0b6a95cf65b428db3c5b0a
  ms.translationtype: MT
  ms.contentlocale: ru-RU
  ms.lasthandoff: 08/09/2022
  ms.locfileid: "67285994"
items:
- durationInMinutes: 1
  content: "Соединитель Microsoft Teams — это пример приложения для управления задачами Model-View-Controller (MVC), который создается с ASP.NET веб-приложения. Большая часть кода связана с базовой конфигурацией MVC или системой управления задачами. Вы можете добавить существующий Office 365 connector или создать новый в Teams.\n\n**Типы кодов соединителей**\n\n  * **ConnectorController.cs**: настройка и сохранение действий.\n  * **TaskController.cs**: создание и обновление действий.\n  \n**Основные функции соединителя Microsoft Teams**\n\n  * Имитирует реальную систему управления задачами.\n  * Позволяет пользователям создавать и просматривать задачи.\n  * Создает содержимое случайным образом. \n  * Имитирует уведомление, отправляемое в канал Microsoft Teams. \n\nЭто пошаговое руководство поможет вам создать и проверить соединитель в Microsoft Teams. Вы увидите следующие выходные данные:\n   \n:::image type=\"content\" source=\"../msteams-platform/assets/images/sbs-meetings-stage-view/mobile.png\" alt-text=\"вводный образ\":::\n   \n"
- title: Предварительные требования
  durationInMinutes: 1
  content: "Установите следующие средства и настройте среду разработки: \n\n* [Microsoft Teams с](https://teams.microsoft.com/) действительной учетной записью\n* [Последняя версия Visual Studio](https://visualstudio.microsoft.com/downloads/)\n* [Последняя версия ngrok](https://ngrok.com/download) (только для тестирования devbox) или любое эквивалентное решение для туннелирования\n\n  > [!NOTE]\n  > После скачивания ngrok зарегистрируйтесь и установите [authtoken](https://ngrok.com/download).\n"
- title: Настройка локальной среды
  durationInMinutes: 1
  content: "\n1. Откройте [примеры Microsoft Teams](https://github.com/OfficeDev/Microsoft-Teams-Samples).\n1. Выберите **\"Код\"**.\n1. В раскрывающемся меню выберите \" **Открыть с помощью GitHub Desktop\"**.\n\n   :::image type=\"content\" source=\"../msteams-platform/assets/images/sbs-meetings-stage-view/clone-repository.png\" alt-text=\"клонирование репозитория\":::\n\n1. Выберите **\"Клонировать\"**. \n"
- title: Включение предварительной версии для разработчиков
  durationInMinutes: 1
  content: "\n1. Включите отправку приложений в консоли администрирования клиента.\n    1. Войдите в [Центр администрирования Microsoft 365](https://admin.microsoft.com/Adminportal/Home?source=applauncher#/homepage#/) со своими учетными данными администратора.\n    1. На панели слева выберите \" **Показать все\"**.\n    1. Выберите **Teams**.\n\n       :::image type=\"content\" source=\"./assets/images/meeting-token-generator/meeting-token-generator-admincenter.png\" alt-text=\"Меню центра администрирования\":::\n\n1.  На панели слева выберите приложения **Teams**.\n   \n1.  Выберите **политики установки**.\n\n       :::image type=\"content\" source=\"~/assets/images/meeting-token-generator/meeting-token-generator-setuppolicies.png\" alt-text=\"Политики установки\":::\n\n1.  Выберите **\"Глобальный\"**.\n\n      ![Глобальные](~/assets/images/sbs-connector/Global.png)\n\n1.   Переключите **отправку пользовательских приложений в** **положение \"В положение \"В положение** \".\n\n      :::image type=\"content\" source=\"~/assets/images/meeting-token-generator/meeting-token-generator-toggleOn.png\" alt-text=\"Включить переключатель\":::\n\n1.   Нажмите кнопку **Сохранить**.\n   \n      Тестовый клиент может разрешить загрузку неопубликованных приложений.\n\n      > [!TIP]\n      > Загрузка неопубликованных приложений занимает некоторое время.\n\n1.   Перейдите в **Microsoft Teams**.\n\n1.   В правом верхнем углу интерфейса Teams выберите `...`.\n\n1.   Нажмите кнопку **О программе**.\n\n1.   Выберите \" **Предварительная версия для разработчиков\"**.\n\n      :::image type=\"content\" source=\"~/assets/images/meeting-token-generator/meeting-token-generator-devpreview.png\" alt-text=\"Предварительная версия для разработчиков\":::\n\n1.   Выберите **\"Переключиться на предварительную версию разработчика\"**.\n"
- title: Настройка соединителя
  durationInMinutes: 1
  content: "\n1. Перейдите **на сайт TeamsToDoAppconnector.sln** в клонированном репозитории.\n\n   ![путь sln](~/assets/images/sbs-connector/sln.png)\n\n2. Используйте ngrok или командную строку для создания туннеля к общедоступным конечным точкам HTTPS локального веб-сервера. Выполните следующую команду в ngrok:\n\n    ```bash\n    ngrok http --host-header=localhost 3978\n    ``` \n   > [!TIP]\n   > При **обнаружении ERR_NGROK_4018** выполните действия, как показано в командной строке для регистрации и проверки подлинности ngrok. Затем выполните команду `ngrok http --host-header=localhost 3978` .\n\n   ![путь ngrok](~/assets/images/sbs-connector/ngrok1.png)\n\n3. Перейдите на [портал разработчика соединителя](https://outlook.office.com/connectors/publish).\n4. Выберите **Новый соединитель**.\n \n   ![Добавление нового соединителя](~/assets/images/sbs-connector/connector.png)\n  \n5. Введите следующие сведения, чтобы зарегистрировать новый соединитель:\n\n   * Имя соединителя\n   * Логотип\n   * Краткое описание приложения (не более 10 слов)\n   * Подробное описание действий соединителя (3–5 предложений)\n   * Веб-сайт компании\n   * Страница конфигурации соединителя как `https://[BASE_URI]/connector/setup`\n   * Допустимый домен как `https Base URL`\n   * Выберите **\"Да** \", чтобы включить действие на карточке соединителя\n   * URL-адрес действий как `https://[BASE_URI]/Task/Update`\n   * Выберите **\"Я принимаю условия соглашения разработчика приложений\"**\n   * Нажмите кнопку **Сохранить**.\n\n   ![Основные сведения](~/assets/images/sbs-connector/basicdetails.png)\n\n   Вы успешно зарегистрировали новый соединитель. Появится окно с зарегистрированным идентификатором соединителя.\n\n   ![Экран вывода](~/assets/images/sbs-connector/output.png)\n  \n   > [!TIP]\n   > Сохраните идентификатор соединителя для дальнейшего использования.\n\n6. Выберите **файл TeamsToDoAppConnector.csproj** из **папки TeamsToDoAppConnector**.\n\n   ![Путь навигации](~/assets/images/sbs-connector/web.png) \n\n7. Откройте в Visual Studio. \n\n8. Замените переменную `configuration.appSettings.BaseUrl` на `ngrok https forwarding url`.\n   \n   ![Манифест параметров](~/assets/images/sbs-connector/manifest.png) \n\n9. Нажмите **клавишу F5** , чтобы запустить проект.\n   Откроется веб-страница. \n\n   ![Локальный хост-сервер](~\\assets\\images/sbs-connector/local-host.png)    \n"
- title: Соединитель тестирования в Microsoft Teams
  durationInMinutes: 5
  content: "\n1. В клонированном репозитории перейдите к **csharp > TeamsToDoAppConnector > TeamsAppPackages**.\n\n1. Создайте .zip со следующими файлами, которые находятся в **папке манифеста** : \n   * manifest.json\n   * icon-outline.png\n   * icon-color.png\n\n   ![Расположение манифеста](~/assets/images/sbs-connector/zip.png)\n\n1. Перейдите в **Microsoft Teams**.\n1. На панели слева выберите \" **Управление приложениями** > **в Магазине\"**.\n\n   ![Управление приложениями](~/assets/images/sbs-connector/manageapp.png)\n\n1. Выберите **Отправить пользовательское приложение**.\n\n   ![Отправка пользовательского приложения.](~/assets/images/sbs-connector/upload.png)\n  \n1. Нажмите **кнопку \"** Открыть\", чтобы .zip файл, созданный в **папке манифеста** .\n\n   ![manifest](~/assets/images/sbs-connector/open.png)\n\n1. Выберите **\"Добавить в команду\"**.\n\n   ![Добавление приложения](~/assets/images/sbs-connector/addtoteam.png)\n\n1. Выберите команду или имя канала из списка.\n\n   ![Выбор канала](~/assets/images/sbs-connector/channel.png)\n\n1. Выберите **\"Настройка соединителя\"**.\n\n1. На панели слева найдите соединитель **уведомлений о toDo Teams** в строке поиска и выберите **\"Настроить\"**.\n\n   ![настройка уведомления](~/assets/images/sbs-connector/configure.png)\n\n1. Выберите \"Создано **\"** или **\"Обновлено** \" на странице регистрации и нажмите кнопку **\"Сохранить\"**.\n\n   ![select](~/assets/images/sbs-connector/create.png)\n\n   После настройки вы увидите уведомление в канале со ссылкой на **портал диспетчера задач**.\n\n   ![уведомление](~/assets/images/sbs-connector/notification.png)\n\n12. Перейдите **на портал диспетчера задач**.\n\n    ![Портал диспетчера задач](~/assets/images/sbs-connector/taskportal.png)\n\n13. Нажмите **кнопку \"Создать\"**.\n   \n    ![создание задачи](~/assets/images/sbs-connector/tasks.png)\n   \n14. Введите сведения о новой задаче:\n\n    * Название\n    * Описание\n    * Назначить\n\n    ![Сведения о задаче](~/assets/images/sbs-connector/details.png)\n\n15. Нажмите кнопку **Сохранить**. \n  \n    Карточка сообщения отображается в зарегистрированном канале Teams.\n   \n    ![Сообщение](~/assets/images/sbs-connector/messagecard.png)\n\n    > [!TIP]\n    > Вы можете попробовать интерактивные кнопки, доступные на карточке сообщения.\n"
- title: Полный запрос
  durationInMinutes: 1
  content: >
    У вас возникла такая проблема?


    :::image type="content" source="../msteams-platform/assets/images/sbs-meetings-stage-view/mobile.png" alt-text="окончательные выходные данные":::
- content: Вы завершили работу с руководством по началу работы с **соединителями Microsoft Teams**!
