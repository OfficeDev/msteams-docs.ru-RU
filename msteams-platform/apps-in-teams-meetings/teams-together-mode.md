---
title: Настраиваемые сцены режима совместно
description: Работа с настраиваемой совместной сценой режима
ms.topic: conceptual
ms.openlocfilehash: 24b350341c7503569504bffa41f715ff87caa7db49cd890482688353e7f0493f
ms.sourcegitcommit: 569ff24cc41c46d886b913a916401b18e0eb1439
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/10/2021
ms.locfileid: "57823237"
---
# <a name="custom-together-mode-scenes-in-teams"></a>Настраиваемые сцены режима "Вместе" в Teams

> [!NOTE]
> В настоящее время эта функция доступна только [для предварительного просмотра общедоступных](../resources/dev-preview/developer-preview-intro.md) разработчиков.

Настраиваемые сцены режима together в Microsoft Teams предоставляют иммерсивную и привлекаемую среду собраний, которая объединяет людей и побуждает их включить видео. Она цифровым образом объединяет участников в одну виртуальную сцену и помещает их видеопотоки в заранее разработанные и исправленные создателем сцены.

> [!VIDEO https://www.youtube-nocookie.com/embed/MGsNmYKgeTA]

Сцена в пользовательских сценах режима together — это артефакт, созданный разработчиком сцены с помощью студии Microsoft Scene. В зачатом параметре сцены участники обозначили места с видеопотоками, отрисовав их в этих местах.

> [!NOTE]
> Рекомендуется использовать только приложения для сцены, так как опыт приобретения для таких приложений является более плавным.

Следующий процесс дает обзор для создания приложения только сцены:

:::image type="content" source="../assets/images/apps-in-meetings/create-together-mode-scene-flow.png" alt-text="Создание приложения только для сцены" border="false":::

> [!NOTE]
> * Только приложение сцены по-прежнему является приложением в Microsoft Teams. Студия Scene обрабатывает создание пакета приложений в фоновом режиме.
> * Несколько сцен в одном пакете приложений отображаются как единый список сцен для пользователей.

## <a name="prerequisites"></a>Предварительные требования

Необходимо иметь базовое представление о следующих действиях, чтобы использовать настраиваемые сцены Режима совместной работы:

* Определение сцены и мест в сцене.
* У вас есть учетная запись разработчика Майкрософт и ознакомьтесь с Microsoft Teams [портала разработчиков](../concepts/build-and-test/teams-developer-portal.md) и App Studio.
* [Концепция боковой загрузки приложений.](../concepts/deploy-and-publish/apps-upload.md)
* Убедитесь, что администратор разрешил [](../concepts/deploy-and-publish/apps-upload.md) Upload настраиваемого приложения и выбрать все фильтры в рамках политик установки приложений и собраний соответственно.

## <a name="best-practices"></a>Рекомендации

Перед созданием сцены считайте, что ниже имеется бесшовный опыт создания сцены:

* Убедитесь, что все изображения находятся в формате PNG.
* Убедитесь, что конечный пакет со всеми изображениями не должен превышать разрешение 1920x1080.

    > [!NOTE]
    > Разрешение — это 10-е число. Это требование, чтобы сцены были успешно освещены.

* Убедитесь, что максимальный размер сцены — 10 МБ.
* Убедитесь, что максимальный размер каждого изображения составляет 5 МБ.

    > [!NOTE]
    > * Сцена — это коллекция из нескольких изображений. Ограничение для каждого отдельного изображения.
    > * Отдельное разрешение изображения также должно быть 10-м числом.
  
* Убедитесь, **что прозрачный** почтовый ящик выбран, если изображение прозрачное. Этот контрольный ящик доступен на правой панели при выборе изображения.

    > [!NOTE]
    > Перекрывающиеся изображения должны быть помечены как **Прозрачные,** чтобы указать, что они перекрывают изображения в сцене.

## <a name="build-a-scene-using-the-scene-studio"></a>Создание сцены с помощью студии Scene

В Microsoft есть студия Scene, которая позволяет создавать сцены. Он доступен на [сайте Scenes Editor - Teams портале разработчиков.](https://dev.teams.microsoft.com/scenes)

> [!NOTE]
> Этот документ ссылается на студию Scene на портале Microsoft Teams разработчика. Интерфейс и функциональные возможности в Конструкторе сцен App Studio одинаковы.

Сцена в контексте студии Scene — это артефакт, содержащий следующее:

* Места, зарезервированные для организатора собраний и презентаторов собраний.

    > [!NOTE]
    > Presenter не ссылаться на пользователя, который активно обмена. Это относится к [роли собрания](https://support.microsoft.com/en-us/office/roles-in-a-teams-meeting-c16fa7d0-1666-4dde-8686-0a0bfe16e019).

* Место и изображение для каждого участника с регулируемой шириной и высотой.

    > [!NOTE]
    > PNG — это единственный поддерживаемый формат.

* XYZ координаты всех мест и изображений.
* Коллекция изображений, замаскированных как одно изображение.

Размеры сидений становятся холстом для отображения видеопотока участника. На следующем изображении показано каждое место, которое представлено в качестве аватара для создания сцен:

![Студия Scene](../assets/images/apps-in-meetings/scene-design-studio.png)

**Создание сцены с помощью студии Scene**

1. Перейдите к редактору сцены [— Teams порталу разработчиков](https://dev.teams.microsoft.com/scenes).

    >[!NOTE]
    > * Чтобы открыть студию Scene, можно перейти на главную страницу [портала Teams](https://dev.teams.microsoft.com/home) разработчика и выбрать Создать настраиваемые сцены **для собраний.**
    > * Чтобы открыть студию Scene, можно перейти на домашную  страницу портала [Teams](https://dev.teams.microsoft.com/home)разработчика, выбрать инструменты из левого раздела и выбрать студию **Scene** из раздела **Tools.**

1. На странице **Редактор сцены** выберите Создать **новую сцену.**

1. В поле **Сцена** введите имя сцены.

    >[!NOTE]
    > * Вы можете выбрать **close** toggle между закрытием или открытием правой области.
    > * Вы можете увеличить или увеличить масштаб сцены с помощью панели масштабирования для лучшего представления сцены.

1. Перетащите и сбросите изображение в среду, отображаемую на следующем изображении:

    >[!NOTE]
    > * Вы можете [ скачать ](https://github.com/MicrosoftDocs/msteams-docs/tree/master/msteams-platform/apps-in-teams-meetings/SampleScene.zip)SampleScene.zip[SampleApp.zip](https://github.com/MicrosoftDocs/msteams-docs/tree/master/msteams-platform/apps-in-teams-meetings/SampleApp.zip) с изображениями.
    > * Кроме того, вы можете добавить фоновые изображения в сцену с помощью **Добавить изображения**.

    ![Перетаскивать в сцену](../assets/images/apps-in-meetings/drag-and-drop-scene.png)

1. Выберите размещенное изображение.

1. На правой области выберите выравнивание для изображения или используйте слайдер **Resize** для настройки размера изображения.

    ![Выравнивание для изображений](../assets/images/apps-in-meetings/image-alignment.png)

1. Выберите область за пределами изображения.

1. В верхнем правом углу выберите **Участники** под **слоями**.

1. Выберите число участников сцены из окна **Число** участников и выберите **Добавить**.

    >[!NOTE]
    > * После отправки сцены места размещения аватара заменяются видеопотоками фактического участника.
    > * Вы можете перетаскивать изображения участников вокруг сцены и разместить их в нужном положении и повторно их использовать стрелку повторного использования.

1. Выберите любое изображение участника и выберите контрольный ящик **Назначение** места, чтобы назначить место участнику.

1. Выберите **роль организатора** собрания или **презентовщика** для участника.

    >[!NOTE]
    > На собрании одному участнику должна быть назначена роль организатора собрания.

    ![Назначение места](../assets/images/apps-in-meetings/assign-spot.png)

1. Выберите **Сохранить** и выбрать **view в Teams,** чтобы быстро протестировать сцену в Microsoft Teams.

    >[!NOTE]
    > * Выбор **представления в Teams** автоматически создает приложение Microsoft Teams, которое можно просмотреть на странице **Apps** на портале Teams разработчика.
    > * Выбор **представления в Teams** автоматически создает пакет приложений, который appmanifest.jsза кулисами. Как уже говорилось ранее, это абстрактно, но вы можете получить доступ к автоматически созданному пакету приложений, переходя в **Приложения** из меню.
    > * Чтобы удалить созданную сцену, выберите **удалить сцену на** верхней панели.

1. В диалоговом окне, которое отображается, выберите **Добавить**.

    Сцену можно протестировать или получить доступ, создав тестовую встречу и запустив настраиваемые сцены режима together. Дополнительные сведения см. в [дополнительных сведениях о активации пользовательских сцен режима Together Mode.](#activate-custom-together-mode-scenes)

    ![Запуск настраиваемой совместной сцены режима](../assets/images/apps-in-meetings/launchtogethermode.png)

    >[!NOTE]
    > * Сцену можно просмотреть в настраиваемой галерее "Вместе режим".

1. Необязательно, вы можете выбрать **Share** из меню **Сохранить** выпадающим, чтобы создать ссылку для обмена, чтобы легко распространять сцены для других использовать. Открытие этой ссылки устанавливает сцену для пользователя, и они могут приступить к ее использованию.

1. После предварительного просмотра сцену можно отправить в качестве приложения для Teams, переехав в раздел Приложения в центре Teams разработчика. Оттуда вы можете скачать пакет приложения или опубликовать его непосредственно в организации.

    >[!NOTE]
    > Этот шаг требует пакета приложений, который отличается от пакета сцены, для сцены, которая была разработана. Автоматически созданный пакет приложений можно найти в разделе **Приложения** в центре Teams разработчиков.

1. Необязательный пакет сцены можно сохранить, выбрав **экспорт** из выпадаемого меню **Сохранить.** Загружается .zip, то есть пакет сцены.

    ![Экспорт сцены](../assets/images/apps-in-meetings/build-a-scene.png)

    >[!NOTE]
    > Пакет сцены состоит из scene.jsи активов PNG, используемых для создания сцены. Пакет сцены можно просмотреть для включения других изменений, описанных в примере scene.jsв разделе этого документа.

Более сложная сцена, которая использует Z-ось, демонстрируется в пошаговом примере начала работы.

## <a name="sample-scenejson"></a>Пример scene.jsна

Scene.jsвместе с изображениями указывают точное расположение сидений. Сцена состоит из изображений bitmap, спрайтов и прямоугольников для вложения видео участников. Эти спрайты и ящики участников определяются в системе координат мира с X-axis, указывающей направо, а Y-оси , указывающей вниз. Настраиваемые сцены режима "Вместе" поддерживают масштабирование текущих участников. Это полезно для небольших собраний в большой сцене. Спрайт — это статическое изображение bitmap, которое находится в мире. Значение Z спрайта определяет положение спрайта. Отрисовка начинается с спрайта с наименьшим значением Z, поэтому более высокое значение Z означает, что оно ближе к камере. Каждый участник имеет свою собственную видео-ленту, которая сегментироваться таким образом, чтобы отрисовка только переднего плана.

Ниже приводится scene.jsпример:

```json
{
   "protocolVersion": "1.0",
   "id": "A",
   "autoZoom": true,
   "mirrorParticipants ": true,
   "extent":{
      "left":0.0,
      "top":0.0,
      "width":16.0,
      "height":9.0
   },
   "sprites":[
      {
         "filename":"background.png",
         "cx":8.0,
         "cy":4.5,
         "width":16.0,
         "height":9.0,
         "zOrder":0.0,
   "isAlpha":false
      },
      {
         "filename":"table.png",
         "cx":8.0,
         "cy":7.0,
         "width":12.0,
         "height":4.0,
         "zOrder":3.0,
   "isAlpha":true
      },
      {
         "filename":"row0.png",
         "cx":12.0,
         "cy":15.0,
         "width":8.0,
         "height":4.0,
         "zOrder":2.0,
   "isAlpha":true
      }

   ],
   "participants":[
      {
         "cx":5.0,
         "cy":4.0,
         "width":4.0,
         "height":2.25,
         "zOrder":1.0,
         "seatingOrder":0
      },
      {
         "cx":11.0,
         "cy":4.0,
         "width":4.0,
         "height":2.25,
         "zOrder":1.0,
         "seatingOrder":1
      }
   ]
}
```

Каждая сцена имеет уникальный ID и имя. В сцене JSON также содержатся сведения о всех активах, используемых для сцены. Каждый актив содержит имя файла, ширину, высоту и положение на оси X и Y. Кроме того, каждое сиденье содержит ID места, ширину, высоту и положение на оси X и Y. Порядок рассадки создается автоматически и может изменяться в зависимости от предпочтений.

> [!NOTE]
> Номер заказа сидений соответствует порядку присоединения к вызову.

ZOrder представляет порядок размещения изображений и сидений вдоль оси Z. Во многих случаях это дает ощущение глубины или раздела при необходимости. Дополнительные сведения см. в примере пошаговая приступить к работе. Пример использует zOrder.

Теперь, когда вы прошли через пример scene.js, вы можете активировать настраиваемые сцены режима together для вовлечения в сцены.

## <a name="activate-custom-together-mode-scenes"></a>Активация настраиваемой совместной сцены режима

Сведения о том, как конечный пользователь работает со сценами в настраиваемом режиме Together Mode.

**Выбор сцен и активация настраиваемой совместной сцены режима**

1. Создание нового тестового собрания.

    >[!NOTE]
    > При выборе **предварительного** просмотра в студии Scene сцена устанавливается как приложение в Microsoft Teams. Это модель для разработчика для тестирования и опробовки сцен из студии Scene. После отправки сцены в качестве приложения пользователи видят эти сцены в галерее сцен.

1. Из **выпадаемой** галереи в верхнем левом углу выберите **режим Together Mode**. Появляется диалоговое окно **Picker** и добавляется добавленная сцена.

1. Выберите **сцену Изменения,** чтобы изменить сцену по умолчанию.

1. В **галерее Сцены** выберите сцену, используемую для собрания.

1. Необязательно, организатор собрания и презентер могут изменить сцену **для всех участников** собрания.

    >[!NOTE]
    > В любой момент времени для собрания можно использовать только одну сцену. Если презентер или организатор изменяет сцену, она изменяется для всех. Включение или выход из настраиваемого режима совместной работы может быть засвидетельна отдельными участниками, но в то время как в настраиваемом режиме together mode все участники имеют ту же сцену.

1. Нажмите **Применить**. Teams устанавливает приложение для пользователя и применяет сцену.

## <a name="open-a-custom-together-mode-scenes-scene-package"></a>Откройте настраиваемый пакет сцен в режиме "Вместе"

Вы можете поделиться пакетом сцены, который является .zip, извлеченным из студии Scene другим создателям для дальнейшего расширения сцены. Можно **использовать функцию Import a Scene.** Этот инструмент помогает развернуть пакет сцены, чтобы создатель мог продолжить создание сцены.

![Файл застежки-молнии сцены](../assets/images/apps-in-meetings/scene-zip-file.png)

## <a name="see-also"></a>См. также

[Приложения для Teams собраний](teams-apps-in-meetings.md)
