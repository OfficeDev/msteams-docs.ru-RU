---
title: Настраиваемые сцены режима совместно
description: Работа с настраиваемой совместной сценой режима
ms.topic: conceptual
ms.localizationpriority: none
ms.openlocfilehash: 0558b3914ba3cabf2af3937a4a4cadb9342c3844
ms.sourcegitcommit: 8feddafb51b2a1a85d04e37568b2861287f982d3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/22/2021
ms.locfileid: "59475603"
---
# <a name="custom-together-mode-scenes-in-teams"></a>Настраиваемые сцены режима "Вместе" в Teams

Настраиваемые сцены режима совместно в Microsoft Teams обеспечивают иммерсивную и привлекаемую среду собраний со следующими действиями:

* Совмещь людей и поощрить их включить видео. 
* Объединяйте участников в цифровом формате в одну виртуальную сцену. 
* Поместите видеопотоки участников в заранее разработанные и исправленные создателем сцены.

> [!VIDEO https://www.youtube-nocookie.com/embed/MGsNmYKgeTA]

В настраиваемом режиме совместной работы сцена является артефактом. Сцена создается разработчиком сцены с помощью студии Microsoft Scene. В зачатом параметре сцены у участников есть места с видеопотоками. Видео отрисовка в этих местах. Рекомендуется использовать только приложения сцены, так как для таких приложений все понятно.

Следующий процесс дает обзор для создания приложения только сцены:

:::image type="content" source="../assets/images/apps-in-meetings/create-together-mode-scene-flow.png" alt-text="Создание приложения только для сцены" border="false":::

Только приложение сцены по-прежнему является приложением в Microsoft Teams. Студия Scene обрабатывает создание пакета приложений в фоновом режиме. Несколько сцен в одном пакете приложений отображаются как плоский список для пользователей.

> [!NOTE]
> Пользователи не могут инициировать режим Together Mode с мобильного телефона. Однако после того, как пользователь присоединяется к собранию с помощью мобильного телефона и включен режим Together Mode с рабочего стола, мобильные пользователи, включившие видео, будут отображаться в режиме Together на рабочем столе. 

## <a name="prerequisites"></a>Предварительные требования

Необходимо иметь базовое представление о следующих действиях, чтобы использовать настраиваемые сцены Режима совместной работы:

* Определение сцены и мест в сцене.
* У вас есть учетная запись разработчика Майкрософт и ознакомьтесь с Microsoft Teams [портала разработчиков](../concepts/build-and-test/teams-developer-portal.md) и App Studio.
* Понимание [концепции боковой загрузки приложений.](../concepts/deploy-and-publish/apps-upload.md)
* Убедитесь, что администратор предоставил [](../concepts/deploy-and-publish/apps-upload.md) Upload настраиваемого приложения и выберите все фильтры в рамках политик установки приложения и собраний соответственно.

## <a name="best-practices"></a>Рекомендации

Рассмотрим следующие практики для создания сцены:

* Убедитесь, что все изображения находятся в формате PNG.
* Убедитесь, что конечный пакет со всеми изображениями не должен превышать разрешение 1920x1080. Разрешение — это 10-е число. Это разрешение является требованием для успешного от показания сцен.
* Убедитесь, что максимальный размер сцены — 10 МБ.
* Убедитесь, что максимальный размер каждого изображения составляет 5 МБ. Сцена — это коллекция из нескольких изображений. Ограничение для каждого отдельного изображения.
* Убедитесь, что **необходимо выбрать Transparent.** Этот контрольный ящик доступен на правой панели при выборе изображения. Перекрывающиеся изображения должны быть помечены как **Прозрачные,** чтобы указать, что они перекрываются изображениями в сцене.

## <a name="build-a-scene-using-the-scene-studio"></a>Создание сцены с помощью студии Scene

В Microsoft есть студия Scene, которая позволяет создавать сцены. Он доступен на [сайте Scenes Editor — Teams портале разработчиков.](https://dev.teams.microsoft.com/scenes) Этот документ относится к студии Scene на портале Microsoft Teams разработчика. Интерфейс и функциональные возможности в Конструкторе сцен App Studio одинаковы.

Сцена в контексте студии Scene — это артефакт, содержащий следующие элементы:

* Места, зарезервированные для организатора собраний и презентаторов собраний. В этом разделе не сообщается о пользователе, который активно обменивается данными. Это относится к [роли собрания](https://support.microsoft.com/en-us/office/roles-in-a-teams-meeting-c16fa7d0-1666-4dde-8686-0a0bfe16e019).

* Место и изображение для каждого участника с регулируемой шириной и высотой. Для изображения поддерживается только формат PNG.

* XYZ координаты всех мест и изображений.

* Коллекция изображений, замаскированных как одно изображение.

На следующем изображении показано каждое место, которое представлено в качестве аватара для создания сцен:

![Студия Scene](../assets/images/apps-in-meetings/scene-design-studio.png)

**Создание сцены с помощью студии Scene**

1. Перейдите к редактору сцены [— Teams порталу разработчиков](https://dev.teams.microsoft.com/scenes).

    Кроме того, чтобы открыть студию Scene, вы можете перейти на домашную страницу [портала Teams разработчика:](https://dev.teams.microsoft.com/home)
    * Выберите **Создание настраиваемой сцены для собраний.**
    * Выберите **Инструменты** из левого раздела и выберите **студию Scene** из раздела **Tools.**

1. В **редакторе "Сцены"** **выберите Создать новую сцену.**

1. В **имя сцены** введите имя сцены.

    * Вы можете выбрать **close** toggle между закрытием или открытием правой области.
    * Вы можете увеличить или увеличить масштаб сцены с помощью панели масштабирования для лучшего представления сцены.

1. Выберите **Добавить изображения,** чтобы добавить изображение в среду:

    ![Добавление изображений в среду](../assets/images/apps-in-meetings/addimages.png)

    >[!NOTE]
    > * Вы можете [ скачать ](https://github.com/MicrosoftDocs/msteams-docs/tree/master/msteams-platform/apps-in-teams-meetings/SampleScene.zip)SampleScene.zip[SampleApp.zip](https://github.com/MicrosoftDocs/msteams-docs/tree/master/msteams-platform/apps-in-teams-meetings/SampleApp.zip) с изображениями.

1. Выберите добавленное изображение.

1. На правой области выберите выравнивание для изображения или используйте **resize** для настройки размера изображения:

    ![Выравнивание для изображений](../assets/images/apps-in-meetings/image-alignment.png)

1. Выберите область за пределами изображения.

1. В верхнем правом углу выберите **Участники** под **слоями**.

1. Выберите число участников сцены из окна **Число** участников и выберите **Добавить**. После отправки сцены места размещения аватара заменяются видеопотоками фактического участника. Вы можете перетаскивать изображения участников вокруг сцены и расположить их в нужном положении. Их можно повторно использовать стрелку resize.

1. Выберите любое изображение участника и выберите **Назначение пятна,** чтобы назначить место участнику.

1. Выберите **роль организатора** собрания или **презентовщика** для участника. На собрании одному участнику должна быть назначена роль организатора собрания:

    ![Назначение места](../assets/images/apps-in-meetings/assign-spot.png)

1. Выберите **Сохранить** и выбрать **view в Teams,** чтобы быстро протестировать сцену в Microsoft Teams.

    * Выбор **представления в Teams** автоматически создает приложение Microsoft Teams, которое можно просмотреть на странице **Apps** на портале Teams разработчика.
    * Выбор **представления в Teams** автоматически создает пакет приложений, который находится за кулисами appmanifest.json. Вы можете перейти  **к приложениям** из меню и получить доступ к автоматически созданному пакету приложений.
    * Чтобы удалить созданную сцену, выберите **удалить сцену на** верхней панели.

1. В **представлении в Teams** выберите **Предварительный просмотр в Teams**.
1. В диалоговом окне, которое отображается, выберите **Добавить**.

    Сцена протестирована или доступ к нему, создав тестовую встречу и запустив настраиваемые сцены режима Together Mode. Дополнительные сведения см. в [дополнительных сведениях о активации пользовательских сцен Режима совместной работы:](#activate-custom-together-mode-scenes)

    ![Запуск настраиваемой совместной сцены режима](../assets/images/apps-in-meetings/launchtogethermode.png)

    Затем сцену можно просмотреть в настраиваемой галерее "Вместе режим".

Дополнительно можно выбрать **Share** из меню **Сохранить** отсев. Вы можете создать ссылку на совместное использование для распространения сцен для других. Пользователь может открыть ссылку, чтобы установить сцену и начать ее использовать.

После предварительного просмотра сцена отправляется в качестве приложения для Teams, следуя шагам для отправки приложения. Этот шаг требует пакета приложений. Пакет приложения отличается от пакета сцены для разработанной сцены. Автоматически созданный пакет приложений находится в разделе **Приложения** в центре Teams разработчиков.

Необязательный пакет сцены извлекают, выбрав **экспорт** из меню **Сохранить** выпадающий. Загружается **.zip,** то есть пакет сцены. Пакет сцены включает в себя ресурсы scene.json и PNG, используемые для создания сцены. Пакет сцены просматривается для включения других изменений:

![Экспорт сцены](../assets/images/apps-in-meetings/build-a-scene.png)

Сложная сцена с использованием оси Z демонстрируется в пошаговом примере начала работы.

## <a name="sample-scenejson"></a>Пример scene.json

Scene.json вместе с изображениями указывают точное расположение сидений. Сцена состоит из изображений bitmap, спрайтов и прямоугольников для вложения видео участников. Эти спрайты и ящики участников определяются в системе координат мира. X-axis указывает направо, а Y-оси — вниз.

Настраиваемые сцены режима "Вместе" поддерживают масштабирование текущих участников. Эта функция полезна для небольших собраний в большой сцене. Спрайт — это статическое изображение bitmap, которое находится в мире. Значение Z спрайта определяет положение спрайта. Отрисовка начинается с спрайта с наименьшим значением Z, поэтому более высокое значение Z означает, что оно ближе к камере. Каждый участник имеет свою собственную видео-ленту, которая сегментация, поэтому отрисовка только переднего плана.

Ниже приводится пример scene.json:

```json
{
   "protocolVersion": "1.0",
   "id": "A",
   "autoZoom": true,
   "mirrorParticipants ": true,
   "extent":{
      "left":0.0,
      "top":0.0,
      "width":16.0,
      "height":9.0
   },
   "sprites":[
      {
         "filename":"background.png",
         "cx":8.0,
         "cy":4.5,
         "width":16.0,
         "height":9.0,
         "zOrder":0.0,
   "isAlpha":false
      },
      {
         "filename":"table.png",
         "cx":8.0,
         "cy":7.0,
         "width":12.0,
         "height":4.0,
         "zOrder":3.0,
   "isAlpha":true
      },
      {
         "filename":"row0.png",
         "cx":12.0,
         "cy":15.0,
         "width":8.0,
         "height":4.0,
         "zOrder":2.0,
   "isAlpha":true
      }

   ],
   "participants":[
      {
         "cx":5.0,
         "cy":4.0,
         "width":4.0,
         "height":2.25,
         "zOrder":1.0,
         "seatingOrder":0
      },
      {
         "cx":11.0,
         "cy":4.0,
         "width":4.0,
         "height":2.25,
         "zOrder":1.0,
         "seatingOrder":1
      }
   ]
}
```

Каждая сцена имеет уникальный ID и имя. В сцене JSON также содержатся сведения о всех активах, используемых для сцены. Каждый актив содержит имя файла, ширину, высоту и положение на оси X и Y. Кроме того, каждое сиденье содержит ID места, ширину, высоту и положение на оси X и Y. Порядок рассадки создается автоматически и изменяется в зависимости от предпочтений. Номер заказа на сидение соответствует порядку присоединения людей к вызову.

Представляет `zOrder` порядок размещения изображений и сидений вдоль оси Z. При необходимости он дает ощущение глубины или раздела. См. пример пошагового начала работы. В примере используется `zOrder` .

Теперь, когда вы прошли пример scene.json, вы можете активировать настраиваемые сцены режима together для работы со сценами.

## <a name="activate-custom-together-mode-scenes"></a>Активация настраиваемой совместной сцены режима

Дополнительные сведения о том, как пользователь участвует со сценами в настраиваемом режиме совместной работы.

**Выбор сцен и активация настраиваемой совместной сцены режима**

1. Создание нового тестового собрания.

    >[!NOTE]
    > При выборе **предварительного** просмотра в студии Scene сцена устанавливается как приложение в Microsoft Teams. Это модель для разработчика для тестирования и опробовки сцен из студии Scene. После отправки сцены в качестве приложения пользователи видят эти сцены в галерее сцен.

1. Из **выпадаемой** галереи в верхнем левом углу выберите **режим Together Mode**. Появляется диалоговое окно **Picker** и добавляется добавленная сцена.

1. Выберите **сцену Изменения,** чтобы изменить сцену по умолчанию.

1. В **галерее Сцены** выберите сцену, используемую для собрания.

    Необязательно, организатор собрания и презентер могут изменить сцену **для всех участников** собрания.

    >[!NOTE]
    > В любой момент времени для собрания используется только одна сцена. Если презентер или организатор изменяет сцену, она изменяется для всех. Включение или выход из настраиваемого режима совместной работы может быть засвидетельна отдельными участниками, но в то время как в настраиваемом режиме together mode все участники имеют ту же сцену.

1. Нажмите **Применить**. Teams устанавливает приложение для пользователя и применяет сцену.

## <a name="open-a-custom-together-mode-scenes-scene-package"></a>Откройте настраиваемый пакет сцен в режиме "Вместе"

Вы можете поделиться пакетом сцены, который является .zip, извлеченным из студии Scene другим создателям для дальнейшего расширения сцены. Функция **Import a Scene** помогает развернуть пакет сцен, чтобы создатель мог продолжить создание сцены.

![Файл застежки-молнии сцены](../assets/images/apps-in-meetings/scene-zip-file.png)

## <a name="see-also"></a>См. также

[Приложения для Teams собраний](teams-apps-in-meetings.md)
