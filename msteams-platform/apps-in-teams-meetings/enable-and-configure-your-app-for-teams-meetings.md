---
title: Включить и настроить приложения для Teams собраний
author: surbhigupta
description: Включить и настроить приложения для Teams собраний и различных сценариев собраний, обновить манифест приложения, настроить функции, такие как диалоговое окно в собрании, общая стадия собраний, боковойпанель собраний и другие.
ms.topic: conceptual
ms.localizationpriority: none
ms.openlocfilehash: 160518c147ac2bc1d1378a3f1bd31fde9de1723c
ms.sourcegitcommit: 2fdca6fb0ade3f6b460eb9a4dfea0a8e2ab8d3b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/08/2022
ms.locfileid: "63355802"
---
# <a name="enable-and-configure-your-apps-for-teams-meetings"></a>Включить и настроить приложения для Teams собраний

Каждая команда имеет свой способ общения и совместной работы. Чтобы достичь этих различных задач, настройте Teams приложениями для собраний. Включить приложения для Teams собраний и настроить приложения, которые будут доступны в области собраний в манифесте приложения.

## <a name="enable-your-app-for-teams-meetings"></a>Включить приложение для Teams собраний

Чтобы включить приложение для Teams собраний, обновите манифест приложения и используйте свойства контекста, чтобы определить, где должно отображаться ваше приложение.

### <a name="update-your-app-manifest"></a>Обновление манифеста приложения

Возможности приложения собраний объявляются в манифесте приложения с помощью `configurableTabs`массивов и массивов `context` `scopes`. Область определяет, кто может получить доступ, а контекст определяет, где доступно ваше приложение.

> [!NOTE]
> * Необходимо обновить манифест приложения с помощью [схемы манифеста](../resources/schema/manifest-schema-dev-preview.md).
> * Приложения на собраниях требуют области `groupchat` . Область `team` работает только для вкладок в каналах.

Манифест приложения должен включать следующий фрагмент кода:

```json

"configurableTabs": [
    {
      "configurationUrl": "https://contoso.com/teamstab/configure",
      "canUpdateConfiguration": true,
      "scopes": [
        "team",
        "groupchat"
      ],
      "context":[
        "channelTab",
        "privateChatTab",
        "meetingChatTab",
        "meetingDetailsTab",
        "meetingSidePanel",
        "meetingStage"
     ]
    }
  ]
```

### <a name="context-property"></a>Свойство Context

Свойство `context` определяет, что должно быть показано, когда пользователь вызывает приложение на собрании в зависимости от того, где пользователь вызывает приложение. Вкладка `context` и `scopes` свойства позволяют определить, где должно отображаться ваше приложение. Вкладки в области `team` или области `groupchat` могут иметь несколько контекстов. Ниже ниже 10 `context` значений для свойства, из которого можно использовать все или некоторые из этих значений:

|Значение|Описание|
|---|---|
| **channelTab** | Вкладка в загонах канала команды. |
| **privateChatTab** | Вкладка в загонах группового чата между набором пользователей, а не в контексте группы или собрания. |
| **meetingChatTab** | Вкладка в загона группового чата между набором пользователей для запланированного собрания. Вы можете указать **собраниеChatTab** или **meetingDetailsTab** , чтобы обеспечить работу приложений на мобильных устройствах. |
| **meetingDetailsTab** | Вкладка в загонах сведений о собрании для просмотра календаря. Вы можете указать **собраниеChatTab** или **meetingDetailsTab** , чтобы обеспечить работу приложений на мобильных устройствах. |
| **meetingSidePanel** | Панель на собрании, открытая через единую панель (U-bar). |
| **meetingStage** | Приложение из области можно `meetingSidePanel` использовать на стадии собрания. Это приложение нельзя использовать в клиентах на мобильных устройствах или клиентах комнат Teams. |

После встройки приложения для Teams собраний необходимо настроить приложение перед собранием, во время собрания и после собрания.

## <a name="configure-your-app-for-meeting-scenarios"></a>Настройка приложения для сценариев собраний

Teams собрания обеспечивают совместную работу для вашей организации. Настройте приложение для различных сценариев собраний и повышения качества работы собраний. Теперь вы можете определить, какие действия можно принять в следующих сценариях собраний:

* [Перед собранием](#before-a-meeting)
* [Во время собрания](#during-a-meeting)
* [После собрания](#after-a-meeting)

### <a name="before-a-meeting"></a>Перед собранием

Перед собранием пользователи могут добавлять вкладки, боты и расширения обмена сообщениями. Пользователи с ролями организатора и презентовщика могут добавлять вкладки в собрание.

**Добавление вкладки к собранию**

1. В календаре выберите собрание, на которое нужно добавить вкладку.
1. Выберите **вкладку Details** и выберите <img src="~/assets/images/apps-in-meetings/plusbutton.png" alt="Plus button" width="30"/>.

    <img src="../assets/images/apps-in-meetings/PreMeeting.png" alt="Pre-meeting experience" width="900"/>

1. В галерее вкладок, которая появится, выберите приложение, которое необходимо добавить, и выполните необходимые действия. Приложение устанавливается в качестве вкладки.

**Добавление расширения обмена сообщениями на собрание**

1. Выберите эллипсы &#x25CF;&#x25CF;&#x25CF; , расположенные в области составить сообщение в чате.
1. Выберите приложение, которое необходимо добавить, и выполните необходимые действия. Приложение устанавливается в качестве расширения обмена сообщениями.

**Добавление бота на собрание**

В чате собраний введите ключ **@** и выберите **Get bots**.

> [!NOTE]
> * Пузырь контента одновременно публикует адаптивную карту или карточку в чате собраний, к который пользователи могут получить доступ. Это помогает пользователям при минимизации собрания или Teams приложения.
> * Удостоверение пользователя должно быть подтверждено с помощью [SSO Tabs](../tabs/how-to/authentication/auth-aad-sso.md). После проверки подлинности приложение может получить роль пользователя с помощью `GetParticipant` API.
> * В зависимости от роли пользователя приложение может предоставлять определенные функции. Например, приложение для опроса позволяет создавать новый опрос только организаторам и презентаторам.
> * Назначения ролей могут быть изменены во время собрания. Дополнительные сведения см. [в Teams собрании](https://support.microsoft.com/office/roles-in-a-teams-meeting-c16fa7d0-1666-4dde-8686-0a0bfe16e019).

### <a name="during-a-meeting"></a>Во время собрания

Во время собрания вы можете использовать уведомление `meetingSidePanel` или уведомление на собрании для создания уникальных приложений.

#### <a name="meeting-sidepanel"></a>Meeting SidePanel

Это `meetingSidePanel` позволяет настраивать впечатления на собрании, что позволяет организаторам и презентаторам иметь различные представления и действия. В манифесте приложения необходимо добавить в `meetingSidePanel` массив контекста. В собрании и во всех сценариях приложение отрисовка в вкладке в собрании шириной 320 пикселей. Дополнительные сведения см. в [интерфейсе FrameContext](/javascript/api/@microsoft/teams-js/microsoftteams.framecontext?view=msteams-client-js-latest&preserve-view=true).

Чтобы использовать API `userContext` для маршрутных запросов, см. Teams [SDK](../tabs/how-to/access-teams-context.md#user-context). Дополнительные сведения см. [Teams поток проверки подлинности для вкладок](../tabs/how-to/authentication/auth-flow-tab.md). Поток проверки подлинности для вкладок похож на поток проверки подлинности для веб-сайтов. Таким образом, вкладки могут напрямую использовать OAuth 2.0. Дополнительные сведения см. [в платформа удостоверений Майкрософт и потоке кода авторизации OAuth 2.0](/azure/active-directory/develop/v2-oauth2-auth-code-flow).

Расширение обмена сообщениями работает так, как ожидалось, когда пользователь находится в представлении на собрании. Пользователь может отправлять составить карточки расширения сообщений. AppName in-meeting — это инструмент, который сообщает имя приложения на собрании U-bar.

> [!NOTE]
> Используйте версию 1.7.0 [или более Teams SDK](/javascript/api/overview/msteams-client?view=msteams-client-js-latest&preserve-view=true), так как версии до нее не поддерживают боковую панель.

#### <a name="in-meeting-notification"></a>Уведомление о собрании

Уведомление на собрании используется для вовлечения участников во время собрания и сбора сведений или отзывов во время собрания. Чтобы [вызвать](API-references.md#send-an-in-meeting-notification) уведомление на собрании, используйте полезное уведомление на собрании. В качестве полезной нагрузки запроса уведомлений включайте URL-адрес, на котором будет хозяйствовать контент.

Уведомление на собрании не должно использовать модуль задач. Модуль задач не вызывается в чате собраний. Url-адрес внешнего ресурса используется для отображения уведомления о собрании. Этот метод можно использовать для `submitTask` отправки данных в чате собраний.

:::image type="content" source="../assets/images/apps-in-meetings/in-meeting-dialogbox.png" alt-text="В примере показано, как можно использовать диалоговое окно на собрании." border="true":::

#### <a name="shared-meeting-stage"></a>Общая трибуна собраний

Общая стадия собрания позволяет участникам собраний взаимодействовать с контентом приложения и сотрудничать с ним в режиме реального времени. Вы можете поделиться своими приложениями на этапе совместной встречи следующими способами:

* [Совместное использование всего приложения для поэтапного](#share-entire-app-to-stage) запуска с помощью кнопки этап в Teams клиенте.
* [Совместное использование определенных частей приложения для поэтапного](#share-specific-parts-of-the-app-to-stage) использования API в Teams клиентской SDK.

##### <a name="share-entire-app-to-stage"></a>Share entire app to stage

Участники могут делиться всем приложением на стадии совместной встречи с помощью кнопки share to stage from the app side panel.

<img src="../assets/images/apps-in-meetings/share_to_stage_during_meeting.png" alt="Share full app" width = "900"/>

Чтобы поделиться всем приложением с этапом, в манифесте приложения `meetingStage` `meetingSidePanel` необходимо настроить и в качестве контекста кадра. Например:

```json
"configurableTabs": [
    {
      "configurationUrl": "https://contoso.com/teamstab/configure",
      "canUpdateConfiguration": true,
      "scopes": [
        "groupchat"
      ],
      "context":[
        "meetingSidePanel",
        "meetingStage"
     ]
    }
  ]
```

Дополнительные сведения см. в [манифесте приложения](../resources/schema/manifest-schema-dev-preview.md#configurabletabs). 

##### <a name="share-specific-parts-of-the-app-to-stage"></a>Делиться определенными частями приложения на этап

Участники могут обмениваться определенными частями приложения на этап совместной встречи, используя эту долю для поэтапного API. API доступны в клиентской Teams SDK и вызываются с боковой панели приложения.

<img src="../assets/images/apps-in-meetings/share-specific-content-to-stage.png" alt="Share specific parts of the app" width = "900"/>

Чтобы делиться определенными частями приложения с этапом, необходимо вызвать соответствующие API в Teams клиентской библиотеки SDK. Дополнительные сведения см. в [справке по API](API-references.md).

Если вы хотите, чтобы ваше приложение поддержало анонимных пользователей, необходимо использовать метаданные запроса в объекте, `from.id` `from` `from.aadObjectId` а не запрашивать метаданные. `from.id` является ИД пользователя и `from.aadObjectId` является ИД Azure AD пользователя. Дополнительные сведения см. в [таблицах с](../task-modules-and-cards/task-modules/task-modules-tabs.md) использованием модулей задач и [созданием и отправкой модуля задач](../messaging-extensions/how-to/action-commands/create-task-module.md?tabs=dotnet#the-initial-invoke-request).

### <a name="after-a-meeting"></a>После собрания

Конфигурации после и [до собраний](#before-a-meeting) одинаковы.

## <a name="code-sample"></a>Пример кода

|Название примера | Описание | C# | Node.js |
|----------------|-----------------|--------------|----------------|
| Приложение для собраний | Демонстрирует, как использовать приложение Генератор маркеров собраний для запроса маркера. Маркер создается последовательно, чтобы каждый участник имел справедливую возможность участвовать в собрании. Маркер полезен в таких ситуациях, как scrum meetings и Q&A. | [View](https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/meetings-token-app/csharp) | [View](https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/meetings-token-app/nodejs) |
|Пример стадии собрания | Пример приложения, чтобы показать вкладку на этапе собрания для совместной работы | [View](https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/meetings-stage-view/csharp) | [View](https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/meetings-stage-view/nodejs) |
|Боковая панель собраний | Пример приложения, чтобы показать, как добавить повестку дня в боковой панели собрания | [View](https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/meetings-sidepanel/csharp) |-|

## <a name="step-by-step-guides"></a>Пошаговые руководства

* Следуйте [пошаговом](../sbs-meeting-token-generator.yml) руководстве, чтобы создать маркер собрания в Teams собрании.
* Следуйте [пошаговом](../sbs-meetings-sidepanel.yml) руководстве по генерации боковогопанеля собраний в Teams собрании.
* Следуйте [пошаговом](../sbs-meetings-stage-view.yml) руководстве для создания представления стадии собрания в Teams собрании.
* Следуйте [пошаговому](../sbs-meeting-content-bubble.yml) руководству, чтобы создать пузырь контента собраний в Teams собрании.

## <a name="next-step"></a>Следующий этап

> [!div class="nextstepaction"]
> [Справочные материалы по API приложений для собраний](API-references.md)

## <a name="see-also"></a>См. также

* [Рекомендации по проектированию диалогов на собрании](design/designing-apps-in-meetings.md#use-an-in-meeting-dialog)
* [Teams проверки подлинности для вкладок](../tabs/how-to/authentication/auth-flow-tab.md)
* [Общие рекомендации по проектированию этапов собраний](~/apps-in-teams-meetings/design/designing-apps-in-meetings.md)
* [Добавление приложений к собраниям через Microsoft Graph](/graph/api/chat-post-installedapps?view=graph-rest-1.0&tabs=http&preserve-view=true)
