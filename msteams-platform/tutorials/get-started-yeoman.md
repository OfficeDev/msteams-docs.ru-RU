---
title: Учебник . Создание первого приложения с помощью генератора Yeoman
description: Узнайте, как начать создание приложений Microsoft Teams с помощью генератора Yeoman.
keywords: начало работы node.js nodejs yeoman
ms.topic: tutorial
ms.custom: scenarios:getting-started
ms.openlocfilehash: 81cbdbfa213f415eebae9bb63d76c39599b56c01
ms.sourcegitcommit: 9404c2e3a30887b9e17e0c89b12dd26fd9b8033e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2021
ms.locfileid: "51654414"
---
# <a name="create-your-first-microsoft-teams-app-using-the-yeoman-generator"></a>Создайте свое первое приложение Microsoft Teams с помощью генератора Yeoman

> [!Note]
> Этот учебник исходит от [генератора Yeoman для вики Teams](https://github.com/OfficeDev/generator-teams/wiki/Build-Your-First-Microsoft-Teams-App).

В этом руководстве мы пройдите по созданию первого приложения Microsoft Teams с помощью генератора Microsoft Teams Yeoman. Кроме того, вы проходите процесс обновления команд с помощью генератора Yeoman. Необходимое условие для начала с этого руководства состоит в том, что у вас есть учетная запись Teams, которая позволяет [загрузку приложений.](~/concepts/build-and-test/prepare-your-o365-tenant.md)

![git генератора yeoman](~/assets/yeoman-demo.gif)

## <a name="setup-and-prepare-your-machine"></a>Настройка и подготовка компьютера

Перед использованием генератора Yeoman необходимо установить следующее на компьютере.

### <a name="install-nodejs"></a>Установите Node.js.

Необходимо установить Node.js на компьютере. Вы должны использовать последнюю [версию LTS](https://nodejs.org).

### <a name="install-a-code-editor"></a>Установка редактора кода

Вам нужен редактор кода. Большая часть этой документации и изображений относится к [использованию Visual Studio code.](https://code.visualstudio.com) Однако не стесняйся использовать любой текстовый редактор, который вы предпочитаете.

### <a name="install-yeoman-and-gulp-cli"></a>Установка CLI Yeoman и Gulp

Для реализации проектов с помощью генератора необходимо установить средство Yeoman и диспетчер задач Gulp CLI.

Откройте командную подсказку и введите следующее:

```bash
npm install yo gulp-cli --global
```

## <a name="install-the-generator"></a>Установка генератора

Установите генератор Teams Yeoman со следующей командой:

```bash
npm install generator-teams --global
```

Установите предварительную версию генератора со следующей командой:

```bash
npm install generator-teams@preview --global
```

## <a name="generate-your-project"></a>Создание проекта

В этом разделе вы можете пройти этапы создания проекта.

**Создание проекта**

1. Откройте командную подсказку и создайте новый каталог, в котором нужно создать проект, и в этом каталоге запустите команду `yo teams` . Запускается генератор.
1. Ответьте на набор вопросов, задамых генератором.

   ![yo teams](~/assets/yeoman-images/teams-first-app-1.png)

   1. Первый вопрос заключается в названии проекта, его можно оставить, как и при нажатии ввода.
   1. Следующий вопрос задает вам, хотите ли вы создать новый каталог или использовать текущий. Как вы уже находитесь в каталоге вы хотите, просто нажмите введите.
   1. В следующем вопросе введите название проекта. Это название будет использоваться в манифесте и описании приложения. 
   1. Далее вам будет предложено имя компании, которое также будет использоваться в манифесте.
   1. В пятом вопросе задается вопрос о том, какую версию манифеста вы хотите использовать. Для этого руководства выберите `v1.5` , которая является текущей общей доступной схемой.
   1. Далее генератор спросит, какие элементы необходимо добавить в проект. Вы можете выбрать одно или любое сочетание элементов. Для этого руководства просто выберите *вкладку*.

    ![Выбор элементов](~/assets/yeoman-images/teams-first-app-2.png)

1. Ответьте на следующий набор последующих вопросов, которые отображаются на основе элементов, выбранных на шаге 2.
1. Введите URL-адрес, где будет организовано решение. 

   > [!NOTE]
   > URL-адрес может быть любым URL-адресом, но по умолчанию генератор предлагает URL-адрес веб-сайта Azure.

1. В следующем вопросе подтвердите, хотите ли вы включить для решения unit-testing. Ответ по умолчанию *— да.* Если вы решите включить блок-тестирование, созданный проект будет иметь структуру тестирования единицы и некоторые тесты по умолчанию для различных элементов, которые scaffolded. 
   > [!NOTE]
   > * В этом руководстве не включаем тестовую базу.
   > * У генератора есть множество встроенных расширенных функций, от которые можно отказаться или отказаться.

1. Чтобы упростить вход, вам также будет предложено использовать Azure Application Insights для регистрации. Если вы *выберете Да,* вам потребуется предоставить ключ Azure Application Insights. 

   > [!NOTE]
   > Для этого руководства отказаться от использования приложения Insights.

Следующий набор вопросов будет основан на выбранных ранее пунктах. Для вкладки нужно только уделить имя и дополнительно выбрать, если вы хотите иметь возможность использовать это приложение в качестве веб-части SharePoint Online. После предоставления имени генератор будет создавать проект и устанавливать все зависимости. Это займет минуту или две.

## <a name="add-some-code-to-your-tab"></a>Добавление кода на вкладку

После того как генератор будет сделан, вы можете открыть решение в любимом редакторе кода. Минутку или две и ознакомьтесь с тем, как организован код. Дополнительные сведения см. в [документации project Structure.](https://github.com/OfficeDev/generator-teams/wiki/Project-Structure)

Вкладка находится в `./src/app/scripts/myFirstAppTab/MyFirstAppTab.tsx` файле. Это класс React на основе TypeScript для вкладки. Найдите `render()` метод и добавьте строку кода внутри `<PanelBody>` управления, чтобы он выглядел так:

``` TypeScript
<PanelBody>
    <div style={styles.section}>
    Hello World! Yo Teams rocks!
    </div>
</PanelBody>
```

Сохраните файл и вернись к командной подсказке.

## <a name="build-your-app"></a>Создание приложения

Теперь вы можете создать свой проект. Это делается в два шага (или один шаг, см. ниже).

Сначала необходимо создать файл манифеста Teams App, который вы загружаете/загружаете в Microsoft Teams. Это делается задачей Gulp `gulp manifest` . Это позволит проверить манифест и создать почтовый файл в `./package` каталоге.

Для создания решения используется `gulp build` команда. Это будет перенакладывание решения в `./dist` папку. 

## <a name="run-your-app"></a>Запуск приложения

Для запуска приложения используется `gulp serve` команда. Это позволит создать и запустить локальный веб-сервер для тестирования приложения. Команда также восстановит приложение всякий раз, когда вы сохраните файл в проекте. 

Теперь вы должны иметь возможность просматривать, `http://localhost:3007/myFirstAppTab/` чтобы убедиться, что ваша вкладка отрисовка. Однако в Microsoft Teams пока нет.

![просмотр сайта в браузере](~/assets/yeoman-images/teams-first-app-3.png)

## <a name="run-your-app-in-microsoft-teams"></a>Запустите приложение в Microsoft Teams

Microsoft Teams не позволяет размещению приложения на локальном сайте, поэтому необходимо либо опубликовать его на общедоступный URL-адрес, либо использовать прокси-сервер, например ngrok.

Хорошая новость заключается в том, что проект scaffolded имеет эту встроенную. При запуске службы ngrok будет запущена в фоновом режиме с уникальной и открытой записью DNS, которая также будет упаковывать манифест с этим уникальным URL-адресом, а затем делать то же самое, что `gulp ngrok-serve` `gulp serve` и .

После запуска создайте новую команду Microsoft Teams и при ее создании щелкните имя команды, чтобы перейти к настройкам команд и выбрать `gulp ngrok-serve` *Приложения.* В правом нижнем углу вы должны увидеть ссылку *Upload a custom app,* select it and then browse to your project folder and the subfolder called `package` . Выберите почтовый файл в этой папке и откройте. Ваше приложение теперь загружено в Microsoft Teams.

![sideloaded app](~/assets/yeoman-images/teams-first-app-4.png)

Возвращайся на *общий* канал и *+* выберите, чтобы добавить новую вкладку. Вы должны увидеть вкладку в списке вкладок.

![настройка вкладки](~/assets/yeoman-images/teams-first-app-5.png)

Выберите вкладку и следуйте инструкциям, чтобы добавить ее. Обратите внимание, что у вас есть настраиваемый диалог конфигурации, для которого можно изменить источник. Выберите *Сохранить,* чтобы добавить вкладку в канал. После этого вкладка должна быть загружена в Microsoft Teams!

![запуск вкладки в командах](~/assets/yeoman-images/teams-first-app-6.png)

## <a name="upgrade-microsoft-teams"></a>Обновление Microsoft Teams

Вы также можете обновить текущую версию Microsoft Teams до последней версии с помощью генератора Yeoman Microsoft Teams.

**Обновление Microsoft Teams**

1. Получите текущую версию Teams со следующей командой:

   ```PowerShell
    yo teams --version
   ```
2. Чтобы обновить генератор, используйте следующую команду:

   ```PowerShell
    yo
   ```
3. Используйте клавиши стрелки, чтобы **выбрать Обновление генераторов**.

   ![изображение YoSelectUpdatGen](~/assets/images/Update-Teams/YoSelectUpdateGen.png)

4. Выберите нужный генератор из списка генераторов.
   > [!NOTE]
   > Используйте пробел для выбора или очистки выбранной версии Teams из доступных параметров.

    ![изображение useSpaceToSelectGenerators](~/assets/images/Update-Teams/UseSpaceToSelectGenerators.png)
    

   > [!NOTE]
   > Для завершения установки Teams требуется от нескольких секунд до нескольких минут.

5. После завершения установки используйте следующую команду для проверки установленной версии:

   ```PowerShell
    yo teams --version
   ```
   
**Поздравляю! Вы создали и развернули свое первое приложение Microsoft Teams. Вы также обновили Microsoft Teams.**
