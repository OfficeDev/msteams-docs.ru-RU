---
title: Проверка подлинности пользователей приложения
description: Описание проверки подлинности в Teams и ее использования в приложениях
ms.topic: conceptual
keywords: AAD для проверки подлинности OAuth для SSO teams
ms.openlocfilehash: 6ddcd8a9e847d9216b7e2dcc12733a6cd413b48e
ms.sourcegitcommit: 976e870cc925f61b76c3830ec04ba6e4bdfde32f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/27/2021
ms.locfileid: "50014294"
---
# <a name="authenticating-users-in-microsoft-teams"></a><span data-ttu-id="57351-104">Проверка подлинности пользователей в Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="57351-104">Authenticating users in Microsoft Teams</span></span>

> [!Note]
> <span data-ttu-id="57351-105">Для веб-проверки подлинности на мобильных клиентах требуется версия 1.4.1 или более поздней версии SDK JavaScript для Teams.</span><span class="sxs-lookup"><span data-stu-id="57351-105">Web-based authentication on mobile clients requires version 1.4.1 or later of the Teams JavaScript SDK.</span></span>

<span data-ttu-id="57351-106">Чтобы ваше приложение было получать доступ к сведениям о пользователях, защищенным с помощью Azure Active Directory, а также к данным из других служб, таких как Facebook и Twitter, приложению необходимо установить надежное подключение к этим поставщикам.</span><span class="sxs-lookup"><span data-stu-id="57351-106">In order for your app to access user information protected by Azure Active Directory, as well as access data from other services like Facebook and Twitter, your app will have to establish a trusted connection with those providers.</span></span> <span data-ttu-id="57351-107">Если ваше приложение должно использовать API Microsoft Graph в области действия пользователя, вам также потребуется проверить подлинность пользователя, чтобы получить соответствующие маркеры проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="57351-107">If your app needs to use Microsoft Graph APIs in the user scope, you'll also need to authenticate the user to retrieve the appropriate authentication tokens.</span></span>

<span data-ttu-id="57351-108">В Microsoft Teams существует два различных потока проверки подлинности, которые ваше приложение может использовать.</span><span class="sxs-lookup"><span data-stu-id="57351-108">In Microsoft Teams there are two different authentication flows for your app to take advantage of.</span></span> <span data-ttu-id="57351-109">Вы можете выполнить традиционный веб-поток [](~/tabs/how-to/create-tab-pages/content-page.md) проверки подлинности на странице контента, встроенной в вкладку, страницу конфигурации или модуль задачи.</span><span class="sxs-lookup"><span data-stu-id="57351-109">You can perform a traditional web-based authentication flow in a [content page](~/tabs/how-to/create-tab-pages/content-page.md) embedded in a tab, a configuration page, or a task module.</span></span> <span data-ttu-id="57351-110">Если ваше приложение содержит бота для беседы, вы можете использовать поток OAuthPrompt (и при желании службу маркеров Azure Bot Framework) для проверки подлинности пользователя в рамках беседы.</span><span class="sxs-lookup"><span data-stu-id="57351-110">If your app contains a conversational bot you can use the OAuthPrompt flow (and optionally the Azure Bot Framework's token service) to authenticate a user as part of a conversation.</span></span>

## <a name="web-based-authentication-flow"></a><span data-ttu-id="57351-111">Поток веб-проверки подлинности</span><span class="sxs-lookup"><span data-stu-id="57351-111">Web-based authentication flow</span></span>

<span data-ttu-id="57351-112">Вам потребуется использовать веб-поток проверки подлинности для вкладок [и](~/tabs/what-are-tabs.md)выбрать [](~/bots/what-are-bots.md) его для использования с ботами или расширениями обмена [сообщениями.](~/messaging-extensions/what-are-messaging-extensions.md)</span><span class="sxs-lookup"><span data-stu-id="57351-112">You'll need to use the web-based authentication flow for [tabs](~/tabs/what-are-tabs.md), and can choose to use it with [conversational bots](~/bots/what-are-bots.md) or [messaging extensions](~/messaging-extensions/what-are-messaging-extensions.md).</span></span> <span data-ttu-id="57351-113">Вы будете использовать клиентский [SDK JavaScript для Microsoft Teams](/javascript/api/overview/msteams-client) на странице веб-контента, чтобы включить проверку подлинности, а затем встраить эту страницу контента во вкладку, страницу конфигурации или модуль задачи.</span><span class="sxs-lookup"><span data-stu-id="57351-113">You'll use the [Microsoft Teams JavaScript client SDK](/javascript/api/overview/msteams-client) in a web content page to enable authentication, then embed that content page in a tab, a configuration page, or a task module.</span></span> <span data-ttu-id="57351-114">Если вы хотите использовать поток веб-проверки подлинности с ботом для беседы, необходимо использовать модуль задачи [с ботом.](~/task-modules-and-cards/task-modules/task-modules-bots.md)</span><span class="sxs-lookup"><span data-stu-id="57351-114">If you want to use the web-based authentication flow with a conversational bot, you'll need to [use a task module with a bot](~/task-modules-and-cards/task-modules/task-modules-bots.md).</span></span>

* <span data-ttu-id="57351-115">[Поток проверки подлинности на вкладке](~/tabs/how-to/authentication/auth-flow-tab.md) описывает работу проверки подлинности вкладок в Teams.</span><span class="sxs-lookup"><span data-stu-id="57351-115">[Authentication flow in tabs](~/tabs/how-to/authentication/auth-flow-tab.md) describes how tab authentication works in Teams.</span></span> <span data-ttu-id="57351-116">Здесь показан типичный веб-поток проверки подлинности, используемый для вкладок.</span><span class="sxs-lookup"><span data-stu-id="57351-116">This shows a typical web based authentication flow used for tabs.</span></span>
* <span data-ttu-id="57351-117">[Проверка подлинности Azure AD](~/tabs/how-to/authentication/auth-tab-AAD.md) на вкладке описывает, как подключиться к Azure Active Directory с помощью вкладки в приложении в Teams.</span><span class="sxs-lookup"><span data-stu-id="57351-117">[Azure AD authentication in tabs](~/tabs/how-to/authentication/auth-tab-AAD.md) describes how to connect to Azure Active Directory from within a tab in your app in Teams.</span></span>
* <span data-ttu-id="57351-118">[В этой статье](~/tabs/how-to/authentication/auth-silent-AAD.md) описывается, как уменьшить количество входов и получения согласия в приложении с помощью Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="57351-118">[Silent authentication (Azure AD)](~/tabs/how-to/authentication/auth-silent-AAD.md) describes how to reduce sign-in/consent prompts in your app using Azure Active Directory.</span></span>
* <span data-ttu-id="57351-119">Веб-проверка подлинности в [dotnet/C#](https://github.com/OfficeDev/microsoft-teams-sample-complete-csharp) или [JavaScript/Node.js](https://github.com/OfficeDev/microsoft-teams-sample-complete-node)</span><span class="sxs-lookup"><span data-stu-id="57351-119">Web-based authentication in [dotnet/C#](https://github.com/OfficeDev/microsoft-teams-sample-complete-csharp) or [JavaScript/Node.js](https://github.com/OfficeDev/microsoft-teams-sample-complete-node)</span></span>

## <a name="the-oauthprompt-flow-for-conversational-bots"></a><span data-ttu-id="57351-120">Поток OAuthPrompt для беседальных ботов</span><span class="sxs-lookup"><span data-stu-id="57351-120">The OAuthPrompt flow for conversational bots</span></span>

<span data-ttu-id="57351-121">OAuthPrompt платформы Azure Bot Framework упрощает проверку подлинности для приложений, использующих ботов для бесед.</span><span class="sxs-lookup"><span data-stu-id="57351-121">The Azure Bot Framework’s OAuthPrompt makes authentication easier for apps using conversational bots.</span></span> <span data-ttu-id="57351-122">Вы можете воспользоваться преимуществами службы маркеров Azure Bot Framework, чтобы помочь в кэшинге маркеров.</span><span class="sxs-lookup"><span data-stu-id="57351-122">You can take advantage of Azure Bot Framework's token service to assist with token caching as well.</span></span>

<span data-ttu-id="57351-123">Дополнительные сведения об использовании OAuthPrompt см. в:</span><span class="sxs-lookup"><span data-stu-id="57351-123">For more information on using the OAuthPrompt see:</span></span>

* <span data-ttu-id="57351-124">[Обзор потока проверки подлинности ботов](~/bots/how-to/authentication/auth-flow-bot.md) описывает работу проверки подлинности в боте в вашем приложении в Teams.</span><span class="sxs-lookup"><span data-stu-id="57351-124">[Bot authentication flow overview](~/bots/how-to/authentication/auth-flow-bot.md) describes how authentication works within a bot in your app in Teams.</span></span> <span data-ttu-id="57351-125">Здесь показан поток проверки подлинности не из Интернета, используемый для ботов во всех версиях Teams (веб-приложения, классические приложения и мобильные приложения)</span><span class="sxs-lookup"><span data-stu-id="57351-125">This shows a non-web based authentication flow used for bots on all versions of Teams (web, desktop app, and mobile apps)</span></span>
* [<span data-ttu-id="57351-126">Проверка подлинности бота</span><span class="sxs-lookup"><span data-stu-id="57351-126">Bot authentication</span></span>](~/bots/how-to/authentication/add-authentication.md)
* <span data-ttu-id="57351-127">Пример проверки подлинности бота (V3 SDK) в [dotnet/C#](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/csharp_dotnetcore/46.teams-auth) или [JavaScript/Node.js](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/javascript_nodejs/46.teams-auth)</span><span class="sxs-lookup"><span data-stu-id="57351-127">Bot authentication (v3 SDK) sample in [dotnet/C#](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/csharp_dotnetcore/46.teams-auth) or [JavaScript/Node.js](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/javascript_nodejs/46.teams-auth)</span></span>

## <a name="configure-your-identity-provider"></a><span data-ttu-id="57351-128">Настройка поставщика удостоверений</span><span class="sxs-lookup"><span data-stu-id="57351-128">Configure your identity provider</span></span>

<span data-ttu-id="57351-129">Независимо от того, какой поток проверки подлинности использует ваше приложение (возможно, вы даже используете оба этих потока), вам потребуется настроить поставщика удостоверений для взаимодействия с приложением Teams.</span><span class="sxs-lookup"><span data-stu-id="57351-129">Regardless of which authentication flow your app is using (you might even be using both), you'll need to configure your identity provider to communicate with your Teams app.</span></span> <span data-ttu-id="57351-130">Большинство примеров и по walkthroughs, которые вы найдете здесь, в основном связаны с использованием Azure Active Directory в качестве поставщика удостоверений.</span><span class="sxs-lookup"><span data-stu-id="57351-130">The majority of the samples and walkthroughs you'll find here will deal primarily with using Azure Active Directory as your identity provider.</span></span> <span data-ttu-id="57351-131">Однако концепции применяются независимо от используемого поставщика удостоверений.</span><span class="sxs-lookup"><span data-stu-id="57351-131">The concepts however apply regardless of which identity provider you'll use.</span></span>

<span data-ttu-id="57351-132">Дополнительные сведения [см. в настройке поставщика удостоверений](~/concepts/authentication/configure-identity-provider.md)</span><span class="sxs-lookup"><span data-stu-id="57351-132">For more information see [configuring an identity provider](~/concepts/authentication/configure-identity-provider.md)</span></span>
