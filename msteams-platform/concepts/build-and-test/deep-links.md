---
title: Создание прямых ссылок
description: Описывает глубокие ссылки и как их использовать в приложениях
ms.topic: how-to
localization_priority: Normal
keywords: команды глубокая связь deeplink
ms.openlocfilehash: 837d180b06f69b9be49d898c62b9ab8ee64d51d0
ms.sourcegitcommit: 51e4a1464ea58c254ad6bd0317aca03ebf6bf1f6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/19/2021
ms.locfileid: "52566056"
---
# <a name="create-deep-links"></a><span data-ttu-id="5319a-104">Создание прямых ссылок</span><span class="sxs-lookup"><span data-stu-id="5319a-104">Create deep links</span></span> 

<span data-ttu-id="5319a-105">Вы можете создавать ссылки на информацию и функции в Teams.</span><span class="sxs-lookup"><span data-stu-id="5319a-105">You can create links to information and features within Teams.</span></span> <span data-ttu-id="5319a-106">Сценарии, в которых создаются глубокие ссылки, являются следующими:</span><span class="sxs-lookup"><span data-stu-id="5319a-106">The scenarios where creating deep links are useful are as follows:</span></span>

* <span data-ttu-id="5319a-107">Навигация пользователя по содержимому в одной из вкладок приложения.</span><span class="sxs-lookup"><span data-stu-id="5319a-107">Navigating the user to the content within one of your app's tabs.</span></span> <span data-ttu-id="5319a-108">Например, в приложении может быть бот, который отправляет сообщения, уведомляющие пользователя о важном действии.</span><span class="sxs-lookup"><span data-stu-id="5319a-108">For instance, your app can have a bot that sends messages notifying the user of an important activity.</span></span> <span data-ttu-id="5319a-109">Когда пользователь нажимает на уведомление, глубокая ссылка переходит на вкладку, так что пользователь может просматривать более подробную информацию о деятельности.</span><span class="sxs-lookup"><span data-stu-id="5319a-109">When the user taps on the notification, the deep link navigates to the tab so that the user can view more details about the activity.</span></span>
* <span data-ttu-id="5319a-110">Приложение автоматизирует или упрощает определенные пользовательские задачи, такие как создание чата или планирование собрания, предварительно засасыв глубокие ссылки с требуемыми параметрами.</span><span class="sxs-lookup"><span data-stu-id="5319a-110">Your app automates or simplifies certain user tasks, such as creating a chat or scheduling a meeting, by pre populating the deep links with required parameters.</span></span> <span data-ttu-id="5319a-111">Это позволяет избежать необходимости для пользователей вручную вводить информацию.</span><span class="sxs-lookup"><span data-stu-id="5319a-111">This avoids the need for users to manually enter information.</span></span>

> [!NOTE]
>
> <span data-ttu-id="5319a-112">Deeplink запускает браузер, прежде чем переориентаться на контент.</span><span class="sxs-lookup"><span data-stu-id="5319a-112">A deeplink launches the browser first before navigating to content.</span></span> <span data-ttu-id="5319a-113">Поведение глубоких связей на Teams сущностей:</span><span class="sxs-lookup"><span data-stu-id="5319a-113">The behaviour of deep links on Teams entities are as follows:</span></span>
>
> <span data-ttu-id="5319a-114">**Вкладка**:</span><span class="sxs-lookup"><span data-stu-id="5319a-114">**Tab**:</span></span>  
> <span data-ttu-id="5319a-115">✔ непосредственно переходит к глубокой ссылке URL.</span><span class="sxs-lookup"><span data-stu-id="5319a-115">✔ Directly navigates to the deeplink url.</span></span>
>
> <span data-ttu-id="5319a-116">**Бот**:</span><span class="sxs-lookup"><span data-stu-id="5319a-116">**Bot**:</span></span>  
> <span data-ttu-id="5319a-117">✔ Deeplink в корпусе карты: открывается в браузере в первую очередь.</span><span class="sxs-lookup"><span data-stu-id="5319a-117">✔ Deeplink in card body: Opens in browser first.</span></span>  
> <span data-ttu-id="5319a-118">✔ Deeplink добавлен в действие OpenURL в адаптивной карте: непосредственно переходит к url-адресу deeplink.</span><span class="sxs-lookup"><span data-stu-id="5319a-118">✔ Deeplink added to OpenURL action in Adaptive Card: Directly navigates to the deeplink url.</span></span>  
> <span data-ttu-id="5319a-119">✔ Hyperlink разметки текст в карте: Открывается в браузере в первую очередь.</span><span class="sxs-lookup"><span data-stu-id="5319a-119">✔ Hyperlink markdown text in the card: Opens in browser first.</span></span>  
>
> <span data-ttu-id="5319a-120">**Чат**:</span><span class="sxs-lookup"><span data-stu-id="5319a-120">**Chat**:</span></span>  
> <span data-ttu-id="5319a-121">✔ сообщение hyperlink разметки: Непосредственно переходит к deeplink URL.</span><span class="sxs-lookup"><span data-stu-id="5319a-121">✔ Text message hyperlink markdown: Directly navigates to deeplink url.</span></span>  
> <span data-ttu-id="5319a-122">✔ ссылка вставить в общий разговор чат: Непосредственно переходит к deeplink URL.</span><span class="sxs-lookup"><span data-stu-id="5319a-122">✔ Link pasted in general chat conversation: Directly navigates to deeplink url.</span></span>

## <a name="deep-linking-to-your-tab"></a><span data-ttu-id="5319a-123">Глубокая ссылка на вкладку</span><span class="sxs-lookup"><span data-stu-id="5319a-123">Deep linking to your tab</span></span>

<span data-ttu-id="5319a-124">Вы можете создать глубокие ссылки на сущности в Teams.</span><span class="sxs-lookup"><span data-stu-id="5319a-124">You can create deep links to entities in Teams.</span></span> <span data-ttu-id="5319a-125">Это используется для создания ссылок, которые перемещаются по содержанию и информации в вашей вкладке. Например, если вкладка содержит список задач, члены группы могут создавать и обмениваться ссылками на отдельные задачи.</span><span class="sxs-lookup"><span data-stu-id="5319a-125">This is used to create links that navigate to content and information within your tab. For example, if your tab contains a task list, team members can create and share links to individual tasks.</span></span> <span data-ttu-id="5319a-126">При выборе ссылки он переходит к вкладке, которая фокусируется на конкретном элементе.</span><span class="sxs-lookup"><span data-stu-id="5319a-126">When you select the link, it navigates to your tab which focuses on the specific item.</span></span> <span data-ttu-id="5319a-127">Для реализации этого, вы добавляете **копию ссылку** действий для каждого элемента, каким бы образом лучше всего подходит ваш пользовательский интерфейс.</span><span class="sxs-lookup"><span data-stu-id="5319a-127">To implement this, you add a **copy link** action to each item, in whatever way best suits your UI.</span></span> <span data-ttu-id="5319a-128">Когда пользователь принимает это действие, вы звоните, `shareDeepLink()` чтобы отобразить диалоговое окно, содержащее ссылку, которую пользователь может скопировать на буфер обмена.</span><span class="sxs-lookup"><span data-stu-id="5319a-128">When the user takes this action, you call `shareDeepLink()` to display a dialog box containing a link that the user can copy to the clipboard.</span></span> <span data-ttu-id="5319a-129">При этом вызове вы также проходите идентификатор для вашего товара, который вы получаете обратно в [контексте,](~/tabs/how-to/access-teams-context.md) когда ссылка следует и ваша вкладка перезагружается.</span><span class="sxs-lookup"><span data-stu-id="5319a-129">When you make this call, you also pass an ID for your item, which you get back in the [context](~/tabs/how-to/access-teams-context.md) when the link is followed and your tab is reloaded.</span></span>

<span data-ttu-id="5319a-130">Кроме того, вы также можете создавать глубокие ссылки программно, используя формат, указанный позже в этой теме.</span><span class="sxs-lookup"><span data-stu-id="5319a-130">Alternatively, you can also generate deep links programmatically, using the format specified later in this topic.</span></span> <span data-ttu-id="5319a-131">Вы можете использовать глубокие ссылки в [сообщениях](~/bots/what-are-bots.md) [бота и](~/webhooks-and-connectors/what-are-webhooks-and-connectors.md) разъема, которые информируют пользователей об изменениях в вкладке или в ее предметах.</span><span class="sxs-lookup"><span data-stu-id="5319a-131">You can use deep links in [bot](~/bots/what-are-bots.md) and [connector](~/webhooks-and-connectors/what-are-webhooks-and-connectors.md) messages that inform users about changes to your tab, or to items within it.</span></span>

> [!NOTE]
> <span data-ttu-id="5319a-132">Эта глубокая ссылка отличается от ссылок, предоставляемых **copy ссылку на пункт меню** вкладки, которая просто генерирует глубокую ссылку, которая указывает на эту вкладку.</span><span class="sxs-lookup"><span data-stu-id="5319a-132">This deep link is different from the links provided by the **Copy link to tab** menu item, which just generates a deep link that points to this tab.</span></span>

>[!NOTE]
> <span data-ttu-id="5319a-133">В настоящее время shareDeepLink не работает на мобильных платформах.</span><span class="sxs-lookup"><span data-stu-id="5319a-133">Currently, shareDeepLink does not work on mobile platforms.</span></span>

### <a name="show-a-deep-link-to-an-item-within-your-tab"></a><span data-ttu-id="5319a-134">Показать глубокую ссылку на элемент в вкладке</span><span class="sxs-lookup"><span data-stu-id="5319a-134">Show a deep link to an item within your tab</span></span>

<span data-ttu-id="5319a-135">Чтобы показать диалоговое окно, которое содержит глубокую ссылку на элемент в вкладке, позвоните `microsoftTeams.shareDeepLink({ subEntityId: <subEntityId>, subEntityLabel: <subEntityLabel>, subEntityWebUrl: <subEntityWebUrl> })` .</span><span class="sxs-lookup"><span data-stu-id="5319a-135">To show a dialog box that contains a deep link to an item within your tab, call `microsoftTeams.shareDeepLink({ subEntityId: <subEntityId>, subEntityLabel: <subEntityLabel>, subEntityWebUrl: <subEntityWebUrl> })`.</span></span>

<span data-ttu-id="5319a-136">Предоставьте следующие поля:</span><span class="sxs-lookup"><span data-stu-id="5319a-136">Provide the following fields:</span></span>

* <span data-ttu-id="5319a-137">`subEntityId`: Уникальный идентификатор элемента в вкладке, к которому вы глубоко связаны.</span><span class="sxs-lookup"><span data-stu-id="5319a-137">`subEntityId`: A unique identifier for the item within your tab to which you are deep linking.</span></span>
* <span data-ttu-id="5319a-138">`subEntityLabel`: Метка для элемента для отображения глубокой ссылке.</span><span class="sxs-lookup"><span data-stu-id="5319a-138">`subEntityLabel`: A label for the item to use for displaying the deep link.</span></span>
* <span data-ttu-id="5319a-139">`subEntityWebUrl`: Дополнительное поле с обратным URL для использования, если клиент не поддерживает визуализацию вкладки.</span><span class="sxs-lookup"><span data-stu-id="5319a-139">`subEntityWebUrl`: An optional field with a fallback URL to use if the client does not support rendering the tab.</span></span>

### <a name="generate-a-deep-link-to-your-tab"></a><span data-ttu-id="5319a-140">Создание глубокой ссылки на вкладку</span><span class="sxs-lookup"><span data-stu-id="5319a-140">Generate a deep link to your tab</span></span>

> [!NOTE]
> <span data-ttu-id="5319a-141">Личные вкладки имеют `personal` область, в то время как канал и группы вкладок `team` использования или `group` сферы.</span><span class="sxs-lookup"><span data-stu-id="5319a-141">Personal tabs have a `personal` scope, while channel and group tabs use `team` or `group` scopes.</span></span> <span data-ttu-id="5319a-142">Эти два типа вкладок имеют несколько иной синтаксис, так как только настраиваемая вкладка имеет `channel` свойство, связанное с объектом контекста.</span><span class="sxs-lookup"><span data-stu-id="5319a-142">The two tab types have a slightly different syntax since only the configurable tab has a `channel` property associated with its context object.</span></span> <span data-ttu-id="5319a-143">Дополнительную [информацию о](~/resources/schema/manifest-schema.md) сферах вкладок можно получить в явном справочнике.</span><span class="sxs-lookup"><span data-stu-id="5319a-143">See the [manifest](~/resources/schema/manifest-schema.md) reference for more information on tab scopes.</span></span>

> [!NOTE]
> <span data-ttu-id="5319a-144">Глубокие ссылки работают должным образом только в том случае, если вкладка была настроена с помощью v0.4 или более поздней библиотеки и из-за этого имеет идентификатор сущности.</span><span class="sxs-lookup"><span data-stu-id="5319a-144">Deep links work properly only if the tab was configured using the v0.4 or later library and because of that has an entity ID.</span></span> <span data-ttu-id="5319a-145">Глубокие ссылки на вкладки без идентификаторов сущности по-прежнему перемещаются по вкладке, но не могут предоставить идентификатор подуком на вкладку.</span><span class="sxs-lookup"><span data-stu-id="5319a-145">Deep links to tabs without entity IDs still navigate to the tab but cannot provide the sub entity ID to the tab.</span></span>

<span data-ttu-id="5319a-146">Используйте следующий формат для глубокой ссылки, которую можно использовать в боте, разъеме или карточке расширения обмена сообщениями:</span><span class="sxs-lookup"><span data-stu-id="5319a-146">Use the following format for a deep link that you can use in a bot, connector, or messaging extension card:</span></span>

`https://teams.microsoft.com/l/entity/<appId>/<entityId>?webUrl=<entityWebUrl>&label=<entityLabel>&context=<context>`

> [!NOTE]
> <span data-ttu-id="5319a-147">Если бот отправляет сообщение, содержащее `TextBlock` глубокую ссылку, то новая вкладка браузера открыта, когда пользователь выбирает ссылку.</span><span class="sxs-lookup"><span data-stu-id="5319a-147">If the bot sends a message containing a `TextBlock` with a deep link, then a new browser tab is opened when the user selects the link.</span></span> <span data-ttu-id="5319a-148">Это происходит в Chrome и в приложении Microsoft Teams, как работает на Linux.</span><span class="sxs-lookup"><span data-stu-id="5319a-148">This happens in Chrome and in the Microsoft Teams desktop app, both running on Linux.</span></span>
> <span data-ttu-id="5319a-149">Если бот отправляет тот же глубокий URL ссылки в `Action.OpenUrl` , то вкладка Teams открыта в текущей вкладке браузера, когда пользователь выбирает ссылку.</span><span class="sxs-lookup"><span data-stu-id="5319a-149">If the bot sends the same deep link URL into an `Action.OpenUrl`, then the Teams tab is opened in the current browser tab when the user selects the link.</span></span> <span data-ttu-id="5319a-150">Новая вкладка браузера не открыта.</span><span class="sxs-lookup"><span data-stu-id="5319a-150">A new browser tab is not opened.</span></span>

<span data-ttu-id="5319a-151">Параметры запроса:</span><span class="sxs-lookup"><span data-stu-id="5319a-151">The query parameters are:</span></span>

| <span data-ttu-id="5319a-152">Имя параметра</span><span class="sxs-lookup"><span data-stu-id="5319a-152">Parameter name</span></span> | <span data-ttu-id="5319a-153">Описание</span><span class="sxs-lookup"><span data-stu-id="5319a-153">Description</span></span> | <span data-ttu-id="5319a-154">Пример</span><span class="sxs-lookup"><span data-stu-id="5319a-154">Example</span></span> |
|:------------|:--------------|:---------------------|
| `appId`&emsp; | <span data-ttu-id="5319a-155">Идентификатор из твоего манифеста.</span><span class="sxs-lookup"><span data-stu-id="5319a-155">The ID from your manifest.</span></span> |<span data-ttu-id="5319a-156">fe4a8eba-2a31-4737-8e33-e5fae6fee194</span><span class="sxs-lookup"><span data-stu-id="5319a-156">fe4a8eba-2a31-4737-8e33-e5fae6fee194</span></span>|
| `entityId`&emsp; | <span data-ttu-id="5319a-157">Идентификатор элемента во вкладке, который вы предоставили при [настройке вкладки.](~/tabs/how-to/create-tab-pages/configuration-page.md)</span><span class="sxs-lookup"><span data-stu-id="5319a-157">The ID for the item in the tab, which you provided when [configuring the tab](~/tabs/how-to/create-tab-pages/configuration-page.md).</span></span>|<span data-ttu-id="5319a-158">Целевой список123</span><span class="sxs-lookup"><span data-stu-id="5319a-158">Tasklist123</span></span>|
| <span data-ttu-id="5319a-159">`entityWebUrl` или `subEntityWebUrl`&emsp;</span><span class="sxs-lookup"><span data-stu-id="5319a-159">`entityWebUrl` or `subEntityWebUrl`&emsp;</span></span> | <span data-ttu-id="5319a-160">Дополнительное поле с обратным URL для использования, если клиент не поддерживает визуализацию вкладки.</span><span class="sxs-lookup"><span data-stu-id="5319a-160">An optional field with a fallback URL to use if the client does not support rendering the tab.</span></span> | <span data-ttu-id="5319a-161"> https://tasklist.example.com/123 или https://tasklist.example.com/list123/task456</span><span class="sxs-lookup"><span data-stu-id="5319a-161">https://tasklist.example.com/123 or https://tasklist.example.com/list123/task456</span></span> |
| <span data-ttu-id="5319a-162">`entityLabel` или `subEntityLabel`&emsp;</span><span class="sxs-lookup"><span data-stu-id="5319a-162">`entityLabel` or `subEntityLabel`&emsp;</span></span> | <span data-ttu-id="5319a-163">Метка для элемента в вкладке, чтобы использовать при отображении глубокой ссылке.</span><span class="sxs-lookup"><span data-stu-id="5319a-163">A label for the item in your tab, to use when displaying the deep link.</span></span> | <span data-ttu-id="5319a-164">Список задач 123 или "Task 456</span><span class="sxs-lookup"><span data-stu-id="5319a-164">Task List 123 or "Task 456</span></span> |
| <span data-ttu-id="5319a-165">`context`&emsp;</span><span class="sxs-lookup"><span data-stu-id="5319a-165">`context`&emsp;</span></span> </br></br>* `subEntityId`&emsp;</br></br> * `channelId`&emsp;| <span data-ttu-id="5319a-166">Объект JSON, содержащий следующие поля:</span><span class="sxs-lookup"><span data-stu-id="5319a-166">A JSON object containing the following fields:</span></span></br></br> <span data-ttu-id="5319a-167">Идентификатор элемента во вкладке.</span><span class="sxs-lookup"><span data-stu-id="5319a-167">\* An ID for the item within the tab.</span></span> </br></br> <span data-ttu-id="5319a-168">Идентификатор Microsoft Teams, который доступен в контексте [вкладки.](~/tabs/how-to/access-teams-context.md)</span><span class="sxs-lookup"><span data-stu-id="5319a-168">\*  The Microsoft Teams channel ID that is available from the tab [context](~/tabs/how-to/access-teams-context.md).</span></span> | 
| `subEntityId`&emsp; | <span data-ttu-id="5319a-169">Идентификатор элемента во вкладке.</span><span class="sxs-lookup"><span data-stu-id="5319a-169">An ID for the item within the tab.</span></span> |<span data-ttu-id="5319a-170">Задача456</span><span class="sxs-lookup"><span data-stu-id="5319a-170">Task456</span></span> |
| `channelId`&emsp; | <span data-ttu-id="5319a-171">Идентификатор Microsoft Teams, который доступен из контекста [вкладки.](~/tabs/how-to/access-teams-context.md)</span><span class="sxs-lookup"><span data-stu-id="5319a-171">The Microsoft Teams channel ID that is available from the tab [context](~/tabs/how-to/access-teams-context.md).</span></span> <span data-ttu-id="5319a-172">Это свойство доступно только в настраиваемых вкладок с областью **команды.**</span><span class="sxs-lookup"><span data-stu-id="5319a-172">This property is only available in configurable tabs with a scope of **team**.</span></span> <span data-ttu-id="5319a-173">Он не доступен в статических вкладок, которые имеют область **личных**.</span><span class="sxs-lookup"><span data-stu-id="5319a-173">It is not available in static tabs, which have a scope of **personal**.</span></span>| <span data-ttu-id="5319a-174">19:cbe3683f25094106b826c9cada3afbe0@thread.skype</span><span class="sxs-lookup"><span data-stu-id="5319a-174">19:cbe3683f25094106b826c9cada3afbe0@thread.skype</span></span> |

<span data-ttu-id="5319a-175">Примеры:</span><span class="sxs-lookup"><span data-stu-id="5319a-175">Examples:</span></span>

* <span data-ttu-id="5319a-176">Ссылка на сам настраиваемый вкладку: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123&label=Task List 123&context={"channelId": "19:cbe3683f25094106b826c9cada3afbe0@thread.skype"}`</span><span class="sxs-lookup"><span data-stu-id="5319a-176">Link to a configurable tab itself: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123&label=Task List 123&context={"channelId": "19:cbe3683f25094106b826c9cada3afbe0@thread.skype"}`</span></span>
* <span data-ttu-id="5319a-177">Ссылка на элемент задачи в настраиваемой вкладке: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123/456&label=Task 456&context={"subEntityId": "task456","channelId": "19:cbe3683f25094106b826c9cada3afbe0@thread.skype"}`</span><span class="sxs-lookup"><span data-stu-id="5319a-177">Link to a task item within the configurable tab: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123/456&label=Task 456&context={"subEntityId": "task456","channelId": "19:cbe3683f25094106b826c9cada3afbe0@thread.skype"}`</span></span>
* <span data-ttu-id="5319a-178">Ссылка на сам статический вкладку: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123&label=Task List 123`</span><span class="sxs-lookup"><span data-stu-id="5319a-178">Link to a static tab itself: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123&label=Task List 123`</span></span>
* <span data-ttu-id="5319a-179">Ссылка на элемент задачи в статической вкладке: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123/456&label=Task 456&context={"subEntityId": "task456"}`</span><span class="sxs-lookup"><span data-stu-id="5319a-179">Link to a task item within the static tab: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123/456&label=Task 456&context={"subEntityId": "task456"}`</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5319a-180">Убедитесь, что все параметры запроса должным образом закодированы URI.</span><span class="sxs-lookup"><span data-stu-id="5319a-180">Ensure that all query parameters are properly URI encoded.</span></span> <span data-ttu-id="5319a-181">Вы должны следовать примерам preceeding, используя последний пример:</span><span class="sxs-lookup"><span data-stu-id="5319a-181">You must follow the preceeding examples using the last example:</span></span>

> ```javascript
> var encodedWebUrl = encodeURI('https://tasklist.example.com/123/456&label=Task 456');
> var encodedContext = encodeURI('{"subEntityId": "task456"}');
> var taskItemUrl = 'https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=' + encodedWebUrl + '&context=' + encodedContext;
> ```

### <a name="consume-a-deep-link-from-a-tab"></a><span data-ttu-id="5319a-182">Потребляйте глубокую ссылку из вкладки</span><span class="sxs-lookup"><span data-stu-id="5319a-182">Consume a deep link from a tab</span></span>

<span data-ttu-id="5319a-183">При переходе на глубокую ссылку Microsoft Teams просто переходит на вкладку и предоставляет механизм через библиотеку Microsoft Teams JavaScript для извлечения идентификатора подуком образования, если он существует.</span><span class="sxs-lookup"><span data-stu-id="5319a-183">When navigating to a deep link, Microsoft Teams simply navigates to the tab and provides a mechanism through the Microsoft Teams JavaScript library to retrieve the sub-entity ID if it exists.</span></span>

<span data-ttu-id="5319a-184">Вызов [`microsoftTeams.getContext`](/javascript/api/@microsoft/teams-js#getcontext--context--context-----void-) возвращает контекст, который включает в себя `subEntityId` поле, если вкладка перемещается по глубокой ссылке.</span><span class="sxs-lookup"><span data-stu-id="5319a-184">The [`microsoftTeams.getContext`](/javascript/api/@microsoft/teams-js#getcontext--context--context-----void-) call returns a context that includes the `subEntityId` field if the tab is navigated through a deep link.</span></span>

## <a name="deep-linking-from-your-tab"></a><span data-ttu-id="5319a-185">Глубокая ссылка с вкладки</span><span class="sxs-lookup"><span data-stu-id="5319a-185">Deep linking from your tab</span></span>

<span data-ttu-id="5319a-186">Вы можете глубоко ссылку на содержание в Teams из вашей вкладке. Это полезно, если вкладке необходимо ссылку на другое содержимое в Teams, например, на канал, сообщение, другую вкладку или даже открыть диалог планирования.</span><span class="sxs-lookup"><span data-stu-id="5319a-186">You can deeplink to content in Teams from your tab. This is useful if your tab needs to link to other content in Teams, such as to a channel, message, another tab or even to open a scheduling dialog.</span></span> <span data-ttu-id="5319a-187">Чтобы вызвать глубокую ссылку из вкладки, вы должны позвонить:</span><span class="sxs-lookup"><span data-stu-id="5319a-187">To trigger a deeplink from your tab you should call:</span></span>

```Javascript
microsoftTeams.executeDeepLink(/*deepLink*/);
```

<span data-ttu-id="5319a-188">Этот вызов переходит к правильному URL-адресу или запускает действия клиента, такие как открытие планирования или диалог установки приложения.</span><span class="sxs-lookup"><span data-stu-id="5319a-188">This call navigates you to the correct URL, or trigger a client action, such as opening a scheduling or app install dialog.</span></span> <span data-ttu-id="5319a-189">Пример приведен в следующей статье:</span><span class="sxs-lookup"><span data-stu-id="5319a-189">See the following example:</span></span>

```Javascript
// Open a scheduling dialog from your tab
microsoftTeams.executeDeepLink("https://teams.microsoft.com/l/meeting/new?subject=test%20subject&attendees=joe@contoso.com,bob@contoso.com&startTime=10%2F24%2F2018%2010%3A30%3A00&endTime=10%2F24%2F2018%2010%3A30%3A00&content=test%3Acontent");

// Open an app install dialog from your tab
microsoftTeams.executeDeepLink("https://teams.microsoft.com/l/app/f46ad259-0fe5-4f12-872d-c737b174bcb4");
```

## <a name="deep-linking-to-a-chat"></a><span data-ttu-id="5319a-190">Глубокая ссылка на чат</span><span class="sxs-lookup"><span data-stu-id="5319a-190">Deep linking to a chat</span></span>

<span data-ttu-id="5319a-191">Вы можете создать глубокие ссылки на приватные чаты между пользователями, указав набор участников.</span><span class="sxs-lookup"><span data-stu-id="5319a-191">You can create deep links to private chats between users by specifying the set of participants.</span></span> <span data-ttu-id="5319a-192">Если чата нет с указанными участниками, ссылка переходит пользователю в пустой новый чат.</span><span class="sxs-lookup"><span data-stu-id="5319a-192">If a chat does not exist with the specified participants, the link navigates the user to an empty new chat.</span></span> <span data-ttu-id="5319a-193">Новые чаты создаются в состоянии проекта до тех пор, пока пользователь не отправит первое сообщение.</span><span class="sxs-lookup"><span data-stu-id="5319a-193">New chats are  created in draft state until the user sends the first message.</span></span> <span data-ttu-id="5319a-194">В противном случае можно указать имя чата, если его еще нет, а также текст, который должен быть вставлен в поле составления композиций пользователя.</span><span class="sxs-lookup"><span data-stu-id="5319a-194">Otherwise, you can specify the name of the chat if it does not already exist, along with text that should be inserted into the user's compose box.</span></span> <span data-ttu-id="5319a-195">Вы можете думать об этой функции, как ярлык для пользователя, принимая ручное действие навигации или создания чата, а затем набрав сообщение.</span><span class="sxs-lookup"><span data-stu-id="5319a-195">You can think of this feature as a shortcut for the user taking the manual action of navigating to or creating the chat, and then typing out the message.</span></span>

<span data-ttu-id="5319a-196">В качестве примера использования случае, если вы возвращаете Office 365 профиля пользователя из вашего бота в качестве карты, эта глубокая ссылка может позволить пользователю легко общаться с этим человеком.</span><span class="sxs-lookup"><span data-stu-id="5319a-196">As an example use case, if you are returning an Office 365 user profile from your bot as a card, this deep link can allow the user to easily chat with that person.</span></span>

### <a name="generate-a-deep-link-to-a-chat"></a><span data-ttu-id="5319a-197">Создание глубокой ссылки на чат</span><span class="sxs-lookup"><span data-stu-id="5319a-197">Generate a deep link to a chat</span></span>

<span data-ttu-id="5319a-198">Используйте этот формат для глубокой ссылки, которую можно использовать в боте, разъеме или карте расширения обмена сообщениями:</span><span class="sxs-lookup"><span data-stu-id="5319a-198">Use this format for a deep link that you can use in a bot, connector, or messaging extension card:</span></span>

`https://teams.microsoft.com/l/chat/0/0?users=<user1>,<user2>,...&topicName=<chat name>&message=<precanned text>`

<span data-ttu-id="5319a-199">Пример: `https://teams.microsoft.com/l/chat/0/0?users=joe@contoso.com,bob@contoso.com&topicName=Prep%20For%20Meeting%20Tomorrow&message=Hi%20folks%2C%20kicking%20off%20a%20chat%20about%20our%20meeting%20tomorrow`</span><span class="sxs-lookup"><span data-stu-id="5319a-199">Example: `https://teams.microsoft.com/l/chat/0/0?users=joe@contoso.com,bob@contoso.com&topicName=Prep%20For%20Meeting%20Tomorrow&message=Hi%20folks%2C%20kicking%20off%20a%20chat%20about%20our%20meeting%20tomorrow`</span></span>

<span data-ttu-id="5319a-200">Параметры запроса:</span><span class="sxs-lookup"><span data-stu-id="5319a-200">The query parameters are:</span></span>

* <span data-ttu-id="5319a-201">`users`: Запятый список пользовательских iD,3, представляющих участников чата.</span><span class="sxs-lookup"><span data-stu-id="5319a-201">`users`: The comma-separated list of user IDs representing the participants of the chat.</span></span> <span data-ttu-id="5319a-202">Пользователь, который выполняет действие, всегда включается в качестве участника.</span><span class="sxs-lookup"><span data-stu-id="5319a-202">The user that performs the action is always included as a participant.</span></span> <span data-ttu-id="5319a-203">В настоящее время поле User ID поддерживает Azure AD UserPrincipalName, например только адрес электронной почты.</span><span class="sxs-lookup"><span data-stu-id="5319a-203">Currently, the User ID field supports the Azure AD UserPrincipalName, such as an email address only.</span></span>
* <span data-ttu-id="5319a-204">`topicName`: Дополнительное поле для отображения имени чата, в случае чата с 3 или более пользователями.</span><span class="sxs-lookup"><span data-stu-id="5319a-204">`topicName`: An optional field for chat's display name, in the case of a chat with 3 or more users.</span></span> <span data-ttu-id="5319a-205">Если это поле не указано, имя отображения чата основано на именах участников.</span><span class="sxs-lookup"><span data-stu-id="5319a-205">If this field is not specified, the chat's display name is based on the names of the participants.</span></span>
* <span data-ttu-id="5319a-206">`message`: Дополнительное поле для текста сообщения, которое вы хотите вставить в текущее поле композиции пользователя, пока чат находится в состоянии чернового проекта.</span><span class="sxs-lookup"><span data-stu-id="5319a-206">`message`: An optional field for the message text that you want to insert into the current user's compose box while the chat is in a draft state.</span></span>

<span data-ttu-id="5319a-207">Чтобы использовать эту глубокую связь с ботом, укажите это в качестве цели URL в кнопке карты или нажмите действие через `openUrl` тип действия.</span><span class="sxs-lookup"><span data-stu-id="5319a-207">To use this deep link with your bot, specify this as the URL target in your card's button or tap action through the `openUrl` action type.</span></span>

## <a name="generate-deep-links-to-file-in-channel"></a><span data-ttu-id="5319a-208">Создание глубоких ссылок на файл в канале</span><span class="sxs-lookup"><span data-stu-id="5319a-208">Generate deep links to file in channel</span></span>

<span data-ttu-id="5319a-209">Следующий формат глубокой ссылки может быть использован в боте, разъеме или карте расширения обмена сообщениями:</span><span class="sxs-lookup"><span data-stu-id="5319a-209">The following deep link format can be used in a bot, connector, or messaging extension card:</span></span>

`https://teams.microsoft.com/l/file/5E0154FC-F2B4-4DA5-8CDA-F096E72C0A80?tenantId=<tenantid>&fileType=<filetype>&objectURL=<objectURL>&baseUrl=<baseURL>&serviceName=<Name>&threadId=<threadid>&groupId=<groupId>`

<span data-ttu-id="5319a-210">Параметры запроса:</span><span class="sxs-lookup"><span data-stu-id="5319a-210">The query parameters are:</span></span>

* <span data-ttu-id="5319a-211">`tenantId`: Арендатор ID пример, 0d9b645f-597b-41f0-a2a3-ef103fbd91bb</span><span class="sxs-lookup"><span data-stu-id="5319a-211">`tenantId`: Tenant ID example, 0d9b645f-597b-41f0-a2a3-ef103fbd91bb</span></span>
* <span data-ttu-id="5319a-212">`fileType`: Поддерживаемый тип файла, такие как docx, pptx, xlsx и pdf</span><span class="sxs-lookup"><span data-stu-id="5319a-212">`fileType`: Supported file type, such as docx, pptx, xlsx, and pdf</span></span>
* <span data-ttu-id="5319a-213">`objectUrl`: URL-адрес файла, https://microsoft.sharepoint.com/teams/(filepath)</span><span class="sxs-lookup"><span data-stu-id="5319a-213">`objectUrl`: Object URL of the file, https://microsoft.sharepoint.com/teams/(filepath)</span></span>
* <span data-ttu-id="5319a-214">`baseUrl`: Базовый URL файла, https://microsoft.sharepoint.com/teams</span><span class="sxs-lookup"><span data-stu-id="5319a-214">`baseUrl`: Base URL of the file, https://microsoft.sharepoint.com/teams</span></span>
* <span data-ttu-id="5319a-215">`serviceName`: Название службы, идентификатор приложения</span><span class="sxs-lookup"><span data-stu-id="5319a-215">`serviceName`: Name of the service, app ID</span></span>
* <span data-ttu-id="5319a-216">`threadId`: threadId является идентификатором команды команды, где хранится файл.</span><span class="sxs-lookup"><span data-stu-id="5319a-216">`threadId`: The threadId is the team ID of the team where the file is stored.</span></span> <span data-ttu-id="5319a-217">Он не является обязательным и не может быть установлен для файлов, хранящихся в папке OneDrive пользователя.</span><span class="sxs-lookup"><span data-stu-id="5319a-217">It is optional and cannot be set for files stored in a user's OneDrive folder.</span></span> <span data-ttu-id="5319a-218">threadId - 19:f8fbfc4d89e24ef5b3b8692538cebeb7@thread.skype</span><span class="sxs-lookup"><span data-stu-id="5319a-218">threadId - 19:f8fbfc4d89e24ef5b3b8692538cebeb7@thread.skype</span></span>
* <span data-ttu-id="5319a-219">`groupId`: Идентификатор группы файла, ae063b79-5315-4ddb-ba70-27328ba6c31e</span><span class="sxs-lookup"><span data-stu-id="5319a-219">`groupId`: Group ID of the file, ae063b79-5315-4ddb-ba70-27328ba6c31e</span></span>

<span data-ttu-id="5319a-220">Ниже приводится пример формата deeplink к файлам:</span><span class="sxs-lookup"><span data-stu-id="5319a-220">Following is the sample format of deeplink to files:</span></span>

`https://teams.microsoft.com/l/file/5E0154FC-F2B4-4DA5-8CDA-F096E72C0A80 ?tenantId=0d9b645f-597b-41f0-a2a3-ef103fbd91bb&fileType=pptx&objectUrl=https%3A%2F%2Fmicrosoft.sharepoint.com%2Fteams%2FActionPlatform%2FShared%20Documents%2FFC7-%20Bot%20and%20Action%20Infra%2FKaizala%20Actions%20in%20Adaptive%20Cards%20-%20Deck.pptx&baseUrl=https%3A%2F%2Fmicrosoft.sharepoint.com%2Fteams%2FActionPlatform&serviceName=teams&threadId=19:f8fbfc4d89e24ef5b3b8692538cebeb7@thread.skype&groupId=ae063b79-5315-4ddb-ba70-27328ba6c31e`

### <a name="serialization-of-this-object"></a><span data-ttu-id="5319a-221">Сериализация этого объекта:</span><span class="sxs-lookup"><span data-stu-id="5319a-221">Serialization of this object:</span></span>
```
{
tenantId: "0d9b645f-597b-41f0-a2a3-ef103fbd91bb",
filetype: = "pptx",
objectUrl: "https://microsoft.sharepoint.com/teams/ActionPlatform/Shared Documents/FC7- Bot and Action Infra/Kaizala Actions in Adaptive Cards - Deck.pptx",
baseUrl: "https://microsoft.sharepoint.com/teams/ActionPlatform",
serviceName: "teams",
threadId: = "19:f8fbfc4d89e24ef5b3b8692538cebeb7@thread.skype",
groupId: "ae063b79-5315-4ddb-ba70-27328ba6c31e"
}
```
## <a name="deep-linking-for-sharepoint-framework-tabs"></a><span data-ttu-id="5319a-222">Глубокая ссылка для SharePoint Framework вкладок</span><span class="sxs-lookup"><span data-stu-id="5319a-222">Deep linking for SharePoint Framework tabs</span></span>

<span data-ttu-id="5319a-223">Следующий формат глубокой ссылки может быть использован в боте, разъеме или карте расширения обмена сообщениями: `https://teams.microsoft.com/l/entity/<AppId>/<EntityId>?webUrl=<entityWebUrl>/<EntityName>`</span><span class="sxs-lookup"><span data-stu-id="5319a-223">The following deep link format can be used in a bot, connector or messaging extension card: `https://teams.microsoft.com/l/entity/<AppId>/<EntityId>?webUrl=<entityWebUrl>/<EntityName>`</span></span>

> [!NOTE]
> <span data-ttu-id="5319a-224">Когда бот отправляет сообщение TextBlock с глубокой ссылкой, новая вкладка браузера открывается, когда пользователи выбирают ссылку.</span><span class="sxs-lookup"><span data-stu-id="5319a-224">When a bot sends a TextBlock message with a deep link, a new browser tab opens when users select the link.</span></span> <span data-ttu-id="5319a-225">Это происходит в Chrome и Microsoft Teams приложении, запущенной на Linux.</span><span class="sxs-lookup"><span data-stu-id="5319a-225">This happens in Chrome and Microsoft Teams desktop app running on Linux.</span></span>
> <span data-ttu-id="5319a-226">Если бот отправляет тот же глубокий URL-адрес ссылки `Action.OpenUrl` в, Teams вкладка открывается в текущем браузере, когда пользователь выбирает ссылку.</span><span class="sxs-lookup"><span data-stu-id="5319a-226">If the bot sends the same deep link URL into an `Action.OpenUrl`, the Teams tab opens in the current browser when the user selects the link.</span></span> <span data-ttu-id="5319a-227">Новая вкладка браузера не открыта.</span><span class="sxs-lookup"><span data-stu-id="5319a-227">No new browser tab is opened.</span></span>

<span data-ttu-id="5319a-228">Параметры запроса:</span><span class="sxs-lookup"><span data-stu-id="5319a-228">The query parameters are:</span></span>

* <span data-ttu-id="5319a-229">`appID`: Ваш манифест ID **fe4a8eba-2a31-4737-8e33-e5fae6fee194**.</span><span class="sxs-lookup"><span data-stu-id="5319a-229">`appID`: Your manifest ID **fe4a8eba-2a31-4737-8e33-e5fae6fee194**.</span></span>

* <span data-ttu-id="5319a-230">`entityID`: Идентификатор элемента, который вы предоставили при [настройке вкладки.](~/tabs/how-to/create-tab-pages/configuration-page.md) Например, **список задач123**.</span><span class="sxs-lookup"><span data-stu-id="5319a-230">`entityID`: The item ID that you provided when [configuring the tab](~/tabs/how-to/create-tab-pages/configuration-page.md). For example, **tasklist123**.</span></span>
* <span data-ttu-id="5319a-231">`entityWebUrl`: Дополнительное поле с обратным URL для использования, если клиент не поддерживает визуализацию вкладки - https://tasklist.example.com/123 или https://tasklist.example.com/list123/task456 .</span><span class="sxs-lookup"><span data-stu-id="5319a-231">`entityWebUrl`: An optional field with a fallback URL to use if the client does not support rendering of the tab - https://tasklist.example.com/123 or https://tasklist.example.com/list123/task456.</span></span>
* <span data-ttu-id="5319a-232">`entityName`: Метка для элемента во вкладке, для использования при отображении глубокой ссылки, список задач 123 или задача 456.</span><span class="sxs-lookup"><span data-stu-id="5319a-232">`entityName`: A label for the item in your tab, to use when displaying the deep link, Task List 123 or Task 456.</span></span>

<span data-ttu-id="5319a-233">Пример: https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123&TaskList</span><span class="sxs-lookup"><span data-stu-id="5319a-233">Example: https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123&TaskList</span></span>

## <a name="deep-linking-to-the-scheduling-dialog"></a><span data-ttu-id="5319a-234">Глубокая ссылка на диалог планирования</span><span class="sxs-lookup"><span data-stu-id="5319a-234">Deep linking to the scheduling dialog</span></span>

> [!NOTE]
> <span data-ttu-id="5319a-235">Эта функция в настоящее время находится в предварительном просмотре разработчика.</span><span class="sxs-lookup"><span data-stu-id="5319a-235">This feature is currently in developer preview.</span></span>

<span data-ttu-id="5319a-236">Вы можете создать глубокие ссылки Teams встроенный диалог планирования.</span><span class="sxs-lookup"><span data-stu-id="5319a-236">You can create deep links to the Teams built-in scheduling dialog.</span></span> <span data-ttu-id="5319a-237">Это особенно полезно, если приложение помогает пользователю выполнять задачи, связанные с календарем или планированием.</span><span class="sxs-lookup"><span data-stu-id="5319a-237">This is especially useful if your app helps the user complete calendar or scheduling related tasks.</span></span>

### <a name="generate-a-deep-link-to-the-scheduling-dialog"></a><span data-ttu-id="5319a-238">Создание глубокой ссылки на диалог планирования</span><span class="sxs-lookup"><span data-stu-id="5319a-238">Generate a deep link to the scheduling dialog</span></span>

<span data-ttu-id="5319a-239">Используйте следующий формат для глубокой ссылки, которую можно использовать в карте расширения бота, разъема или обмена сообщениями: `https://teams.microsoft.com/l/meeting/new?subject=<meeting subject>&startTime=<date>&endTime=<date>&content=<content>&attendees=<user1>,<user2>,<user3>,...`</span><span class="sxs-lookup"><span data-stu-id="5319a-239">Use the following format for a deep link that you can use in a bot, Connector, or messaging extension card: `https://teams.microsoft.com/l/meeting/new?subject=<meeting subject>&startTime=<date>&endTime=<date>&content=<content>&attendees=<user1>,<user2>,<user3>,...`</span></span>

<span data-ttu-id="5319a-240">Пример: `https://teams.microsoft.com/l/meeting/new?subject=test%20subject&attendees=joe@contoso.com,bob@contoso.com&startTime=10%2F24%2F2018%2010%3A30%3A00&endTime=10%2F24%2F2018%2010%3A30%3A00&content=test%3Acontent`</span><span class="sxs-lookup"><span data-stu-id="5319a-240">Example: `https://teams.microsoft.com/l/meeting/new?subject=test%20subject&attendees=joe@contoso.com,bob@contoso.com&startTime=10%2F24%2F2018%2010%3A30%3A00&endTime=10%2F24%2F2018%2010%3A30%3A00&content=test%3Acontent`</span></span>

<span data-ttu-id="5319a-241">Параметры запроса:</span><span class="sxs-lookup"><span data-stu-id="5319a-241">The query parameters are:</span></span>

* <span data-ttu-id="5319a-242">`attendees`: Дополнительный запятый список пользовательских iD-интерфейсов, представляющих участников собрания.</span><span class="sxs-lookup"><span data-stu-id="5319a-242">`attendees`: The optional comma-separated list of user IDs representing the attendees of the meeting.</span></span> <span data-ttu-id="5319a-243">Пользователь, выполняющий действие, является организатором собрания.</span><span class="sxs-lookup"><span data-stu-id="5319a-243">The user performing the action is the meeting organizer.</span></span> <span data-ttu-id="5319a-244">Поле идентификатора пользователя в настоящее время поддерживает только Azure AD UserPrincipalName, обычно адрес электронной почты.</span><span class="sxs-lookup"><span data-stu-id="5319a-244">The User ID field currently only supports the Azure AD UserPrincipalName, typically an email address.</span></span>
* <span data-ttu-id="5319a-245">`startTime`: Дополнительное время начала мероприятия.</span><span class="sxs-lookup"><span data-stu-id="5319a-245">`startTime`: The optional start time of the event.</span></span> <span data-ttu-id="5319a-246">Это должно быть в [длинном формате ISO 8601,](https://en.wikipedia.org/wiki/ISO_8601) *например 2018-03-12T23:55:25-02:00*.</span><span class="sxs-lookup"><span data-stu-id="5319a-246">This should be in [long ISO 8601 format](https://en.wikipedia.org/wiki/ISO_8601), for example *2018-03-12T23:55:25+02:00*.</span></span>
* <span data-ttu-id="5319a-247">`endTime`: Дополнительное время окончания мероприятия, также в формате ISO 8601.</span><span class="sxs-lookup"><span data-stu-id="5319a-247">`endTime`: The optional end time of the event, also in ISO 8601 format.</span></span>
* <span data-ttu-id="5319a-248">`subject`: Дополнительное поле для темы встречи.</span><span class="sxs-lookup"><span data-stu-id="5319a-248">`subject`: An optional field for the meeting subject.</span></span>
* <span data-ttu-id="5319a-249">`content`: Дополнительное поле для поля деталей собрания.</span><span class="sxs-lookup"><span data-stu-id="5319a-249">`content`: An optional field for the meeting details field.</span></span>

> [!NOTE]
> <span data-ttu-id="5319a-250">В настоящее время указание местоположения не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="5319a-250">Currently, specifying the location is not supported.</span></span> <span data-ttu-id="5319a-251">Вы должны указать UTC смещения, это означает часовые пояса при генерации вашего начала и конца времени.</span><span class="sxs-lookup"><span data-stu-id="5319a-251">You must specify the UTC offset, it means time zones when generating your start and end times.</span></span>

<span data-ttu-id="5319a-252">Чтобы использовать эту глубокую связь с ботом, вы можете указать это в качестве цели URL в кнопке карты или нажмите действие через `openUrl` тип действия.</span><span class="sxs-lookup"><span data-stu-id="5319a-252">To use this deep link with your bot, you can specify this as the URL target in your card's button or tap action through the `openUrl` action type.</span></span>

## <a name="deep-linking-to-an-audio-or-audio-video-call"></a><span data-ttu-id="5319a-253">Глубокая ссылка на аудио- или аудио-видеозвонок</span><span class="sxs-lookup"><span data-stu-id="5319a-253">Deep linking to an audio or audio-video call</span></span>

<span data-ttu-id="5319a-254">Вы можете создать глубокие ссылки для вызова аудио только или аудио-видео звонки для одного пользователя или группы пользователей, указав тип вызова, *как аудио* *или AV*, и участников.</span><span class="sxs-lookup"><span data-stu-id="5319a-254">You can create deep links to invoke audio only or audio-video calls to a single user or a group of users, by specifying the call type, as *audio* or *av*, and the participants.</span></span> <span data-ttu-id="5319a-255">После вызова глубокой ссылки и перед размещением вызова Teams настольный клиент подсказывает подтверждение для звонка.</span><span class="sxs-lookup"><span data-stu-id="5319a-255">After the deep link is invoked and before placing the call, Teams desktop client prompts a confirmation to make the call.</span></span> <span data-ttu-id="5319a-256">В случае группового вызова можно вызвать набор пользователей VoIP и набор пользователей PSTN в том же глубоком вызове ссылки.</span><span class="sxs-lookup"><span data-stu-id="5319a-256">In case of group call, you can call a set of VoIP users and a set of PSTN users in the same deeplink invocation.</span></span> 

<span data-ttu-id="5319a-257">В случае видеозвона клиент попросит подтверждения и включите видео вызывающего абонента для вызова.</span><span class="sxs-lookup"><span data-stu-id="5319a-257">In case of a video call, the client will ask for confirmation and turn on the caller's video for the call.</span></span> <span data-ttu-id="5319a-258">Получатель вызова имеет выбор ответить только через аудио или аудио и видео, через окно Teams вызова.</span><span class="sxs-lookup"><span data-stu-id="5319a-258">The receiver of the call has a choice to respond through audio only or audio and video, through the Teams call notification window.</span></span>

> [!NOTE]
> <span data-ttu-id="5319a-259">Эта глубокая ссылка не может быть использована для вызова собрания.</span><span class="sxs-lookup"><span data-stu-id="5319a-259">This deeplink cannot be used for invoking a meeting.</span></span>

### <a name="generate-a-deep-link-to-a-call"></a><span data-ttu-id="5319a-260">Создание глубокой ссылки на вызов</span><span class="sxs-lookup"><span data-stu-id="5319a-260">Generate a deep link to a call</span></span>

| <span data-ttu-id="5319a-261">Глубокая ссылка</span><span class="sxs-lookup"><span data-stu-id="5319a-261">Deep link</span></span> | <span data-ttu-id="5319a-262">Формат</span><span class="sxs-lookup"><span data-stu-id="5319a-262">Format</span></span> | <span data-ttu-id="5319a-263">Пример</span><span class="sxs-lookup"><span data-stu-id="5319a-263">Example</span></span> |
|-----------|--------|---------|
| <span data-ttu-id="5319a-264">Сделать аудиозвуок</span><span class="sxs-lookup"><span data-stu-id="5319a-264">Make an audio call</span></span> | <span data-ttu-id="5319a-265"> https://teams.microsoft.com/l/call/0/0?users=&lt;user1 &gt; , &lt; user2&gt;</span><span class="sxs-lookup"><span data-stu-id="5319a-265">https://teams.microsoft.com/l/call/0/0?users=&lt;user1&gt;,&lt;user2&gt;</span></span> | https://teams.microsoft.com/l/call/0/0?users=joe@contoso.com |
| <span data-ttu-id="5319a-266">Сделать аудио- и видеозвонок</span><span class="sxs-lookup"><span data-stu-id="5319a-266">Make an audio and video call</span></span> | <span data-ttu-id="5319a-267"> https://teams.microsoft.com/l/call/0/0?users=&lt;user1 &gt; , &lt; user2&&gt; свидео-истинным</span><span class="sxs-lookup"><span data-stu-id="5319a-267">https://teams.microsoft.com/l/call/0/0?users=&lt;user1&gt;,&lt;user2&gt;&withvideo=true</span></span> | https://teams.microsoft.com/l/call/0/0?users=joe@contoso.com&withvideo=true |
|<span data-ttu-id="5319a-268">Сделать аудио- и видеозвонок с дополнительным источником параметров</span><span class="sxs-lookup"><span data-stu-id="5319a-268">Make an audio and video call with an optional parameter source</span></span> | <span data-ttu-id="5319a-269"> https://teams.microsoft.com/l/call/0/0?users=&lt;user1 &gt; , &lt; user2&&gt; свидео-истинным&источником»demoApp</span><span class="sxs-lookup"><span data-stu-id="5319a-269">https://teams.microsoft.com/l/call/0/0?users=&lt;user1&gt;,&lt;user2&gt;&withvideo=true&source=demoApp</span></span> | https://teams.microsoft.com/l/call/0/0?users=joe@contoso.com&withvideo=true&source=demoApp |  
| <span data-ttu-id="5319a-270">Сделайте аудио- и видеозвонок для комбинации пользователей VoIP и PSTN</span><span class="sxs-lookup"><span data-stu-id="5319a-270">Make an audio and video call to a combination of VoIP and PSTN users</span></span> | <span data-ttu-id="5319a-271"> https://teams.microsoft.com/l/call/0/0?users=&lt&gt;;user1,4: &lt; phonenumber&gt;</span><span class="sxs-lookup"><span data-stu-id="5319a-271">https://teams.microsoft.com/l/call/0/0?users=&lt;user1&gt;,4:&lt;phonenumber&gt;</span></span> | <span data-ttu-id="5319a-272"> https://teams.microsoft.com/l/call/0/0?users=joe@contoso.com,4:9876543210</span><span class="sxs-lookup"><span data-stu-id="5319a-272">https://teams.microsoft.com/l/call/0/0?users=joe@contoso.com,4:9876543210</span></span> |
  
<span data-ttu-id="5319a-273">Ниже приведены параметры запроса:</span><span class="sxs-lookup"><span data-stu-id="5319a-273">Following are the query parameters:</span></span>
* <span data-ttu-id="5319a-274">`users`: Запятый список пользовательских iD-данных, представляющих участников звонка.</span><span class="sxs-lookup"><span data-stu-id="5319a-274">`users`: The comma-separated list of user IDs representing the participants of the call.</span></span> <span data-ttu-id="5319a-275">В настоящее время поле User ID поддерживает Azure AD UserPrincipalName, обычно адрес электронной почты, или в случае вызова PSTN, он поддерживает pstn mri 4: &lt; phonenumber &gt; .</span><span class="sxs-lookup"><span data-stu-id="5319a-275">Currently, the User ID field supports the Azure AD UserPrincipalName, typically an email address, or in case of a PSTN call, it supports a pstn mri 4:&lt;phonenumber&gt;.</span></span>
* <span data-ttu-id="5319a-276">`Withvideo`: Это дополнительный параметр, который можно использовать для видеозвонок.</span><span class="sxs-lookup"><span data-stu-id="5319a-276">`Withvideo`: This is an optional parameter, which you can use to make a video call.</span></span> <span data-ttu-id="5319a-277">Установка этого параметра будет только включить камеру вызывающего абонента.</span><span class="sxs-lookup"><span data-stu-id="5319a-277">Setting this parameter will only turn on the caller's camera.</span></span> <span data-ttu-id="5319a-278">Получатель вызова имеет выбор ответить через аудио или аудио-и видеозвонок через окно Teams вызова.</span><span class="sxs-lookup"><span data-stu-id="5319a-278">The receiver of the call has a choice to answer through audio or audio and video call through the Teams call notification window.</span></span> 
* <span data-ttu-id="5319a-279">`Source`: Это дополнительный параметр, который информирует об источнике глубокой ссылки.</span><span class="sxs-lookup"><span data-stu-id="5319a-279">`Source`: This is an optional parameter, which informs about the source of the deeplink.</span></span>

## <a name="code-sample"></a><span data-ttu-id="5319a-280">Пример кода</span><span class="sxs-lookup"><span data-stu-id="5319a-280">Code sample</span></span>

| <span data-ttu-id="5319a-281">Название образца</span><span class="sxs-lookup"><span data-stu-id="5319a-281">Sample name</span></span> | <span data-ttu-id="5319a-282">Описание</span><span class="sxs-lookup"><span data-stu-id="5319a-282">Description</span></span> | <span data-ttu-id="5319a-283">C#</span><span class="sxs-lookup"><span data-stu-id="5319a-283">C#</span></span> |<span data-ttu-id="5319a-284">Node.js</span><span class="sxs-lookup"><span data-stu-id="5319a-284">Node.js</span></span>|
|-------------|-------------|------|----|
|<span data-ttu-id="5319a-285">Глубокая ссылка потребляющих Идентификатор субентности</span><span class="sxs-lookup"><span data-stu-id="5319a-285">Deep Link consuming Subentity ID</span></span>  |<span data-ttu-id="5319a-286">Microsoft Teams для демонстрации deeplink от бот-чата к вкладке, потребляющей Идентификатор Subentity.</span><span class="sxs-lookup"><span data-stu-id="5319a-286">Microsoft Teams sample app for demonstrating deeplink from bot chat to tab consuming Subentity ID.</span></span>|[<span data-ttu-id="5319a-287">View</span><span class="sxs-lookup"><span data-stu-id="5319a-287">View</span></span>](https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/tab-deeplink/csharp)|[<span data-ttu-id="5319a-288">View</span><span class="sxs-lookup"><span data-stu-id="5319a-288">View</span></span>](https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/tab-deeplink/nodejs)|

## <a name="see-also"></a><span data-ttu-id="5319a-289">См. также</span><span class="sxs-lookup"><span data-stu-id="5319a-289">See also</span></span>

[<span data-ttu-id="5319a-290">Интеграция веб-приложений</span><span class="sxs-lookup"><span data-stu-id="5319a-290">Integrate web apps</span></span>](~/samples/integrate-web-apps-overview.md)

