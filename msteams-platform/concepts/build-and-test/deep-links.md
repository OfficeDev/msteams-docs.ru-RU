---
title: Создание глубоких ссылок
description: Описание глубоких ссылок и способов их использования в приложениях
keywords: Прямая ссылка на ссылку Teams
ms.openlocfilehash: a3d5dac3fc83510ae47d91bd70390b9ca2860120
ms.sourcegitcommit: bfdcd122b6b4ffc52d92320d4741f870c07f0542
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/02/2020
ms.locfileid: "49552565"
---
# <a name="create-deep-links-to-content-and-features-in-microsoft-teams"></a><span data-ttu-id="aa1e3-104">Создание глубоких ссылок на контент и функции в Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="aa1e3-104">Create deep links to content and features in Microsoft Teams</span></span>

<span data-ttu-id="aa1e3-105">Вы можете создавать ссылки на сведения и функции в клиенте Teams.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-105">You can create links to information and features within the Teams client.</span></span> <span data-ttu-id="aa1e3-106">Примеры того, где это может пригодиться:</span><span class="sxs-lookup"><span data-stu-id="aa1e3-106">Examples of where this may be useful:</span></span>

* <span data-ttu-id="aa1e3-107">Переходить от пользователя к содержимому на одной из вкладок приложения.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-107">Navigating the user to content within one of your app's tabs.</span></span> <span data-ttu-id="aa1e3-108">Например, ваше приложение может иметь Bot, который отправляет сообщения, уведомляющие пользователя о важном действии.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-108">For instance, your app may have a bot that sends messages notifying the user of an important activity.</span></span> <span data-ttu-id="aa1e3-109">Когда пользователь насматривает уведомление, ссылка глубоко переходит на вкладку, чтобы пользователь мог просмотреть дополнительные сведения о действии.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-109">When the user taps on the notification, the deep link navigates to the tab so the user can view more details about the activity.</span></span>
* <span data-ttu-id="aa1e3-110">Приложение автоматизирует или упрощает выполнение определенных задач пользователя, например создание разговора или планирование собрания, предварительно заполнив ссылки с необходимыми параметрами.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-110">Your app automates or simplifies certain user tasks, such as creating a chat or scheduling a meeting, by pre-populating the deep links with required parameters.</span></span> <span data-ttu-id="aa1e3-111">Это позволяет избежать необходимости вручную вводить данные вручную.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-111">This avoids the need for users to manually enter information.</span></span>

> [!NOTE]
>
> <span data-ttu-id="aa1e3-112">Прямой прямой просмотр открывает браузер, прежде чем переходить к содержимому и информации следующим образом:</span><span class="sxs-lookup"><span data-stu-id="aa1e3-112">A deeplink launches the browser first before navigating to content and information as follows:</span></span>
>
> <span data-ttu-id="aa1e3-113">**Вкладка**:</span><span class="sxs-lookup"><span data-stu-id="aa1e3-113">**Tab**:</span></span>  
> <span data-ttu-id="aa1e3-114">✔ Непосредственно переходит на URL-адрес прямой ссылки.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-114">✔ Directly navigates to the deeplink url.</span></span>
>
> <span data-ttu-id="aa1e3-115">**Bot**:</span><span class="sxs-lookup"><span data-stu-id="aa1e3-115">**Bot**:</span></span>  
> <span data-ttu-id="aa1e3-116">В тексте карточки ✔ прямой ссылки — сначала открывается браузер.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-116">✔ Deeplink in card body - Opens in browser first.</span></span>  
> <span data-ttu-id="aa1e3-117">✔ Прямой ссылки добавляется к действию OpenURL в функции адаптивной карточки — напрямую переходит по URL-адресу ссылки.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-117">✔ Deeplink added to OpenURL action in Adaptive Card - Directly navigates to the deeplink url.</span></span>  
> <span data-ttu-id="aa1e3-118">✔ Гиперссылка Markdown текст в карточке сначала открывается в браузере.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-118">✔ Hyperlink markdown text in the card - Opens in browser first.</span></span>  
>
> <span data-ttu-id="aa1e3-119">**Чат**:</span><span class="sxs-lookup"><span data-stu-id="aa1e3-119">**Chat**:</span></span>  
> <span data-ttu-id="aa1e3-120">✔ Гиперссылки на текстовые сообщения Markdown: непосредственно переходит на URL-адрес прямой ссылки.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-120">✔ Text message hyperlink markdown : Directly navigates to deeplink url.</span></span>  
> <span data-ttu-id="aa1e3-121">✔ Ссылка, вставленная в общем разговоре, напрямую переходит на URL-адрес прямой ссылки.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-121">✔ Link pasted in general chat conversation - Directly navigates to deeplink url.</span></span>

## <a name="deep-linking-to-your-tab"></a><span data-ttu-id="aa1e3-122">Глубокая ссылка на вкладку</span><span class="sxs-lookup"><span data-stu-id="aa1e3-122">Deep linking to your tab</span></span>

<span data-ttu-id="aa1e3-123">Можно создавать глубокие ссылки на объекты в Teams.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-123">You can create deep links to entities in Teams.</span></span> <span data-ttu-id="aa1e3-124">Обычно это используется для создания ссылок, которые позволяют перейти к содержимому и сведениям на вкладке. Например, если вкладка содержит список задач, участники группы могут создавать ссылки на отдельные задачи и предоставлять к ним общий доступ.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-124">Typically, this is used to create links that navigate to content and information within your tab. For example, if your tab contains a task list team members may create and share links to individual tasks.</span></span> <span data-ttu-id="aa1e3-125">При нажатии ссылка переходит на вкладку, которая специализируется на определенном элементе.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-125">When clicked, the link navigates to your tab which focuses on the specific item.</span></span> <span data-ttu-id="aa1e3-126">Чтобы реализовать эту возможность, вы можете добавить действие "Копировать ссылку" для каждого элемента, как угодно лучше всего подходит вашему пользовательскому интерфейсу.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-126">To implement this, you add a "copy link" action to each item, in whatever way best suits your UI.</span></span> <span data-ttu-id="aa1e3-127">Когда пользователь выполняет это действие, вызывается `shareDeepLink()` Отображение диалогового окна, содержащего ссылку, которую пользователь может скопировать в буфер обмена.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-127">When the user takes this action, you call `shareDeepLink()` to display a dialog box containing a link that the user can copy to the clipboard.</span></span> <span data-ttu-id="aa1e3-128">При совершении этого вызова вы также передаете идентификатор элемента, который возвращается в [контексте](~/tabs/how-to/access-teams-context.md) , когда ссылка соблюдается, а вкладка перегружается.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-128">When you make this call, you also pass an ID for your item, which you get back in the [context](~/tabs/how-to/access-teams-context.md) when the link is followed and your tab is reloaded.</span></span>

<span data-ttu-id="aa1e3-129">Кроме того, вы также можете создавать глубокие ссылки программным способом, используя формат, указанный далее в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-129">Alternatively, you can also generate deep links programmatically, using the format specified later in this topic.</span></span> <span data-ttu-id="aa1e3-130">Их можно использовать в сообщениях [Bot](~/bots/what-are-bots.md) и [соединителей](~/webhooks-and-connectors/what-are-webhooks-and-connectors.md) , которые сообщают пользователям об изменениях вкладки или элементах в ней.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-130">You might want to use these in [bot](~/bots/what-are-bots.md) and [Connector](~/webhooks-and-connectors/what-are-webhooks-and-connectors.md) messages that inform users about changes to your tab, or to items within it.</span></span>

> [!NOTE]
> <span data-ttu-id="aa1e3-131">Это отличается от ссылок, предоставленных элементом меню **Копировать ссылку на вкладку** , что только создает глубокую ссылку, указывающую на эту вкладку.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-131">This is different from the links provided by the **Copy link to tab** menu item, which just generates a deep link that points to this tab.</span></span>

>[!NOTE]
> <span data-ttu-id="aa1e3-132">В настоящее время Шаредиплинк не работает на мобильных платформах.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-132">Currently, shareDeepLink does not work on mobile platforms.</span></span>

### <a name="showing-a-deep-link-to-an-item-within-your-tab"></a><span data-ttu-id="aa1e3-133">Как показать ссылку на элемент на вкладке</span><span class="sxs-lookup"><span data-stu-id="aa1e3-133">Showing a deep link to an item within your tab</span></span>

<span data-ttu-id="aa1e3-134">Чтобы отобразить диалоговое окно, содержащее детальную ссылку на элемент на вкладке, вызовите метод `microsoftTeams.shareDeepLink({ subEntityId: <subEntityId>, subEntityLabel: <subEntityLabel>, subEntityWebUrl: <subEntityWebUrl> })`</span><span class="sxs-lookup"><span data-stu-id="aa1e3-134">To show a dialog box that contains a deep link to an item within your tab, call `microsoftTeams.shareDeepLink({ subEntityId: <subEntityId>, subEntityLabel: <subEntityLabel>, subEntityWebUrl: <subEntityWebUrl> })`</span></span>

<span data-ttu-id="aa1e3-135">Предоставьте следующие поля:</span><span class="sxs-lookup"><span data-stu-id="aa1e3-135">Provide these fields:</span></span>

* <span data-ttu-id="aa1e3-136">`subEntityId`&emsp;Уникальный идентификатор элемента на вкладке, к которому выполняется глубокая компоновка</span><span class="sxs-lookup"><span data-stu-id="aa1e3-136">`subEntityId`&emsp;A unique identifier for the item within your tab to which you are deep linking</span></span>
* <span data-ttu-id="aa1e3-137">`subEntityLabel`&emsp;Метка элемента, который будет использоваться для отображения глубокой ссылки</span><span class="sxs-lookup"><span data-stu-id="aa1e3-137">`subEntityLabel`&emsp;A label for the item to use for displaying the deep link</span></span>
* <span data-ttu-id="aa1e3-138">`subEntityWebUrl`&emsp;Необязательное поле с резервным URL-адресом, которое будет использоваться, если клиент не поддерживает отрисовку вкладки</span><span class="sxs-lookup"><span data-stu-id="aa1e3-138">`subEntityWebUrl`&emsp;An optional field with a fallback URL to use if the client does not support rendering the tab</span></span>

### <a name="generating-a-deep-link-to-your-tab"></a><span data-ttu-id="aa1e3-139">Создание глубокой ссылки на вкладку</span><span class="sxs-lookup"><span data-stu-id="aa1e3-139">Generating a deep link to your tab</span></span>

> [!NOTE]
> <span data-ttu-id="aa1e3-140">Статические вкладки имеют область "персональный" и настраиваемые вкладки имеют область "Team".</span><span class="sxs-lookup"><span data-stu-id="aa1e3-140">Static tabs have a scope of "personal" and configurable tabs have a scope of "team".</span></span> <span data-ttu-id="aa1e3-141">Два типа вкладок имеют слегка отличающийся синтаксис, так как только настраиваемые вкладки имеют свойство, `channel` связанное с объектом context.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-141">The two tab types have a slightly different syntax since only the configurable tab has a `channel` property associated with its context object.</span></span> <span data-ttu-id="aa1e3-142">В справке по [манифесту](~/resources/schema/manifest-schema.md) представлены дополнительные сведения о личных областях и областях группы.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-142">See the [Manifest](~/resources/schema/manifest-schema.md) reference for more information on personal and team scopes.</span></span>
> [!NOTE]
> <span data-ttu-id="aa1e3-143">Глубокие ссылки работают правильно только в том случае, если вкладка была настроена с использованием библиотеки v 0,4 или более поздней версии, а также имеет идентификатор сущности.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-143">Deep links work properly only if the tab was configured using the v0.4 or later library and because of that has an entity ID.</span></span> <span data-ttu-id="aa1e3-144">Глубокие ссылки на вкладки без идентификатора сущностей продолжают переходить на вкладку, но не могут предоставлять идентификатор вложенного объекта на вкладку.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-144">Deep links to tabs without entity IDs still navigate to the tab but can't provide the sub-entity ID to the tab.</span></span>

<span data-ttu-id="aa1e3-145">Используйте этот формат для глубокой ссылки, которую можно использовать в карточке почтовых роботов, соединителей или модулей обмена сообщениями:</span><span class="sxs-lookup"><span data-stu-id="aa1e3-145">Use this format for a deep link that you can use in a bot, Connector, or messaging extension card:</span></span>

`https://teams.microsoft.com/l/entity/<appId>/<entityId>?webUrl=<entityWebUrl>&label=<entityLabel>&context=<context>`

> [!NOTE]
> <span data-ttu-id="aa1e3-146">Если Bot отправляет сообщение `TextBlock` , содержащее детальную ссылку, открывается новая вкладка браузера, когда пользователь выбирает эту ссылку.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-146">If the bot sends a message containing a `TextBlock` with a deep link, then a new browser tab is opened when the user selects the link.</span></span> <span data-ttu-id="aa1e3-147">Это происходит в Chrome и в классическом приложении Microsoft Teams, работающем под управлением Linux.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-147">This happens in Chrome and in the Microsoft Teams desktop app, both running on Linux.</span></span>
> <span data-ttu-id="aa1e3-148">Если элемент Bot отправляет такой же URL-адрес ссылки `Action.OpenUrl` , то при переходе пользователя на эту ссылку вкладка команды открывается на текущей вкладке браузера.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-148">If the bot sends the same deep link URL into an `Action.OpenUrl`, then the Teams tab is opened in the current browser tab when the user clicks on the link.</span></span> <span data-ttu-id="aa1e3-149">Не открывается новая вкладка браузера.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-149">No new browser tab is opened.</span></span>

<span data-ttu-id="aa1e3-150">Параметры запроса:</span><span class="sxs-lookup"><span data-stu-id="aa1e3-150">The query parameters are:</span></span>

* <span data-ttu-id="aa1e3-151">`appId`&emsp;ИДЕНТИФИКАТОР из манифеста; Например, "fe4a8eba-2a31-4737-8e33-e5fae6fee194"</span><span class="sxs-lookup"><span data-stu-id="aa1e3-151">`appId`&emsp;The ID from your manifest; for example, "fe4a8eba-2a31-4737-8e33-e5fae6fee194"</span></span>
* <span data-ttu-id="aa1e3-152">`entityId`&emsp;Идентификатор элемента на вкладке, который был указан при [настройке вкладки](~/tabs/how-to/create-tab-pages/configuration-page.md); Например, "tasklist123"</span><span class="sxs-lookup"><span data-stu-id="aa1e3-152">`entityId`&emsp;The ID for the item in the tab, which you provided when [configuring the tab](~/tabs/how-to/create-tab-pages/configuration-page.md); for example, "tasklist123"</span></span>
* <span data-ttu-id="aa1e3-153">`entityWebUrl`или `subEntityWebUrl` &emsp; необязательное поле с резервным URL-адресом, которое будет использоваться, если клиент не поддерживает отрисовку вкладки, например, " https://tasklist.example.com/123 " или " https://tasklist.example.com/list123/task456 "</span><span class="sxs-lookup"><span data-stu-id="aa1e3-153">`entityWebUrl` or `subEntityWebUrl`&emsp;An optional field with a fallback URL to use if the client does not support rendering the tab; for example, "https://tasklist.example.com/123" or "https://tasklist.example.com/list123/task456"</span></span>
* <span data-ttu-id="aa1e3-154">`entityLabel`или `subEntityLabel` &emsp; метку для элемента на вкладке, который будет использоваться при отображении глубокой ссылки, например "task List 123" или "Task 456"</span><span class="sxs-lookup"><span data-stu-id="aa1e3-154">`entityLabel` or `subEntityLabel`&emsp;A label for the item in your tab, to use when displaying the deep link; for example, "Task List 123" or "Task 456"</span></span>
* <span data-ttu-id="aa1e3-155">`context`&emsp;Объект JSON, содержащий следующие поля:</span><span class="sxs-lookup"><span data-stu-id="aa1e3-155">`context`&emsp;A JSON object containing the following fields:</span></span>
  * <span data-ttu-id="aa1e3-156">`subEntityId`&emsp;Идентификатор _элемента на_ вкладке; Например, "task456"</span><span class="sxs-lookup"><span data-stu-id="aa1e3-156">`subEntityId`&emsp;An ID for the item _within_ the tab; for example, "task456"</span></span>
  * <span data-ttu-id="aa1e3-157">`channelId`&emsp;Идентификатор канала Microsoft Teams (доступен в [контексте](~/tabs/how-to/access-teams-context.md)вкладки, например "19: cbe3683f25094106b826c9cada3afbe0@thread. Skype".</span><span class="sxs-lookup"><span data-stu-id="aa1e3-157">`channelId`&emsp;The Microsoft Teams channel ID (available from the tab [context](~/tabs/how-to/access-teams-context.md); for example, "19:cbe3683f25094106b826c9cada3afbe0@thread.skype".</span></span> <span data-ttu-id="aa1e3-158">Это свойство доступно только в настраиваемых вкладках с областью "Team".</span><span class="sxs-lookup"><span data-stu-id="aa1e3-158">This property is only available in configurable tabs with a scope of "team".</span></span> <span data-ttu-id="aa1e3-159">Она недоступна в статических вкладках, имеющих область "персональный".</span><span class="sxs-lookup"><span data-stu-id="aa1e3-159">It is not available in static tabs, which have a scope of "personal".</span></span>

<span data-ttu-id="aa1e3-160">Примеры:</span><span class="sxs-lookup"><span data-stu-id="aa1e3-160">Examples:</span></span>

* <span data-ttu-id="aa1e3-161">Ссылка на настраиваемую вкладку: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123&label=Task List 123&context={"channelId": "19:cbe3683f25094106b826c9cada3afbe0@thread.skype"}`</span><span class="sxs-lookup"><span data-stu-id="aa1e3-161">Link to a configurable tab itself: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123&label=Task List 123&context={"channelId": "19:cbe3683f25094106b826c9cada3afbe0@thread.skype"}`</span></span>
* <span data-ttu-id="aa1e3-162">Ссылка на элемент задачи в настраиваемой вкладке: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123/456&label=Task 456&context={"subEntityId": "task456","channelId": "19:cbe3683f25094106b826c9cada3afbe0@thread.skype"}`</span><span class="sxs-lookup"><span data-stu-id="aa1e3-162">Link to a task item within the configurable tab: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123/456&label=Task 456&context={"subEntityId": "task456","channelId": "19:cbe3683f25094106b826c9cada3afbe0@thread.skype"}`</span></span>
* <span data-ttu-id="aa1e3-163">Ссылка на статическую вкладку: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123&label=Task List 123`</span><span class="sxs-lookup"><span data-stu-id="aa1e3-163">Link to a static tab itself: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123&label=Task List 123`</span></span>
* <span data-ttu-id="aa1e3-164">Ссылка на элемент задачи в статической вкладке: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123/456&label=Task 456&context={"subEntityId": "task456"}`</span><span class="sxs-lookup"><span data-stu-id="aa1e3-164">Link to a task item within the static tab: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123/456&label=Task 456&context={"subEntityId": "task456"}`</span></span>

> [!IMPORTANT]
> <span data-ttu-id="aa1e3-165">Убедитесь, что все параметры запроса правильно кодируются в URI.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-165">Ensure that all query parameters are properly URI encoded.</span></span> <span data-ttu-id="aa1e3-166">В целях удобства чтения приведенные выше примеры не являются допустимыми, но это необходимо.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-166">For the sake of readability, the above examples are not, but you should.</span></span> <span data-ttu-id="aa1e3-167">В последнем примере:</span><span class="sxs-lookup"><span data-stu-id="aa1e3-167">Using the last example:</span></span>
> ```javascript
> var encodedWebUrl = encodeURI('https://tasklist.example.com/123/456&label=Task 456');
> var encodedContext = encodeURI('{"subEntityId": "task456"}');
> var taskItemUrl = 'https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=' + encodedWebUrl + '&context=' + encodedContext;
> ```

### <a name="consuming-a-deep-link-from-a-tab"></a><span data-ttu-id="aa1e3-168">Использование глубокой ссылки из вкладки</span><span class="sxs-lookup"><span data-stu-id="aa1e3-168">Consuming a deep link from a tab</span></span>

<span data-ttu-id="aa1e3-169">При переходе к глубокой ссылке Microsoft Teams просто переходит на вкладку и предоставляет механизм с помощью библиотеки JavaScript Microsoft Teams для получения идентификатора вложенного объекта (если он существует).</span><span class="sxs-lookup"><span data-stu-id="aa1e3-169">When navigating to a deep link, Microsoft Teams simply navigates to the tab and provides a mechanism via the Microsoft Teams JavaScript library to retrieve the sub-entity ID (if it exists).</span></span>

<span data-ttu-id="aa1e3-170">[`microsoftTeams.getContext`](/javascript/api/@microsoft/teams-js#getcontext--context--context-----void-)При вызове возвращается контекст, включающий в себя `subEntityId` поле, если перейти к вкладке с помощью глубокой ссылки.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-170">The [`microsoftTeams.getContext`](/javascript/api/@microsoft/teams-js#getcontext--context--context-----void-) call returns a context that includes the `subEntityId` field if the tab was navigated to via a deep link.</span></span>

## <a name="deep-linking-from-your-tab"></a><span data-ttu-id="aa1e3-171">Глубокая компоновка на вкладке</span><span class="sxs-lookup"><span data-stu-id="aa1e3-171">Deep linking from your tab</span></span>

<span data-ttu-id="aa1e3-172">На вкладке можно выполнить ссылки на контент в Teams. Это полезно, если для вкладки требуется связать с другим контентом в таких командах, как канал, сообщение, другая вкладка или даже открыть диалоговое окно расписания.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-172">You can deeplink to content in Teams from your tab. This is useful if your tab needs to link to other content in Teams such as to a channel, message, another tab or even to open a scheduling dialog.</span></span> <span data-ttu-id="aa1e3-173">Для запуска прямой ссылки на вкладке необходимо вызвать:</span><span class="sxs-lookup"><span data-stu-id="aa1e3-173">To trigger a deeplink from your tab you should call:</span></span>

```Javascript
microsoftTeams.executeDeepLink(/*deepLink*/);
```

<span data-ttu-id="aa1e3-174">Откроется правильный URL-адрес или действие клиента, например открытие диалогового окна установки расписания или приложения.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-174">This will navigate you to the correct URL, or trigger a client action such as opening a scheduling or app install dialog.</span></span> <span data-ttu-id="aa1e3-175">Пример:</span><span class="sxs-lookup"><span data-stu-id="aa1e3-175">Example:</span></span>

```Javascript
// Open a scheduling dialog from your tab
microsoftTeams.executeDeepLink("https://teams.microsoft.com/l/meeting/new?subject=test%20subject&attendees=joe@contoso.com,bob@contoso.com&startTime=10%2F24%2F2018%2010%3A30%3A00&endTime=10%2F24%2F2018%2010%3A30%3A00&content=test%3Acontent");

// Open an app install dialog from your tab
microsoftTeams.executeDeepLink("https://teams.microsoft.com/l/app/f46ad259-0fe5-4f12-872d-c737b174bcb4");
```

## <a name="deep-linking-to-a-chat"></a><span data-ttu-id="aa1e3-176">Глубокая ссылка на чат</span><span class="sxs-lookup"><span data-stu-id="aa1e3-176">Deep linking to a chat</span></span>

<span data-ttu-id="aa1e3-177">Можно создавать глубокие ссылки на частные беседы между пользователями, указывая набор участников.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-177">You can create deep links to private chats between users by specifying the set of participants.</span></span> <span data-ttu-id="aa1e3-178">Если чат не существует для указанных участников, ссылка вернет пользователя в пустое новое обсуждение.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-178">If a chat doesn't exist with the specified participants, the link will navigate the user to an empty new chat.</span></span> <span data-ttu-id="aa1e3-179">Новые сеансы будут создаваться в состоянии черновика до тех пор, пока пользователь не получит первое сообщение.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-179">New chats will be created in draft state until the user sends the first message.</span></span> <span data-ttu-id="aa1e3-180">При необходимости можно указать имя чата (если она еще не существует), а также текст, который должен быть вставлен в поле создания пользователя.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-180">Optionally, you can specify the name of the chat (if it doesn't already exist), along with text that should be inserted into the user's compose box.</span></span> <span data-ttu-id="aa1e3-181">Эту функцию можно представить как ярлык для пользователя, который выполняет ручное перемещение или создание разговора, а затем вводит сообщение.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-181">You can think of this feature as a shortcut for the user taking the manual action of navigating to or creating the chat, and then typing out the message.</span></span>

<span data-ttu-id="aa1e3-182">В качестве примера варианта использования при возврате профиля пользователя Office 365 из ленты в качестве карточки эта прямая ссылка позволяет пользователю легко общаться с этим пользователем.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-182">As an example use case, if you are returning an Office 365 user profile from your bot as a card, this deep link can allow the user to easily chat with that person.</span></span>

### <a name="generating-a-deep-link-to-a-chat"></a><span data-ttu-id="aa1e3-183">Создание глубокой ссылки на чат</span><span class="sxs-lookup"><span data-stu-id="aa1e3-183">Generating a deep link to a chat</span></span>

<span data-ttu-id="aa1e3-184">Используйте этот формат для глубокой ссылки, которую можно использовать в карточке почтовых роботов, соединителей или модулей обмена сообщениями:</span><span class="sxs-lookup"><span data-stu-id="aa1e3-184">Use this format for a deep link that you can use in a bot, Connector, or messaging extension card:</span></span>

`https://teams.microsoft.com/l/chat/0/0?users=<user1>,<user2>,...&topicName=<chat name>&message=<precanned text>`

<span data-ttu-id="aa1e3-185">Пример: `https://teams.microsoft.com/l/chat/0/0?users=joe@contoso.com,bob@contoso.com&topicName=Prep%20For%20Meeting%20Tomorrow&message=Hi%20folks%2C%20kicking%20off%20a%20chat%20about%20our%20meeting%20tomorrow`.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-185">Example: `https://teams.microsoft.com/l/chat/0/0?users=joe@contoso.com,bob@contoso.com&topicName=Prep%20For%20Meeting%20Tomorrow&message=Hi%20folks%2C%20kicking%20off%20a%20chat%20about%20our%20meeting%20tomorrow`</span></span>

<span data-ttu-id="aa1e3-186">Параметры запроса:</span><span class="sxs-lookup"><span data-stu-id="aa1e3-186">The query parameters are:</span></span>

* <span data-ttu-id="aa1e3-187">`users`&emsp;Разделенный запятыми список идентификаторов пользователей, представляющих участников чата.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-187">`users`&emsp;The comma-separated list of user IDs representing the participants of the chat.</span></span> <span data-ttu-id="aa1e3-188">Пользователь, выполняющий действие, всегда включается в качестве участника.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-188">The user performing the action is always included as a participant.</span></span> <span data-ttu-id="aa1e3-189">Поле идентификатора пользователя в настоящее время поддерживает только Azure AD UserPrincipalName (обычно это адрес электронной почты).</span><span class="sxs-lookup"><span data-stu-id="aa1e3-189">The User ID field currently only supports the Azure AD UserPrincipalName (typically an email address).</span></span>
* <span data-ttu-id="aa1e3-190">`topicName`&emsp;Необязательное поле для отображаемого имени чата, в случае беседы с тремя или более пользователями.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-190">`topicName`&emsp;An optional field for chat's display name, in the case of a chat with 3 or more users.</span></span> <span data-ttu-id="aa1e3-191">Если это поле не указано, отображаемое имя чата будет основано на именах участников.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-191">If this field is not specified, the chat's display name will be based on the names of the participants.</span></span>
* <span data-ttu-id="aa1e3-192">`message`&emsp;Необязательное поле для текста сообщения, которое необходимо вставить в поле создания текущего пользователя, когда чат находится в состоянии черновика.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-192">`message`&emsp;An optional field for the message text that you want to insert into the current user's compose box while the chat is in a draft state.</span></span>

<span data-ttu-id="aa1e3-193">Чтобы использовать эту ссылку с роботом, вы можете указать ее как целевой URL-адрес на кнопке карточки или действие касания, используя `openUrl` тип действия.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-193">To use this deep link with your bot, you can specify this as the URL target in your card's button or tap action through the `openUrl` action type.</span></span>

## <a name="linking-to-the-scheduling-dialog"></a><span data-ttu-id="aa1e3-194">Связывание с диалоговым окном планирования</span><span class="sxs-lookup"><span data-stu-id="aa1e3-194">Linking to the scheduling dialog</span></span>

> [!Note]
> <span data-ttu-id="aa1e3-195">Эта функция в настоящее время находится в предварительной версии для разработчиков.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-195">This feature is currently in developer preview.</span></span>

<span data-ttu-id="aa1e3-196">Можно создавать детальные ссылки на встроенное диалоговое окно планирования клиента Teams.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-196">You can create deep links to the Teams client's built-in scheduling dialog.</span></span> <span data-ttu-id="aa1e3-197">Это особенно полезно, если ваше приложение помогает пользователю выполнить задачи, связанные с календарем или планированием.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-197">This is especially useful if your app helps the user complete calendar or scheduling-related tasks.</span></span>

### <a name="generating-a-deep-link-to-the-scheduling-dialog"></a><span data-ttu-id="aa1e3-198">Создание глубокой ссылки на диалоговое окно планирования</span><span class="sxs-lookup"><span data-stu-id="aa1e3-198">Generating a deep link to the scheduling dialog</span></span>

<span data-ttu-id="aa1e3-199">Используйте этот формат для глубокой ссылки, которую можно использовать в карточке почтовых роботов, соединителей или модулей обмена сообщениями: `https://teams.microsoft.com/l/meeting/new?subject=<meeting subject>&startTime=<date>&endTime=<date>&content=<content>&attendees=<user1>,<user2>,<user3>,...`</span><span class="sxs-lookup"><span data-stu-id="aa1e3-199">Use this format for a deep link that you can use in a bot, Connector, or messaging extension card: `https://teams.microsoft.com/l/meeting/new?subject=<meeting subject>&startTime=<date>&endTime=<date>&content=<content>&attendees=<user1>,<user2>,<user3>,...`</span></span>

<span data-ttu-id="aa1e3-200">Пример: `https://teams.microsoft.com/l/meeting/new?subject=test%20subject&attendees=joe@contoso.com,bob@contoso.com&startTime=10%2F24%2F2018%2010%3A30%3A00&endTime=10%2F24%2F2018%2010%3A30%3A00&content=test%3Acontent`.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-200">Example: `https://teams.microsoft.com/l/meeting/new?subject=test%20subject&attendees=joe@contoso.com,bob@contoso.com&startTime=10%2F24%2F2018%2010%3A30%3A00&endTime=10%2F24%2F2018%2010%3A30%3A00&content=test%3Acontent`</span></span>

<span data-ttu-id="aa1e3-201">Параметры запроса:</span><span class="sxs-lookup"><span data-stu-id="aa1e3-201">The query parameters are:</span></span>

* <span data-ttu-id="aa1e3-202">`attendees`&emsp;Необязательный разделенный запятыми список идентификаторов пользователей, представляющих участников собрания.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-202">`attendees`&emsp;The optional comma-separated list of user IDs representing the attendees of the meeting.</span></span> <span data-ttu-id="aa1e3-203">Пользователь, выполняющий действие, является организатором собрания.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-203">The user performing the action is the meeting organizer.</span></span> <span data-ttu-id="aa1e3-204">Поле идентификатора пользователя в настоящее время поддерживает только Azure AD UserPrincipalName (обычно это адрес электронной почты).</span><span class="sxs-lookup"><span data-stu-id="aa1e3-204">The User ID field currently only supports the Azure AD UserPrincipalName (typically an email address).</span></span>
* <span data-ttu-id="aa1e3-205">`startTime`&emsp;Необязательное время начала события.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-205">`startTime`&emsp;The optional start time of the event.</span></span> <span data-ttu-id="aa1e3-206">Это должен быть [длинный формат ISO 8601](https://en.wikipedia.org/wiki/ISO_8601), например "2018 г.-03-12T23:55:25 + 02:00".</span><span class="sxs-lookup"><span data-stu-id="aa1e3-206">This should be in [long ISO 8601 format](https://en.wikipedia.org/wiki/ISO_8601), for example “2018-03-12T23:55:25+02:00”.</span></span>
* <span data-ttu-id="aa1e3-207">`endTime`&emsp;Необязательное время окончания события, также в формате ISO 8601.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-207">`endTime`&emsp;The optional end time of the event, also in ISO 8601 format.</span></span>
* <span data-ttu-id="aa1e3-208">`subject`&emsp;Необязательное поле для темы собрания.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-208">`subject`&emsp;An optional field for the meeting subject.</span></span>
* <span data-ttu-id="aa1e3-209">`content`&emsp;Необязательное поле для поля сведений о собрании.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-209">`content`&emsp;An optional field for the meeting details field.</span></span>

<span data-ttu-id="aa1e3-210">В настоящее время указание расположения не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-210">Currently, specifying the location is not supported.</span></span> <span data-ttu-id="aa1e3-211">При создании времени начала и окончания обязательно указывайте смещение UTC (часовые пояса).</span><span class="sxs-lookup"><span data-stu-id="aa1e3-211">When generating your start and end times be sure to specify the UTC offset (time zones).</span></span>

<span data-ttu-id="aa1e3-212">Чтобы использовать эту ссылку с роботом, вы можете указать ее как целевой URL-адрес на кнопке карточки или действие касания, используя `openUrl` тип действия.</span><span class="sxs-lookup"><span data-stu-id="aa1e3-212">To use this deep link with your bot, you can specify this as the URL target in your card's button or tap action through the `openUrl` action type.</span></span>
