---
title: Создание глубоких ссылок на контент
description: Описывает глубокие ссылки и их использование в приложениях
ms.topic: how-to
keywords: deeplink teams deep link
ms.openlocfilehash: afcb079873f97055c4af43323d12846294861f74
ms.sourcegitcommit: ee8c4800da3b3569d80c6f3661a2f20aa1f2c5e2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/19/2021
ms.locfileid: "51885061"
---
# <a name="create-deep-links-to-content-and-features-in-microsoft-teams"></a><span data-ttu-id="d143d-104">Создание глубоких ссылок на контент и функции в Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="d143d-104">Create deep links to content and features in Microsoft Teams</span></span>

<span data-ttu-id="d143d-105">В Teams можно создавать ссылки на сведения и функции.</span><span class="sxs-lookup"><span data-stu-id="d143d-105">You can create links to information and features within Teams.</span></span> <span data-ttu-id="d143d-106">Примеры полезного создания глубоких ссылок:</span><span class="sxs-lookup"><span data-stu-id="d143d-106">Examples where creating deep links are useful are as follows:</span></span>

* <span data-ttu-id="d143d-107">Перемещение пользователя к содержимому в одной из вкладок приложения.</span><span class="sxs-lookup"><span data-stu-id="d143d-107">Navigating the user to content within one of your app's tabs.</span></span> <span data-ttu-id="d143d-108">Например, в вашем приложении может быть бот, который отправляет сообщения, уведомляющие пользователя о важном действии.</span><span class="sxs-lookup"><span data-stu-id="d143d-108">For instance, your app can have a bot that sends messages notifying the user of an important activity.</span></span> <span data-ttu-id="d143d-109">Когда пользователь нажмет на уведомление, глубокая ссылка переходит на вкладку, чтобы пользователь может просмотреть дополнительные сведения о действии.</span><span class="sxs-lookup"><span data-stu-id="d143d-109">When the user taps on the notification, the deep link navigates to the tab so the user can view more details about the activity.</span></span>
* <span data-ttu-id="d143d-110">Ваше приложение автоматизирует или упрощает определенные пользовательские задачи, например создание чата или планирование собрания, предварительно заполнив глубокие ссылки с требуемыми параметрами.</span><span class="sxs-lookup"><span data-stu-id="d143d-110">Your app automates or simplifies certain user tasks, such as creating a chat or scheduling a meeting, by pre-populating the deep links with required parameters.</span></span> <span data-ttu-id="d143d-111">Это позволяет избежать необходимости вручную вводить сведения.</span><span class="sxs-lookup"><span data-stu-id="d143d-111">This avoids the need for users to manually enter information.</span></span>

> [!NOTE]
>
> <span data-ttu-id="d143d-112">Deeplink запускает браузер сначала перед переходом на контент и сведения следующим образом:</span><span class="sxs-lookup"><span data-stu-id="d143d-112">A deeplink launches the browser first before navigating to content and information as follows:</span></span>
>
> <span data-ttu-id="d143d-113">**Вкладка:**</span><span class="sxs-lookup"><span data-stu-id="d143d-113">**Tab**:</span></span>  
> <span data-ttu-id="d143d-114">✔ непосредственно переходит на URL-адрес deeplink.</span><span class="sxs-lookup"><span data-stu-id="d143d-114">✔ Directly navigates to the deeplink url.</span></span>
>
> <span data-ttu-id="d143d-115">**Bot:**</span><span class="sxs-lookup"><span data-stu-id="d143d-115">**Bot**:</span></span>  
> <span data-ttu-id="d143d-116">✔ Deeplink в теле карты: сначала откроется в браузере.</span><span class="sxs-lookup"><span data-stu-id="d143d-116">✔ Deeplink in card body: Opens in browser first.</span></span>  
> <span data-ttu-id="d143d-117">✔ Deeplink добавлена к действию OpenURL в адаптивной карте: непосредственно переходит на URL-адрес deeplink.</span><span class="sxs-lookup"><span data-stu-id="d143d-117">✔ Deeplink added to OpenURL action in Adaptive Card: Directly navigates to the deeplink url.</span></span>  
> <span data-ttu-id="d143d-118">✔ разметка гиперссылки в карточке: сначала откроется в браузере.</span><span class="sxs-lookup"><span data-stu-id="d143d-118">✔ Hyperlink markdown text in the card: Opens in browser first.</span></span>  
>
> <span data-ttu-id="d143d-119">**Чат:**</span><span class="sxs-lookup"><span data-stu-id="d143d-119">**Chat**:</span></span>  
> <span data-ttu-id="d143d-120">✔ разметка текстовых сообщений: непосредственно переходит на url-адрес deeplink.</span><span class="sxs-lookup"><span data-stu-id="d143d-120">✔ Text message hyperlink markdown: Directly navigates to deeplink url.</span></span>  
> <span data-ttu-id="d143d-121">✔ ссылку, вклеитую в общий чат: непосредственно переходит на url-адрес deeplink.</span><span class="sxs-lookup"><span data-stu-id="d143d-121">✔ Link pasted in general chat conversation: Directly navigates to deeplink url.</span></span>

## <a name="deep-linking-to-your-tab"></a><span data-ttu-id="d143d-122">Глубокая ссылка на вкладку</span><span class="sxs-lookup"><span data-stu-id="d143d-122">Deep linking to your tab</span></span>

<span data-ttu-id="d143d-123">Можно создавать глубокие ссылки на сущности в Teams.</span><span class="sxs-lookup"><span data-stu-id="d143d-123">You can create deep links to entities in Teams.</span></span> <span data-ttu-id="d143d-124">Как правило, это используется для создания ссылок, которые переходят к содержимому и сведениям в вкладке. Например, если вкладка содержит список задач, члены группы могут создавать и обмениваться ссылками на отдельные задачи.</span><span class="sxs-lookup"><span data-stu-id="d143d-124">Typically, this is used to create links that navigate to content and information within your tab. For example, if your tab contains a task list team members can create and share links to individual tasks.</span></span> <span data-ttu-id="d143d-125">При выборе ссылки она переходит на вкладку, которая фокусируется на конкретном элементе.</span><span class="sxs-lookup"><span data-stu-id="d143d-125">When you select the link, it  navigates to your tab which focuses on the specific item.</span></span> <span data-ttu-id="d143d-126">Для реализации этого в каждый элемент добавляется действие "ссылка на копирование", которое наилучшим образом подходит вашему пользовательскому интерфейсу.</span><span class="sxs-lookup"><span data-stu-id="d143d-126">To implement this, you add a "copy link" action to each item, in whatever way best suits your UI.</span></span> <span data-ttu-id="d143d-127">Когда пользователь принимает это действие, вы звоните, чтобы отобразить диалоговое окно, содержащее ссылку, которую пользователь может скопировать `shareDeepLink()` в буфер обмена.</span><span class="sxs-lookup"><span data-stu-id="d143d-127">When the user takes this action, you call `shareDeepLink()` to display a dialog box containing a link that the user can copy to the clipboard.</span></span> <span data-ttu-id="d143d-128">При этом вызове вы также передаете ID для элемента, [](~/tabs/how-to/access-teams-context.md) который возвращается в контексте, когда будет следовать ссылка и ваша вкладка будет перезагружена.</span><span class="sxs-lookup"><span data-stu-id="d143d-128">When you make this call, you also pass an ID for your item, which you get back in the [context](~/tabs/how-to/access-teams-context.md) when the link is followed and your tab is reloaded.</span></span>

<span data-ttu-id="d143d-129">Кроме того, вы также можете создавать глубокие ссылки программным образом, используя формат, указанный позже в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="d143d-129">Alternatively, you can also generate deep links programmatically, using the format specified later in this topic.</span></span> <span data-ttu-id="d143d-130">Эти сообщения можно использовать [](~/webhooks-and-connectors/what-are-webhooks-and-connectors.md) в [сообщениях бота](~/bots/what-are-bots.md) и соединители, информируя пользователей об изменениях на вкладке или элементов внутри нее.</span><span class="sxs-lookup"><span data-stu-id="d143d-130">You can use these in [bot](~/bots/what-are-bots.md) and [connector](~/webhooks-and-connectors/what-are-webhooks-and-connectors.md) messages that inform users about changes to your tab, or to items within it.</span></span>

> [!NOTE]
> <span data-ttu-id="d143d-131">Эта глубокая ссылка отличается от ссылок, предоставляемых ссылкой **Копию** на элемент меню вкладки, которая только создает глубокую ссылку, которая указывает на эту вкладку.</span><span class="sxs-lookup"><span data-stu-id="d143d-131">This deep link is different from the links provided by the **Copy link to tab** menu item, which just generates a deep link that points to this tab.</span></span>

>[!NOTE]
> <span data-ttu-id="d143d-132">В настоящее время shareDeepLink не работает на мобильных платформах.</span><span class="sxs-lookup"><span data-stu-id="d143d-132">Currently, shareDeepLink does not work on mobile platforms.</span></span>

### <a name="showing-a-deep-link-to-an-item-within-your-tab"></a><span data-ttu-id="d143d-133">Отображение глубокой ссылки на элемент в вкладке</span><span class="sxs-lookup"><span data-stu-id="d143d-133">Showing a deep link to an item within your tab</span></span>

<span data-ttu-id="d143d-134">Чтобы показать диалоговое окно, содержаное глубокую ссылку на элемент в вкладке, позвоните `microsoftTeams.shareDeepLink({ subEntityId: <subEntityId>, subEntityLabel: <subEntityLabel>, subEntityWebUrl: <subEntityWebUrl> })`</span><span class="sxs-lookup"><span data-stu-id="d143d-134">To show a dialog box that contains a deep link to an item within your tab, call `microsoftTeams.shareDeepLink({ subEntityId: <subEntityId>, subEntityLabel: <subEntityLabel>, subEntityWebUrl: <subEntityWebUrl> })`</span></span>

<span data-ttu-id="d143d-135">Предоставление этих полей:</span><span class="sxs-lookup"><span data-stu-id="d143d-135">Provide these fields:</span></span>

* <span data-ttu-id="d143d-136">`subEntityId`&emsp;Уникальный идентификатор элемента в вкладке, с которым вы связываете глубокую связь</span><span class="sxs-lookup"><span data-stu-id="d143d-136">`subEntityId`&emsp;A unique identifier for the item within your tab to which you are deep linking</span></span>
* <span data-ttu-id="d143d-137">`subEntityLabel`&emsp;Метка для элемента, используемая для отображения глубокой ссылки</span><span class="sxs-lookup"><span data-stu-id="d143d-137">`subEntityLabel`&emsp;A label for the item to use for displaying the deep link</span></span>
* <span data-ttu-id="d143d-138">`subEntityWebUrl`&emsp;Необязательное поле с откатным URL-адресом для использования, если клиент не поддерживает отрисовку вкладки</span><span class="sxs-lookup"><span data-stu-id="d143d-138">`subEntityWebUrl`&emsp;An optional field with a fallback URL to use if the client does not support rendering the tab</span></span>

### <a name="generating-a-deep-link-to-your-tab"></a><span data-ttu-id="d143d-139">Создание глубокой ссылки на вкладку</span><span class="sxs-lookup"><span data-stu-id="d143d-139">Generating a deep link to your tab</span></span>

> [!NOTE]
> <span data-ttu-id="d143d-140">Личные вкладки имеют область, в то время как вкладки каналов и групп `personal` используют `team` или `group` области.</span><span class="sxs-lookup"><span data-stu-id="d143d-140">Personal tabs have a `personal` scope, while channel and group tabs use `team` or `group` scopes.</span></span> <span data-ttu-id="d143d-141">Два типа вкладок имеют несколько другой синтаксис, так как только настраиваемая вкладка имеет свойство, связанное `channel` с объектом контекста.</span><span class="sxs-lookup"><span data-stu-id="d143d-141">The two tab types have a slightly different syntax since only the configurable tab has a `channel` property associated with its context object.</span></span> <span data-ttu-id="d143d-142">Дополнительные [сведения](~/resources/schema/manifest-schema.md) о области вкладок см. в справке манифеста.</span><span class="sxs-lookup"><span data-stu-id="d143d-142">See the [manifest](~/resources/schema/manifest-schema.md) reference for more information on tab scopes.</span></span>

> [!NOTE]
> <span data-ttu-id="d143d-143">Глубокие ссылки работают должным образом только в том случае, если вкладка была настроена с помощью библиотеки v0.4 или более поздней библиотеки и поэтому имеет ID сущности.</span><span class="sxs-lookup"><span data-stu-id="d143d-143">Deep links work properly only if the tab was configured using the v0.4 or later library and because of that has an entity ID.</span></span> <span data-ttu-id="d143d-144">Глубокие ссылки на вкладки без ИД сущности по-прежнему переходят на вкладку, но не могут предоставить на вкладку ИД суб-сущности.</span><span class="sxs-lookup"><span data-stu-id="d143d-144">Deep links to tabs without entity IDs still navigate to the tab but can not provide the sub-entity ID to the tab.</span></span>

<span data-ttu-id="d143d-145">Используйте следующий формат для глубокой ссылки, которую можно использовать в карточке расширения бота, соединитетеля или обмена сообщениями:</span><span class="sxs-lookup"><span data-stu-id="d143d-145">Use the following format for a deep link that you can use in a bot, connector, or messaging extension card:</span></span>

`https://teams.microsoft.com/l/entity/<appId>/<entityId>?webUrl=<entityWebUrl>&label=<entityLabel>&context=<context>`

> [!NOTE]
> <span data-ttu-id="d143d-146">Если бот отправляет сообщение, содержащее глубокую ссылку, откроется новая вкладка браузера, когда пользователь выбирает `TextBlock` ссылку.</span><span class="sxs-lookup"><span data-stu-id="d143d-146">If the bot sends a message containing a `TextBlock` with a deep link, then a new browser tab is opened when the user selects the link.</span></span> <span data-ttu-id="d143d-147">Это происходит в Chrome и в настольном приложении Microsoft Teams, которое работает на Linux.</span><span class="sxs-lookup"><span data-stu-id="d143d-147">This happens in Chrome and in the Microsoft Teams desktop app, both running on Linux.</span></span>
> <span data-ttu-id="d143d-148">Если бот отправляет один и тот же URL-адрес глубокой ссылки в вкладку Teams, вкладка Teams открывается на текущей вкладке браузера, когда пользователь выбирает `Action.OpenUrl` ссылку.</span><span class="sxs-lookup"><span data-stu-id="d143d-148">If the bot sends the same deep link URL into an `Action.OpenUrl`, then the Teams tab is opened in the current browser tab when the user selects the link.</span></span> <span data-ttu-id="d143d-149">Новая вкладка браузера не открывается.</span><span class="sxs-lookup"><span data-stu-id="d143d-149">No new browser tab is opened.</span></span>

<span data-ttu-id="d143d-150">Параметры запроса:</span><span class="sxs-lookup"><span data-stu-id="d143d-150">The query parameters are:</span></span>

* <span data-ttu-id="d143d-151">`appId`&emsp;ID из манифеста; например, "fe4a8eba-2a31-4737-8e33-e5fae6fee194"</span><span class="sxs-lookup"><span data-stu-id="d143d-151">`appId`&emsp;The ID from your manifest; for example, "fe4a8eba-2a31-4737-8e33-e5fae6fee194"</span></span>
* <span data-ttu-id="d143d-152">`entityId`&emsp;ID для элемента на вкладке, который вы предоставили при [настройке вкладки;](~/tabs/how-to/create-tab-pages/configuration-page.md) например, "tasklist123"</span><span class="sxs-lookup"><span data-stu-id="d143d-152">`entityId`&emsp;The ID for the item in the tab, which you provided when [configuring the tab](~/tabs/how-to/create-tab-pages/configuration-page.md); for example, "tasklist123"</span></span>
* <span data-ttu-id="d143d-153">`entityWebUrl`или необязательный url-адрес, который можно использовать, если клиент не поддерживает отрисовку `subEntityWebUrl` &emsp; вкладки; например, https://tasklist.example.com/123 "" или https://tasklist.example.com/list123/task456 ""</span><span class="sxs-lookup"><span data-stu-id="d143d-153">`entityWebUrl` or `subEntityWebUrl`&emsp;An optional field with a fallback URL to use if the client does not support rendering the tab; for example, "https://tasklist.example.com/123" or "https://tasklist.example.com/list123/task456"</span></span>
* <span data-ttu-id="d143d-154">`entityLabel`или метка для элемента на вкладке для отображения глубокой `subEntityLabel` &emsp; ссылки; например, "Список задач 123" или "Задача 456"</span><span class="sxs-lookup"><span data-stu-id="d143d-154">`entityLabel` or `subEntityLabel`&emsp;A label for the item in your tab, to use when displaying the deep link; for example, "Task List 123" or "Task 456"</span></span>
* <span data-ttu-id="d143d-155">`context`&emsp;Объект JSON, содержащий следующие поля:</span><span class="sxs-lookup"><span data-stu-id="d143d-155">`context`&emsp;A JSON object containing the following fields:</span></span>
  * <span data-ttu-id="d143d-156">`subEntityId`&emsp;ID для элемента в _вкладке;_ например, "task456"</span><span class="sxs-lookup"><span data-stu-id="d143d-156">`subEntityId`&emsp;An ID for the item _within_ the tab; for example, "task456"</span></span>
  * <span data-ttu-id="d143d-157">`channelId`&emsp;ID канала Microsoft Teams, доступный из контекста [вкладки;](~/tabs/how-to/access-teams-context.md) например, "19:cbe3683f25094106b826c9cada3afbe0@thread.skype".</span><span class="sxs-lookup"><span data-stu-id="d143d-157">`channelId`&emsp;The Microsoft Teams channel ID that is available from the tab [context](~/tabs/how-to/access-teams-context.md); for example, "19:cbe3683f25094106b826c9cada3afbe0@thread.skype".</span></span> <span data-ttu-id="d143d-158">Это свойство доступно только в настраиваемых вкладок с областью "team".</span><span class="sxs-lookup"><span data-stu-id="d143d-158">This property is only available in configurable tabs with a scope of "team".</span></span> <span data-ttu-id="d143d-159">Он не доступен в статических вкладок, которые имеют область "личный".</span><span class="sxs-lookup"><span data-stu-id="d143d-159">It is not available in static tabs, which have a scope of "personal".</span></span>

<span data-ttu-id="d143d-160">Примеры:</span><span class="sxs-lookup"><span data-stu-id="d143d-160">Examples:</span></span>

* <span data-ttu-id="d143d-161">Ссылка на настраиваемую вкладку: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123&label=Task List 123&context={"channelId": "19:cbe3683f25094106b826c9cada3afbe0@thread.skype"}`</span><span class="sxs-lookup"><span data-stu-id="d143d-161">Link to a configurable tab itself: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123&label=Task List 123&context={"channelId": "19:cbe3683f25094106b826c9cada3afbe0@thread.skype"}`</span></span>
* <span data-ttu-id="d143d-162">Ссылка на элемент задачи в настраиваемой вкладке: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123/456&label=Task 456&context={"subEntityId": "task456","channelId": "19:cbe3683f25094106b826c9cada3afbe0@thread.skype"}`</span><span class="sxs-lookup"><span data-stu-id="d143d-162">Link to a task item within the configurable tab: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123/456&label=Task 456&context={"subEntityId": "task456","channelId": "19:cbe3683f25094106b826c9cada3afbe0@thread.skype"}`</span></span>
* <span data-ttu-id="d143d-163">Ссылка на статическую вкладку: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123&label=Task List 123`</span><span class="sxs-lookup"><span data-stu-id="d143d-163">Link to a static tab itself: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123&label=Task List 123`</span></span>
* <span data-ttu-id="d143d-164">Ссылка на элемент задачи в статической вкладке: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123/456&label=Task 456&context={"subEntityId": "task456"}`</span><span class="sxs-lookup"><span data-stu-id="d143d-164">Link to a task item within the static tab: `https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123/456&label=Task 456&context={"subEntityId": "task456"}`</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d143d-165">Убедитесь, что все параметры запроса правильно закодированы.</span><span class="sxs-lookup"><span data-stu-id="d143d-165">Ensure that all query parameters are properly URI encoded.</span></span> <span data-ttu-id="d143d-166">Вы должны следовать предварительным примерам, используя последний пример:</span><span class="sxs-lookup"><span data-stu-id="d143d-166">You must follow the preceeding examples using the last example:</span></span>
> ```javascript
> var encodedWebUrl = encodeURI('https://tasklist.example.com/123/456&label=Task 456');
> var encodedContext = encodeURI('{"subEntityId": "task456"}');
> var taskItemUrl = 'https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=' + encodedWebUrl + '&context=' + encodedContext;
> ```

### <a name="consuming-a-deep-link-from-a-tab"></a><span data-ttu-id="d143d-167">Потребление глубокой ссылки со вкладки</span><span class="sxs-lookup"><span data-stu-id="d143d-167">Consuming a deep link from a tab</span></span>

<span data-ttu-id="d143d-168">При переходе на глубокую ссылку Microsoft Teams просто переходит на вкладку и предоставляет механизм через библиотеку JavaScript Microsoft Teams для получения кода суб-сущности, если он существует.</span><span class="sxs-lookup"><span data-stu-id="d143d-168">When navigating to a deep link, Microsoft Teams simply navigates to the tab and provides a mechanism through the Microsoft Teams JavaScript library to retrieve the sub-entity ID if it exists.</span></span>

<span data-ttu-id="d143d-169">Вызов возвращает контекст, который включает поле, если вкладка передается [`microsoftTeams.getContext`](/javascript/api/@microsoft/teams-js#getcontext--context--context-----void-) `subEntityId` по глубокой ссылке.</span><span class="sxs-lookup"><span data-stu-id="d143d-169">The [`microsoftTeams.getContext`](/javascript/api/@microsoft/teams-js#getcontext--context--context-----void-) call returns a context that includes the `subEntityId` field if the tab is navigated through a deep link.</span></span>

## <a name="deep-linking-from-your-tab"></a><span data-ttu-id="d143d-170">Глубокая связь с вкладки</span><span class="sxs-lookup"><span data-stu-id="d143d-170">Deep linking from your tab</span></span>

<span data-ttu-id="d143d-171">Вы можете глубоко ссылаться на контент в Teams со своей вкладки. Это полезно, если вкладке необходимо связаться с другим контентом в Teams, например с каналом, сообщением, другой вкладке или даже открыть диалоговое окно планирования.</span><span class="sxs-lookup"><span data-stu-id="d143d-171">You can deeplink to content in Teams from your tab. This is useful if your tab needs to link to other content in Teams, such as to a channel, message, another tab or even to open a scheduling dialog.</span></span> <span data-ttu-id="d143d-172">Чтобы вызвать глубокую ссылку с вкладки, необходимо вызвать:</span><span class="sxs-lookup"><span data-stu-id="d143d-172">To trigger a deeplink from your tab you should call:</span></span>

```Javascript
microsoftTeams.executeDeepLink(/*deepLink*/);
```

<span data-ttu-id="d143d-173">Этот вызов перемещает вас по правильному URL-адресу или запускает действие клиента, например открытие диалоговой даты или установки приложения.</span><span class="sxs-lookup"><span data-stu-id="d143d-173">This call navigates you to the correct URL, or trigger a client action, such as opening a scheduling or app install dialog.</span></span> <span data-ttu-id="d143d-174">Пример приведен в следующей статье:</span><span class="sxs-lookup"><span data-stu-id="d143d-174">See the following example:</span></span>

```Javascript
// Open a scheduling dialog from your tab
microsoftTeams.executeDeepLink("https://teams.microsoft.com/l/meeting/new?subject=test%20subject&attendees=joe@contoso.com,bob@contoso.com&startTime=10%2F24%2F2018%2010%3A30%3A00&endTime=10%2F24%2F2018%2010%3A30%3A00&content=test%3Acontent");

// Open an app install dialog from your tab
microsoftTeams.executeDeepLink("https://teams.microsoft.com/l/app/f46ad259-0fe5-4f12-872d-c737b174bcb4");
```

## <a name="deep-linking-to-a-chat"></a><span data-ttu-id="d143d-175">Глубокая связь с чатом</span><span class="sxs-lookup"><span data-stu-id="d143d-175">Deep linking to a chat</span></span>

<span data-ttu-id="d143d-176">Вы можете создать глубокие ссылки на частные чаты между пользователями, указав набор участников.</span><span class="sxs-lookup"><span data-stu-id="d143d-176">You can create deep links to private chats between users by specifying the set of participants.</span></span> <span data-ttu-id="d143d-177">Если чат не существует с указанными участниками, ссылка перемещает пользователя в пустой новый чат.</span><span class="sxs-lookup"><span data-stu-id="d143d-177">If a chat does not exist with the specified participants, the link navigates the user to an empty new chat.</span></span> <span data-ttu-id="d143d-178">Новые чаты создаются в состоянии черновика, пока пользователь не отправит первое сообщение.</span><span class="sxs-lookup"><span data-stu-id="d143d-178">New chats are  created in draft state until the user sends the first message.</span></span> <span data-ttu-id="d143d-179">В противном случае можно указать имя чата, если он еще не существует, а также текст, который должен быть вставлен в поле сочинения пользователя.</span><span class="sxs-lookup"><span data-stu-id="d143d-179">Otherwise, you can specify the name of the chat if it does not already exist, along with text that should be inserted into the user's compose box.</span></span> <span data-ttu-id="d143d-180">Эту функцию можно использовать в качестве ярлыка для пользователя, который будет вручную перемещаться в чат или создавать его, а затем вводить сообщение.</span><span class="sxs-lookup"><span data-stu-id="d143d-180">You can think of this feature as a shortcut for the user taking the manual action of navigating to or creating the chat, and then typing out the message.</span></span>

<span data-ttu-id="d143d-181">В качестве примера используйте случай, если вы возвращаете профиль пользователя Office 365 из бота в качестве карты, эта глубокая ссылка может позволить пользователю легко общаться с этим человеком.</span><span class="sxs-lookup"><span data-stu-id="d143d-181">As an example use case, if you are returning an Office 365 user profile from your bot as a card, this deep link can allow the user to easily chat with that person.</span></span>

### <a name="generate-a-deep-link-to-a-chat"></a><span data-ttu-id="d143d-182">Создание глубокой ссылки на чат</span><span class="sxs-lookup"><span data-stu-id="d143d-182">Generate a deep link to a chat</span></span>

<span data-ttu-id="d143d-183">Используйте этот формат для глубокой ссылки, которую можно использовать в карточке расширения бота, соединитетеля или обмена сообщениями:</span><span class="sxs-lookup"><span data-stu-id="d143d-183">Use this format for a deep link that you can use in a bot, connector, or messaging extension card:</span></span>

`https://teams.microsoft.com/l/chat/0/0?users=<user1>,<user2>,...&topicName=<chat name>&message=<precanned text>`

<span data-ttu-id="d143d-184">Пример: `https://teams.microsoft.com/l/chat/0/0?users=joe@contoso.com,bob@contoso.com&topicName=Prep%20For%20Meeting%20Tomorrow&message=Hi%20folks%2C%20kicking%20off%20a%20chat%20about%20our%20meeting%20tomorrow`</span><span class="sxs-lookup"><span data-stu-id="d143d-184">Example: `https://teams.microsoft.com/l/chat/0/0?users=joe@contoso.com,bob@contoso.com&topicName=Prep%20For%20Meeting%20Tomorrow&message=Hi%20folks%2C%20kicking%20off%20a%20chat%20about%20our%20meeting%20tomorrow`</span></span>

<span data-ttu-id="d143d-185">Параметры запроса:</span><span class="sxs-lookup"><span data-stu-id="d143d-185">The query parameters are:</span></span>

* <span data-ttu-id="d143d-186">`users`: Разделенный запятой список пользовательских ИД, представляющих участников чата.</span><span class="sxs-lookup"><span data-stu-id="d143d-186">`users`: The comma-separated list of user IDs representing the participants of the chat.</span></span> <span data-ttu-id="d143d-187">Пользователь, который выполняет действие, всегда включен в качестве участника.</span><span class="sxs-lookup"><span data-stu-id="d143d-187">The user that performs the action is always included as a participant.</span></span> <span data-ttu-id="d143d-188">В настоящее время поле User ID поддерживает Azure AD UserPrincipalName, обычно только адрес электронной почты.</span><span class="sxs-lookup"><span data-stu-id="d143d-188">Currently, the User ID field supports the Azure AD UserPrincipalName, typically an email address only.</span></span>
* <span data-ttu-id="d143d-189">`topicName`. Необязательное поле для отображения имени чата в случае чата с 3 или более пользователями.</span><span class="sxs-lookup"><span data-stu-id="d143d-189">`topicName`: An optional field for chat's display name, in the case of a chat with 3 or more users.</span></span> <span data-ttu-id="d143d-190">Если это поле не указано, имя отображения чата основано на именах участников.</span><span class="sxs-lookup"><span data-stu-id="d143d-190">If this field is not specified, the chat's display name is based on the names of the participants.</span></span>
* <span data-ttu-id="d143d-191">`message`. Необязательное поле для текста сообщения, которое необходимо вставить в поле записи текущего пользователя, пока чат находится в состоянии черновика.</span><span class="sxs-lookup"><span data-stu-id="d143d-191">`message`: An optional field for the message text that you want to insert into the current user's compose box while the chat is in a draft state.</span></span>

<span data-ttu-id="d143d-192">Чтобы использовать эту глубокую ссылку с ботом, вы можете указать это в качестве целевого URL-адреса на кнопке карточки или нажмите действие через `openUrl` тип действия.</span><span class="sxs-lookup"><span data-stu-id="d143d-192">To use this deep link with your bot, you can specify this as the URL target in your card's button or tap action through the `openUrl` action type.</span></span>

## <a name="generate-deep-links-to-file-in-channel"></a><span data-ttu-id="d143d-193">Создание глубоких ссылок для файла в канале</span><span class="sxs-lookup"><span data-stu-id="d143d-193">Generate deep links to file in channel</span></span>

<span data-ttu-id="d143d-194">Следующий формат глубокой ссылки можно использовать в карточке расширения бота, соединитетеля или обмена сообщениями:</span><span class="sxs-lookup"><span data-stu-id="d143d-194">The following deep link format can be used in a bot, connector, or messaging extension card:</span></span>

`https://teams.microsoft.com/I/file/5E0154FC-F2B4-4DA5-8CDA-F096E72C0A80?tenantId=<tenantid>&fileType=<filetype>&objectURL=<objectURL>&baseUrl=<baseURL>&serviceName=<Name>&threadId=<threadid>&groupId=<groupId>`

<span data-ttu-id="d143d-195">Параметры запроса:</span><span class="sxs-lookup"><span data-stu-id="d143d-195">The query parameters are:</span></span>

* <span data-ttu-id="d143d-196">`tenantId`: Пример ID клиента, 0d9b645f-597b-41f0-a2a3-ef103fbd91bb</span><span class="sxs-lookup"><span data-stu-id="d143d-196">`tenantId`: Tenant ID example, 0d9b645f-597b-41f0-a2a3-ef103fbd91bb</span></span>
* <span data-ttu-id="d143d-197">`fileType`: Поддерживаемый тип файла, например docx, pptx, xlsx и pdf</span><span class="sxs-lookup"><span data-stu-id="d143d-197">`fileType`: Supported file type, such as docx, pptx, xlsx, and pdf</span></span>
* <span data-ttu-id="d143d-198">`objectUrl`: URL-адрес объекта файла, https://microsoft.sharepoint.com/teams/(filepath)</span><span class="sxs-lookup"><span data-stu-id="d143d-198">`objectUrl`: Object URL of the file, https://microsoft.sharepoint.com/teams/(filepath)</span></span>
* <span data-ttu-id="d143d-199">`baseUrl`: Базовый URL-адрес файла, https://microsoft.sharepoint.com/teams</span><span class="sxs-lookup"><span data-stu-id="d143d-199">`baseUrl`: Base URL of the file, https://microsoft.sharepoint.com/teams</span></span>
* <span data-ttu-id="d143d-200">`serviceName`: Имя службы, ID приложения</span><span class="sxs-lookup"><span data-stu-id="d143d-200">`serviceName`: Name of the service, app ID</span></span>
* <span data-ttu-id="d143d-201">`threadId`. ThreadId — это командный ID команды, в которой хранится файл.</span><span class="sxs-lookup"><span data-stu-id="d143d-201">`threadId`: The threadId is the team ID of the team where the file is stored.</span></span> <span data-ttu-id="d143d-202">Она необязательна и не может быть установлена для файлов, хранимых в папке OneDrive пользователя.</span><span class="sxs-lookup"><span data-stu-id="d143d-202">It is optional and cannot be set for files stored in a user's OneDrive folder.</span></span> <span data-ttu-id="d143d-203">threadId — 19:f8fbfc4d89e24ef5b3b8692538cebeb7@thread.skype</span><span class="sxs-lookup"><span data-stu-id="d143d-203">threadId - 19:f8fbfc4d89e24ef5b3b8692538cebeb7@thread.skype</span></span>
* <span data-ttu-id="d143d-204">`groupId`: Групповой ID файла ae063b79-5315-4ddb-ba70-27328ba6c31e</span><span class="sxs-lookup"><span data-stu-id="d143d-204">`groupId`: Group ID of the file, ae063b79-5315-4ddb-ba70-27328ba6c31e</span></span>

<span data-ttu-id="d143d-205">Ниже приводится пример формата deeplink к файлам:</span><span class="sxs-lookup"><span data-stu-id="d143d-205">Following is the sample format of deeplink to files:</span></span>

`https://teams.microsoft.com/l/file/5E0154FC-F2B4-4DA5-8CDA-F096E72C0A80 ?tenantId=0d9b645f-597b-41f0-a2a3-ef103fbd91bb&fileType=pptx&objectUrl=https%3A%2F%2Fmicrosoft.sharepoint.com%2Fteams%2FActionPlatform%2FShared%20Documents%2FFC7-%20Bot%20and%20Action%20Infra%2FKaizala%20Actions%20in%20Adaptive%20Cards%20-%20Deck.pptx&baseUrl=https%3A%2F%2Fmicrosoft.sharepoint.com%2Fteams%2FActionPlatform&serviceName=teams&threadId=19:f8fbfc4d89e24ef5b3b8692538cebeb7@thread.skype&groupId=ae063b79-5315-4ddb-ba70-27328ba6c31e`

### <a name="serialization-of-this-object"></a><span data-ttu-id="d143d-206">Сериализация этого объекта:</span><span class="sxs-lookup"><span data-stu-id="d143d-206">Serialization of this object:</span></span>
```
{
tenantId: "0d9b645f-597b-41f0-a2a3-ef103fbd91bb",
filetype: = "pptx",
objectUrl: "https://microsoft.sharepoint.com/teams/ActionPlatform/Shared Documents/FC7- Bot and Action Infra/Kaizala Actions in Adaptive Cards - Deck.pptx",
baseUrl: "https://microsoft.sharepoint.com/teams/ActionPlatform",
serviceName: "teams",
threadId: = "19:f8fbfc4d89e24ef5b3b8692538cebeb7@thread.skype",
groupId: "ae063b79-5315-4ddb-ba70-27328ba6c31e"
}
```
## <a name="deep-links-for-sharepoint-framework-tabs"></a><span data-ttu-id="d143d-207">Глубокие ссылки для вкладок SharePoint Framework</span><span class="sxs-lookup"><span data-stu-id="d143d-207">Deep links for SharePoint Framework tabs</span></span>

<span data-ttu-id="d143d-208">Следующий формат глубокой ссылки можно использовать в карточке расширения бота, соединитетеля или обмена сообщениями: `https://teams.microsoft.com/l/entity/<AppId>/<EntityId>?webUrl=<entityWebUrl>/<EntityName>`</span><span class="sxs-lookup"><span data-stu-id="d143d-208">The following deep link format can be used in a bot, connector or messaging extension card: `https://teams.microsoft.com/l/entity/<AppId>/<EntityId>?webUrl=<entityWebUrl>/<EntityName>`</span></span>

> [!NOTE]
> <span data-ttu-id="d143d-209">Когда бот отправляет сообщение TextBlock с глубокой ссылкой, при выборе ссылки открывается новая вкладка браузера.</span><span class="sxs-lookup"><span data-stu-id="d143d-209">When a bot sends a TextBlock message with a deep link, a new browser tab opens when users select the link.</span></span> <span data-ttu-id="d143d-210">Это происходит в настольном приложении Chrome и Microsoft Teams, которое работает на Linux.</span><span class="sxs-lookup"><span data-stu-id="d143d-210">This happens in Chrome and Microsoft Teams desktop app running on Linux.</span></span>
> <span data-ttu-id="d143d-211">Если бот отправляет один и тот же URL-адрес глубокой ссылки в вкладку Teams, открываемую в текущем браузере, когда пользователь выбирает `Action.OpenUrl` ссылку.</span><span class="sxs-lookup"><span data-stu-id="d143d-211">If the bot sends the same deep link URL into an `Action.OpenUrl`, the Teams tab opens in the current browser when the user selects the link.</span></span> <span data-ttu-id="d143d-212">Новая вкладка браузера не открывается.</span><span class="sxs-lookup"><span data-stu-id="d143d-212">No new browser tab is opened.</span></span>

<span data-ttu-id="d143d-213">Параметры запроса:</span><span class="sxs-lookup"><span data-stu-id="d143d-213">The query parameters are:</span></span>

* <span data-ttu-id="d143d-214">`appID`: Ваш манифест fe4a8eba-2a31-4737-8e33-e5fae6fee194.</span><span class="sxs-lookup"><span data-stu-id="d143d-214">`appID`: Your manifest ID fe4a8eba-2a31-4737-8e33-e5fae6fee194.</span></span>
* <span data-ttu-id="d143d-215">`entityID`: ID элемента, который вы предоставили [при настройке вкладки](~/tabs/how-to/create-tab-pages/configuration-page.md). Например, **tasklist123**.</span><span class="sxs-lookup"><span data-stu-id="d143d-215">`entityID`: The item ID that you provided when [configuring the tab](~/tabs/how-to/create-tab-pages/configuration-page.md). For example, **tasklist123**.</span></span>
* <span data-ttu-id="d143d-216">`entityWebUrl`. Необязательный url-адрес с откатным URL-адресом, который можно использовать, если клиент не поддерживает отрисовку вкладки или https://tasklist.example.com/123 https://tasklist.example.com/list123/task456 .</span><span class="sxs-lookup"><span data-stu-id="d143d-216">`entityWebUrl`: An optional field with a fallback URL to use if the client does not support rendering of the tab - https://tasklist.example.com/123 or https://tasklist.example.com/list123/task456.</span></span>
* <span data-ttu-id="d143d-217">`entityName`: Метка для элемента на вкладке, используемая при отображе глубокой ссылки, список задач 123 или задача 456.</span><span class="sxs-lookup"><span data-stu-id="d143d-217">`entityName`: A label for the item in your tab, to use when displaying the deep link, Task List 123 or Task 456.</span></span>

<span data-ttu-id="d143d-218">Пример: https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123&TaskList</span><span class="sxs-lookup"><span data-stu-id="d143d-218">Example: https://teams.microsoft.com/l/entity/fe4a8eba-2a31-4737-8e33-e5fae6fee194/tasklist123?webUrl=https://tasklist.example.com/123&TaskList</span></span>

## <a name="linking-to-the-scheduling-dialog"></a><span data-ttu-id="d143d-219">Ссылка на диалоговое окно планирования</span><span class="sxs-lookup"><span data-stu-id="d143d-219">Linking to the scheduling dialog</span></span>

> [!Note]
> <span data-ttu-id="d143d-220">Эта функция в настоящее время находится в предварительном просмотре разработчика.</span><span class="sxs-lookup"><span data-stu-id="d143d-220">This feature is currently in developer preview.</span></span>

<span data-ttu-id="d143d-221">Можно создать глубокие ссылки на встроенный диалоговое окно планирования Teams.</span><span class="sxs-lookup"><span data-stu-id="d143d-221">You can create deep links to the Teams built-in scheduling dialog.</span></span> <span data-ttu-id="d143d-222">Это особенно полезно, если приложение помогает пользователю выполнять задачи, связанные с календарем или планированием.</span><span class="sxs-lookup"><span data-stu-id="d143d-222">This is especially useful if your app helps the user complete calendar or scheduling-related tasks.</span></span>

### <a name="generating-a-deep-link-to-the-scheduling-dialog"></a><span data-ttu-id="d143d-223">Создание глубокой ссылки на диалоговое окно планирования</span><span class="sxs-lookup"><span data-stu-id="d143d-223">Generating a deep link to the scheduling dialog</span></span>

<span data-ttu-id="d143d-224">Используйте следующий формат для глубокой ссылки, которую можно использовать в карточке расширения бота, соединитетеля или обмена сообщениями: `https://teams.microsoft.com/l/meeting/new?subject=<meeting subject>&startTime=<date>&endTime=<date>&content=<content>&attendees=<user1>,<user2>,<user3>,...`</span><span class="sxs-lookup"><span data-stu-id="d143d-224">Use the following format for a deep link that you can use in a bot, Connector, or messaging extension card: `https://teams.microsoft.com/l/meeting/new?subject=<meeting subject>&startTime=<date>&endTime=<date>&content=<content>&attendees=<user1>,<user2>,<user3>,...`</span></span>

<span data-ttu-id="d143d-225">Пример: `https://teams.microsoft.com/l/meeting/new?subject=test%20subject&attendees=joe@contoso.com,bob@contoso.com&startTime=10%2F24%2F2018%2010%3A30%3A00&endTime=10%2F24%2F2018%2010%3A30%3A00&content=test%3Acontent`</span><span class="sxs-lookup"><span data-stu-id="d143d-225">Example: `https://teams.microsoft.com/l/meeting/new?subject=test%20subject&attendees=joe@contoso.com,bob@contoso.com&startTime=10%2F24%2F2018%2010%3A30%3A00&endTime=10%2F24%2F2018%2010%3A30%3A00&content=test%3Acontent`</span></span>

<span data-ttu-id="d143d-226">Параметры запроса:</span><span class="sxs-lookup"><span data-stu-id="d143d-226">The query parameters are:</span></span>

* <span data-ttu-id="d143d-227">`attendees`. Необязательный список пользовательских ИД, разделенных запятой, представляющих участников собрания.</span><span class="sxs-lookup"><span data-stu-id="d143d-227">`attendees`: The optional comma-separated list of user IDs representing the attendees of the meeting.</span></span> <span data-ttu-id="d143d-228">Пользователь, исполняющий действие, является организатором собрания.</span><span class="sxs-lookup"><span data-stu-id="d143d-228">The user performing the action is the meeting organizer.</span></span> <span data-ttu-id="d143d-229">В настоящее время поле ID пользователя поддерживает только Azure AD UserPrincipalName, как правило, адрес электронной почты.</span><span class="sxs-lookup"><span data-stu-id="d143d-229">The User ID field currently only supports the Azure AD UserPrincipalName, typically an email address.</span></span>
* <span data-ttu-id="d143d-230">`startTime`. Необязательное время начала события.</span><span class="sxs-lookup"><span data-stu-id="d143d-230">`startTime`: The optional start time of the event.</span></span> <span data-ttu-id="d143d-231">Это должно быть в [длинном формате ISO 8601,](https://en.wikipedia.org/wiki/ISO_8601)например *2018-03-12T23:55:25+02:00*.</span><span class="sxs-lookup"><span data-stu-id="d143d-231">This should be in [long ISO 8601 format](https://en.wikipedia.org/wiki/ISO_8601), for example *2018-03-12T23:55:25+02:00*.</span></span>
* <span data-ttu-id="d143d-232">`endTime`: Необязательное время окончания события, также в формате ISO 8601.</span><span class="sxs-lookup"><span data-stu-id="d143d-232">`endTime`: The optional end time of the event, also in ISO 8601 format.</span></span>
* <span data-ttu-id="d143d-233">`subject`. Необязательный поле для темы собрания.</span><span class="sxs-lookup"><span data-stu-id="d143d-233">`subject`: An optional field for the meeting subject.</span></span>
* <span data-ttu-id="d143d-234">`content`. Необязательное поле для поля сведений о собраниях.</span><span class="sxs-lookup"><span data-stu-id="d143d-234">`content`: An optional field for the meeting details field.</span></span>

> [!NOTE]
> <span data-ttu-id="d143d-235">В настоящее время указание расположения не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="d143d-235">Currently, specifying the location is not supported.</span></span> <span data-ttu-id="d143d-236">Необходимо указать смещение UTC, это означает часовые пояса при создании времени начала и окончания.</span><span class="sxs-lookup"><span data-stu-id="d143d-236">You must specify the UTC offset, it means time zones when generating your start and end times.</span></span>

<span data-ttu-id="d143d-237">Чтобы использовать эту глубокую ссылку с ботом, вы можете указать это в качестве целевого URL-адреса на кнопке карточки или нажмите действие через `openUrl` тип действия.</span><span class="sxs-lookup"><span data-stu-id="d143d-237">To use this deep link with your bot, you can specify this as the URL target in your card's button or tap action through the `openUrl` action type.</span></span>
