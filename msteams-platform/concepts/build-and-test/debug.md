---
title: Выбор установки для тестирования и отлаговки приложения
description: Описывает варианты тестирования и отладки приложений Microsoft Teams
keywords: группы запускают приложения для отлагки
ms.topic: conceptual
ms.openlocfilehash: fde8a5907e0815ff798a3acc316cba8336ab8704
ms.sourcegitcommit: 5b3ba227c2e5e6f7a2c629961993f168da6a504d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2021
ms.locfileid: "51634736"
---
# <a name="choose-a-setup-to-test-and-debug-your-microsoft-teams-app"></a>Выберите установку для тестирования и отлаговки приложения Microsoft Teams

Приложения Microsoft Teams содержат одну или несколько возможностей, а способы их запуска или даже их хозяйства отличаются. Для отладки используйте один из следующих способов:

* **Чисто локальный.** Для ботов вы можете протестировать свой опыт в эмуляторе бота. Для другого контента можно запускать локально в браузере и адресовать контент через `http://localhost` .
* **Локально размещено в Teams:** Это включает в себя запуск приложения локально в туннельное программное обеспечение и создание [пакета](~/concepts/build-and-test/apps-package.md) для [загрузки](~/concepts/deploy-and-publish/apps-upload.md) в Teams. Это позволяет легко запускать и отлаговка приложения в клиенте Teams.
* **Cloud-hosted in Teams:** This truly simulates the production level support for a Teams app. Она включает в себя отправку решения на выбор внешне [](~/concepts/build-and-test/apps-package.md) доступного сервера или поставщика облачных услуг и создание пакета для отправки [в](~/concepts/deploy-and-publish/apps-upload.md) Teams.

Запустите опыт с собственного компьютера для тестирования локальных или локальных команд. При этом можно компилировать и запускать в интегрированной среде разработки и в полной мере использовать такие методы, как breakpoints и отладка шагов. 

> [!NOTE]
> Для отладки и тестирования в производственном масштабе рекомендуется следовать собственным указаниям компании, чтобы убедиться, что вы можете поддерживать тестирование, постановку и развертывание с помощью собственных процессов.

Используйте несколько манифестов и пакетов для сохранения разделения между службами производства и разработки. Например, можно зарегистрировать отдельные боты разработки и производства и создать соответствующие пакеты для их отправки в тестовой среде. Мы также рекомендуем загружать и тестировать производственный пакет перед отправкой приложения для публикации в нашем магазине приложений или распространения среди клиентов.

## <a name="purely-local"></a>Чисто локальный

> [!NOTE]
> Локальный запуск бота не дает вам доступа к функциям приложения Teams или функциям бота, определенным для Teams, например вызовам реестра и другим функциям, определенным каналом. Кроме того, некоторые возможности разрешены командой Bot Framework в эмуляторе ботов, которые могут не функционировать при работе в Microsoft Teams.

Бот может работать в эмуляторе Бота. Это позволяет протестировать часть основной логики бота, увидеть грубую схему сообщений и выполнить простые тесты. Ниже следующую следующую меру:

1. Запустите код локально.
2. Запустите эмулятор Bot и установите URL-адрес:
   * Node.js: `http://localhost:3978/api/messages`
   * .NET/C#: `http://localhost:3979/api/messages`
3. Оставьте код приложения Майкрософт и пароль приложения Microsoft пустыми, чтобы соответствовать переменным среды по умолчанию.

## <a name="locally-hosted"></a>Локальное хостинг

Microsoft Teams — это полностью облачный продукт, он требует, чтобы все доступные ему службы были общедоступными с помощью конечных точек HTTPS. Поэтому для того, чтобы приложение работало в Teams, необходимо либо опубликовать код в облаке по вашему выбору, либо сделать локальный экземпляр запуска внешне доступным. Последнее можно сделать с помощью программного обеспечения для туннелей.

Хотя вы можете использовать любой инструмент по вашему выбору, мы используем и рекомендуем [ngrok](https://ngrok.com/download), который создает внешне адресируемый URL-адрес для порта, который вы открываете локально на компьютере. 

**Настройка ngrok в процессе подготовки к локальному запуску приложения Microsoft Teams**

1. Перейдите в каталог, в котором ngrok.exe установлено в приложении терминала. Чтобы избежать этого шага, может потребоваться добавить его в качестве переменной пути.
2. Запустите, например, `ngrok http 3978 --host-header=localhost:3978` или замените номер порта по мере необходимости.
   В этом случае запускается ngrok для списка в порту, который вы указываете. Взамен он предоставляет внешне адресируемый URL-адрес, допустимый до тех пор, пока запущен ngrok.

> [!NOTE]
> Если остановить и перезапустить ngrok, URL-адрес изменится.

Чтобы использовать ngrok в проекте на основе возможностей, которые вы используете, необходимо заменить все ссылки URL-адресов в коде, конфигурации и manifest.jsфайле для использования этой конечной точки URL-адреса.

Для ботов, зарегистрированных в Microsoft Bot Framework, обновим конечную точку обмена сообщениями бота, чтобы использовать эту новую конечную точку ngrok. Например, `https://2d1224fb.ngrok.io/api/messages`. Проверить, работает ли ngrok, можно, протестив ответ бота в окне тестового чата портала Bot Framework. Опять же, как и эмулятор, этот тест не позволяет получить доступ к функциональным возможностям teams-specific.

> [!NOTE]
> Чтобы обновить конечную точку обмена сообщениями для бота, необходимо использовать bot Framework. Выберите бот в [списке ботов в Bot Framework.](https://dev.botframework.com/bots) Нет необходимости переноса бота в Microsoft Azure. Вы также можете обновить конечную точку обмена сообщениями через [App Studio.](~/concepts/build-and-test/app-studio-overview.md)

## <a name="cloud-hosted"></a>Размещение в облаке

Вы можете использовать любую внешне адресную службу для хозяйского кода разработки и производства и конечных точек HTTPS. Не ожидается, что ваши возможности будут находиться в одной службе. Мы требуем доступа ко всем доменам из приложений Microsoft Teams, указанных в [`validDomains`](~/resources/schema/manifest-schema.md#validdomains) объекте `manifest.json` в файле.

> [!NOTE]
> Чтобы обеспечить безопасную среду, укажи точное имя домена и поддоменов, на которые вы ссылались, и эти домены должны быть под вашим контролем. Например, `*.azurewebsites.net` не рекомендуется, однако `contoso.azurewebsites.net` рекомендуется.

## <a name="load-and-run-your-experience"></a>Загрузка и запуск вашего опыта

Чтобы загрузить и запустить свой опыт в Microsoft Teams, необходимо создать пакет и загрузить его в Teams. Дополнительные сведения см. в указанных ниже статьях.

* [Создание пакета для приложения Microsoft Teams](~/concepts/build-and-test/apps-package.md)
* [Отправка приложения в Microsoft Teams](~/concepts/deploy-and-publish/apps-upload.md)

## <a name="next-step"></a>Следующий шаг

> [!div class="nextstepaction"] 
> [Добавление тестовых данные в среду](~/concepts/build-and-test/test-data.md)

