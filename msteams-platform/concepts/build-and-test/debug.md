---
title: Выбор установки для тестирования и отлаговки приложения
description: Описывает варианты тестирования и отладки Microsoft Teams приложений в локальной и облачной среде.
keywords: группы запускают отлагивание приложений локального хоста с облачным хостингом
ms.localizationpriority: medium
ms.topic: conceptual
ms.openlocfilehash: eddcd41a7bebae183df079bc5dfe67deed65056e
ms.sourcegitcommit: 2fdca6fb0ade3f6b460eb9a4dfea0a8e2ab8d3b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/08/2022
ms.locfileid: "63355708"
---
# <a name="choose-a-setup-to-test-and-debug-your-microsoft-teams-app"></a>Выберите установку для тестирования и отлаговки Microsoft Teams приложения

Microsoft Teams приложения содержат одну или несколько возможностей, а способы их запуска или даже их хозяйства отличаются. Для отладки используйте один из следующих способов:

* **Чисто локально**. Для ботов вы можете протестировать свой опыт в области Emulator. Для другого контента можно запускать локально в браузере и адресовать контент через `http://localhost`.
* **Локально размещено в Teams**: Это включает в себя запуск приложения локально в туннельное программное обеспечение и создание пакета для [](~/concepts/build-and-test/apps-package.md) загрузки в Teams [](~/concepts/deploy-and-publish/apps-upload.md). Это позволяет легко запускать и отлаговку приложения в Teams клиенте.
* **Cloud-hosted in Teams**: Это действительно имитирует поддержку уровня производства для Teams приложения. Она включает в себя отправку решения на выбор внешне доступного сервера или поставщика облачных услуг и [](~/concepts/build-and-test/apps-package.md) создание пакета для загрузки в Teams.[](~/concepts/deploy-and-publish/apps-upload.md)

Запустите опыт с собственного компьютера для чисто локального или локального Teams тестирования. При этом можно компилировать и запускать в интегрированной среде разработки и в полной мере использовать такие методы, как breakpoints и отладка шагов.

> [!NOTE]
> Для отладки и тестирования в производственном масштабе рекомендуется следовать собственным указаниям компании, чтобы убедиться, что вы можете поддерживать тестирование, постановку и развертывание с помощью собственных процессов.

Используйте несколько манифестов и пакетов для сохранения разделения между службами производства и разработки. Например, можно зарегистрировать отдельные боты разработки и производства и создать соответствующие пакеты для их отправки в тестовой среде. Мы также рекомендуем загружать и тестировать производственный пакет перед отправкой приложения для публикации в нашем магазине приложений или распространения среди клиентов.

## <a name="purely-local"></a>Чисто локальный

> [!NOTE]
> Локальное управление ботом не дает вам доступа Teams приложений или Teams функций бота, таких как вызовы реестра и другие функции, определенные каналу. Кроме того, некоторые возможности разрешены bot Framework в бот-Emulator, которые могут не функционировать при Microsoft Teams.

Бот может работать в пределах бота Emulator. Это позволяет протестировать часть основной логики бота, увидеть грубую схему сообщений и выполнить простые тесты. Ниже следующую следующую меру:

1. Запустите код локально.
2. Запустите бот-Emulator и установите URL-адрес:
   * Node.js: `http://localhost:3978/api/messages`
   * .NET/C#: `http://localhost:3979/api/messages`
3. Оставьте код приложения Майкрософт и пароль приложения Microsoft пустыми, чтобы соответствовать переменным среды по умолчанию.

## <a name="locally-hosted"></a>Локальное хостинг

Microsoft Teams является полностью облачным продуктом, он требует, чтобы все доступные ему службы были общедоступными с помощью конечных точек HTTPS. Поэтому для того, чтобы приложение работало в Teams, необходимо либо опубликовать код в облаке по вашему выбору, либо сделать локальный экземпляр запуска внешне доступным. Последнее можно сделать с помощью программного обеспечения для туннелей.

Хотя вы можете использовать любой инструмент по вашему выбору, мы используем [и рекомендуем ngrok](https://ngrok.com/download), который создает внешне адресируемый URL-адрес для порта, который вы открываете локально на компьютере.

Чтобы настроить ngrok в процессе подготовки к локальному Microsoft Teams приложения, выполните следующие действия:

1. Перейдите в каталог, в котором ngrok.exe установлено приложение терминала. Чтобы избежать этого шага, может потребоваться добавить его в качестве переменной пути.
2. Запустите, например, `ngrok http 3978 --host-header=localhost:3978`или замените номер порта по мере необходимости.
   В этом случае запускается ngrok для списка в порту, который вы указываете. Взамен он предоставляет внешне адресируемый URL-адрес, допустимый до тех пор, пока запущен ngrok.

> [!NOTE]
> Если остановить и перезапустить ngrok, URL-адрес изменится.

Чтобы использовать ngrok в проекте на основе возможностей, которые вы используете, необходимо заменить все ссылки URL-адресов в коде, конфигурации и файле manifest.json для использования этой конечной точки URL-адреса.

Для ботов, зарегистрированных в Microsoft Bot Framework, обновим конечную точку обмена сообщениями бота, чтобы использовать эту новую конечную точку ngrok. Например, `https://2d1224fb.ngrok.io/api/messages`. Проверить, работает ли ngrok, можно, протестив ответ бота в окне тестового чата портала Bot Framework. Опять же, как и эмулятор, этот тест не позволяет получить доступ к Teams-конкретным функциям.

> [!NOTE]
> Чтобы обновить конечную точку обмена сообщениями для бота, необходимо использовать bot Framework. Выберите бот в [списке ботов в Bot Framework](https://dev.botframework.com/bots). Нет необходимости переноса бота в Microsoft Azure. Вы также можете обновить конечную точку обмена сообщениями через [App Studio](~/concepts/build-and-test/app-studio-overview.md).

## <a name="cloud-hosted"></a>Размещение в облаке

Вы можете использовать любую внешне адресную службу для хозяйского кода разработки и производства и конечных точек HTTPS. Не ожидается, что ваши возможности будут находиться в одной службе. Мы требуем, чтобы все домены были доступны из Microsoft Teams приложений, перечисленных в объекте [`validDomains`](~/resources/schema/manifest-schema.md#validdomains) в файле`manifest.json`.

> [!NOTE]
> Чтобы обеспечить безопасную среду, укажи точное имя домена и поддоменов, на которые вы ссылались, и эти домены должны быть под вашим контролем. Например, `*.azurewebsites.net` не рекомендуется, однако `contoso.azurewebsites.net` рекомендуется.

## <a name="load-and-run-your-experience"></a>Загрузка и запуск вашего опыта

Чтобы загрузить и запустить свой Microsoft Teams, необходимо создать пакет и загрузить его в Teams. Подробнее:

* [Создайте пакет для Microsoft Teams приложения](~/concepts/build-and-test/apps-package.md).
* [Upload приложение в Microsoft Teams](~/concepts/deploy-and-publish/apps-upload.md).

## <a name="next-step"></a>Следующий этап

> [!div class="nextstepaction"]
> [Добавление тестовых данные в среду](~/concepts/build-and-test/test-data.md)

## <a name="see-also"></a>См. также

[Тестирование и отлагивание бота локально](../../bots/how-to/debug/locally-with-an-ide.md#test-and-debug-your-bot-locally)
