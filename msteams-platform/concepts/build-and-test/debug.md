---
title: Выбор настройки для тестирования и отладки приложения
description: Описывает параметры тестирования и отладки Microsoft Teams приложений
keywords: команды запускать приложения для отладки
localization_priority: Normal
ms.topic: conceptual
ms.openlocfilehash: 1f11834ad83e8bea7e4114d25d022df2f62c1700
ms.sourcegitcommit: 51e4a1464ea58c254ad6bd0317aca03ebf6bf1f6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/19/2021
ms.locfileid: "52565160"
---
# <a name="choose-a-setup-to-test-and-debug-your-microsoft-teams-app"></a>Выберите настройку для тестирования и отладки Microsoft Teams приложения

Microsoft Teams приложения содержат одну или несколько возможностей, и способы запуска или даже размещения их различны. Для отладки используйте один из следующих способов:

* **Чисто локальный**: Для ботов, вы можете проверить свой опыт в Эмуляторе Bot. Для другого контента вы можете запускать локально в браузере и адрес содержимого через `http://localhost` .
* **Локально размещенный в Teams**: Это включает в себя запуск приложения локально в туннелирование программного [обеспечения и создание](~/concepts/build-and-test/apps-package.md) [пакета](~/concepts/deploy-and-publish/apps-upload.md) для загрузки в Teams. Это позволяет легко запускать и отладить ваше приложение в Teams клиента.
* **Облако, размещенные Teams:** Это действительно имитирует поддержку уровня производства для Teams приложения. Она включает в себя загрузку решения на ваш внешне доступный сервер или облако поставщика выбора [и создание пакета](~/concepts/build-and-test/apps-package.md) для [загрузки](~/concepts/deploy-and-publish/apps-upload.md) в Teams.

Запустите опыт работы с собственного компьютера для чисто локального или локального Teams тестирования. Поступая таким образом, вы можете компилировать и работать в интегрированной среде разработки и в полной мере использовать такие методы, как брейк-пойнты и отладка шагов. 

> [!NOTE]
> Для отладки и тестирования в производственном масштабе мы рекомендуем вам следовать собственным рекомендациям компании, чтобы гарантировать, что вы сможете поддерживать тестирование, постановку и развертывание через свои собственные процессы.

Используйте несколько манифестов и пакетов для поддержания разделения между производственными и разработками сервисами. Например, можно зарегистрировать отдельных ботов разработки и производства и создать соответствующие пакеты для их загрузки в тестовую среду. Мы также рекомендуем загрузить и протестировать производственный пакет перед отправкой приложения для публикации в нашем магазине приложений или распространения для клиентов.

## <a name="purely-local"></a>Чисто местные

> [!NOTE]
> Запуск бота локально не дает вам доступ к Teams приложения или Teams функциям бота, таким как вызовы реестра и другие функции, связанные с конкретными каналами. Кроме того, некоторые возможности разрешены Bot Framework в эмуляторе Bot, которые могут не функционировать при запуске в Microsoft Teams.

Ваш бот может работать в эмуляторе Bot. Это позволяет проверить некоторые основные логики бота, увидеть грубый макет сообщений и выполнить простые тесты. Ниже приведены следующие шаги:

1. Вы запустите код локально.
2. Запустите эмулятор Bot и установите URL:
   * Node.js: `http://localhost:3978/api/messages`
   * .NET/C: `http://localhost:3979/api/messages`
3. Оставьте идентификатор приложения Майкрософт и пароль приложения Майкрософт пустыми, чтобы соответствовать переменным среды по умолчанию.

## <a name="locally-hosted"></a>Местное размещение

Microsoft Teams является полностью облачным продуктом, он требует, чтобы все службы, к ним по доступу, были доступны публично с помощью конечных точек HTTPS. Поэтому, чтобы ваше приложение работало в течение Teams лет, необходимо либо опубликовать код в облаке по вашему выбору, либо сделать наш локальный экземпляр внешне доступным. Мы можем сделать последнее с помощью программного обеспечения для туннелирования.

Хотя вы можете использовать любой инструмент по вашему выбору, мы используем и [рекомендуем ngrok](https://ngrok.com/download), который создает внешне адресный URL для порта, который вы открываете локально на вашей машине. 

**Настройка ngrok в рамках подготовки к запуску вашего Microsoft Teams локально**

1. Зайдите в каталог, где вы ngrok.exe установлены в терминале приложения. Вы можете добавить его в качестве переменной пути, чтобы избежать этого шага.
2. Вы запустите, `ngrok http 3978 --host-header=localhost:3978` например, или замените номер порта по мере необходимости.
   Это запускает ngrok, чтобы перечислить в порте вы указываете. В свою очередь, он дает вам внешне адресный URL действителен до тех пор, как ngrok работает.

> [!NOTE]
> Если вы остановитесь и перезапустите ngrok, URL-адрес изменится.

Чтобы использовать ngrok в проекте на основе возможностей, которые вы используете, вы должны заменить все ссылки URL в коде, конфигурации и manifest.jsфайле, чтобы использовать эту конечную точку URL.

Для ботов, зарегистрированных Microsoft Bot Framework, обновите конечную точку обмена сообщениями бота, чтобы использовать эту новую конечную точку ngrok. Например, `https://2d1224fb.ngrok.io/api/messages`. Вы можете подтвердить, что ngrok работает, тестируя ответ бота в окне тестового чата портала Bot Framework. Опять же, как эмулятор, этот тест не позволяет получить доступ Teams конкретной функциональности.

> [!NOTE]
> Чтобы обновить конечную точку обмена сообщениями для бота, необходимо использовать Bot Framework. Выберите бота [в списке ботов в Bot Framework.](https://dev.botframework.com/bots) Вам не нужно мигрировать ваш бот, чтобы Microsoft Azure. Вы также можете обновить конечную точку обмена сообщениями [через App Studio.](~/concepts/build-and-test/app-studio-overview.md)

## <a name="cloud-hosted"></a>Размещение в облаке

Вы можете использовать любую внешне адресную службу для размещения кода разработки и производства и их конечных точек HTTPS. Нет никаких ожиданий, что ваши возможности будут находиться в одной и той же службе. Мы требуем, чтобы все домены были доступны из ваших Microsoft Teams приложений, перечисленных в [`validDomains`](~/resources/schema/manifest-schema.md#validdomains) объекте в `manifest.json` файле.

> [!NOTE]
> Чтобы обеспечить безопасную среду, будьте откровенны о точном домене и поддоменах, на которые вы ссылаетсяе, и эти домены должны быть под вашим контролем. Например, `*.azurewebsites.net` не рекомендуется, `contoso.azurewebsites.net` однако рекомендуется.

## <a name="load-and-run-your-experience"></a>Загрузите и запустите свой опыт

Чтобы загрузить и запустить свой опыт в Microsoft Teams, необходимо создать пакет и загрузить его в Teams. Дополнительные сведения см. в статьях:

* [Создайте пакет для вашего Microsoft Teams приложения.](~/concepts/build-and-test/apps-package.md)
* [Upload приложение в Microsoft Teams](~/concepts/deploy-and-publish/apps-upload.md).

## <a name="next-step"></a>Следующий шаг

> [!div class="nextstepaction"] 
> [Добавление тестовых данные в среду](~/concepts/build-and-test/test-data.md)

