---
title: Выбор программы установки для тестирования и отлаки приложения
description: Описание параметров тестирования и отладки приложений Microsoft Teams
keywords: команды запускают приложения отлаки
ms.topic: conceptual
ms.openlocfilehash: ea851a0d3ecf3ec87093bcc095050190a282c25e
ms.sourcegitcommit: 4539479289b43812eaae07a1c0f878bed815d2d2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/12/2021
ms.locfileid: "49797801"
---
# <a name="choosing-a-setup-to-test-and-debug-your-microsoft-teams-app"></a>Выбор программы установки для тестирования и отлаки приложения Microsoft Teams

Приложения Microsoft Teams могут содержать одну или несколько возможностей, и способы их запуска или даже их ведущего приложения могут быть другими. В общем, для отладки у нас есть следующие способы запуска приложения Microsoft Teams:

* **Чисто локальный** &emsp; Для ботов вы можете протестировать свой опыт в эмуляторе бота. Для другого содержимого можно запускать локально в браузере и адресовать содержимое с помощью `http://localhost` .
* **Локальное хостинг в Teams** &emsp; Для этого необходимо запускать локально с программным туннелингом и [создавать пакет](~/concepts/build-and-test/apps-package.md) для [отправки](~/concepts/deploy-and-publish/apps-upload.md) в Teams. Это позволяет легко запускать и отлаголать приложение в клиенте Teams.
* **В Teams с облачным хостингом** Это действительно имитирует (или является) поддержку приложения Teams на уровне производства. Он включает отправку решения на доступный извне сервер или облачного поставщика (мы рекомендуем, конечно, Azure) и создание пакета для отправки [в](~/concepts/deploy-and-publish/apps-upload.md) Teams. [](~/concepts/build-and-test/apps-package.md)

Для исключительно локального или локального тестирования Teams вы можете запускать этот опыт с собственного компьютера. Это позволяет фактически компилировать и запускать IDE, а также использовать все преимущества таких методов, как точки останова и пошаговая отладка. Для отладки и тестирования в производственном масштабе рекомендуется следовать рекомендациям компании, чтобы обеспечить поддержку тестирования, промежуточного и развертывания с помощью собственных процессов.

Как правило, мы рекомендуем использовать несколько манифестов и пакетов, чтобы обеспечить разделение между производственными и службами разработки. Например, можно зарегистрировать отдельные боты разработки и производства и создать соответствующие пакеты для их отправки в тестовой среде. Мы также рекомендуем отправить и протестировать свой производственный пакет перед отправкой приложения для публикации в нашем магазине приложений или распространением среди пользователей.

## <a name="purely-local"></a>Чисто локальный

> [!NOTE]
> В этом случае вы не сможете получить доступ к функциям приложения Teams или функциям бота Teams, таким как вызовы в список и другие функции для каналов. Кроме того, некоторые возможности могут быть разрешены в Bot Framework в эмуляторе ботов, которые могут не работать при запуске в Microsoft Teams.

Бот можно запустить в эмуляторе бота. Это позволяет протестировать некоторые основные логики бота, увидеть примерный макет сообщений и выполнить простые тесты. Необходимо выполнить следующие шаги.

* Локальный запуск кода
* Запустите эмулятор бота и установите URL-адрес:
  * Node.js: `http://localhost:3978/api/messages`
  * .NET/C#: `http://localhost:3979/api/messages`
* Оставьте код приложения Майкрософт и пароль приложения Майкрософт пустыми в соответствие с переменными среды по умолчанию.

## <a name="locally-hosted"></a>Локальное

Так как Microsoft Teams является полностью облачным продуктом, он требует, чтобы все доступные ему службы были общедоступными с помощью конечных точек HTTPS. Таким образом, чтобы ваше приложение работало в Teams, необходимо опубликовать код в любом облаке или сделать локальный работающий экземпляр доступным извне. Последнее можно сделать с помощью программного обеспечения для туннелинга.

Хотя вы можете использовать любое средство выбора, мы используем и рекомендуем [ngrok,](https://ngrok.com/download)который создает внешний URL-адрес для порта, открытого локально на компьютере. Настройка ngrok при подготовке к локальному запуску приложения Microsoft Teams:

* В приложении терминала перейдите к каталогу, в котором ngrok.exe установлено. Чтобы избежать этого шага, можно добавить его в качестве переменной пути.
* Запустите, например, или замените номер `ngrok http 3978 --host-header=localhost:3978` порта при необходимости.

При этом ngrok запускается для прослушивания порта, который вы указали. В ответ он предоставляет внешний URL-адрес, действительный до тех пор, пока работает ngrok.

> [!NOTE]
> Если вы остановите и перезапустите ngrok, URL-адрес изменится.

Чтобы использовать ngrok в проекте и в зависимости от возможностей, необходимо заменить все ссылки на URL-адреса в коде, конфигурации и/или manifest.jsв файле, чтобы использовать эту конечную точку URL-адреса.

Например, для ботов, зарегистрированных в Microsoft Bot Framework, обновите конечную точку обмена сообщениями бота, чтобы использовать эту новую конечную точку ngrok. Например, `https://2d1224fb.ngrok.io/api/messages`. Вы можете проверить, работает ли ngrok, протестировать ответ бота в окне тестового чата портала Bot Framework. (Опять же, как и эмулятор, этот тест не позволяет получить доступ к функциям Teams.)

> [!NOTE]
> Чтобы обновить конечную точку обмена сообщениями для бота, необходимо использовать Bot Framework. Щелкните бота [в списке ботов в Bot Framework.](https://dev.botframework.com/bots) Вам не нужно мигрировать бот в Microsoft Azure. Вы также можете обновить конечную точку обмена сообщениями с [помощью App Studio.](~/concepts/build-and-test/app-studio-overview.md)

## <a name="cloud-hosted"></a>Размещение в облаке

Вы можете использовать любую внешнюю адресуемую службу для применения кода разработки и производства, а также конечных точек HTTPS. Не ожидается, что ваши возможности будут находиться в одной службе. Мы требуем, чтобы все домены, к которые имеют доступ из ваших приложений Microsoft Teams, были указаны в объекте в manifest.js[`validDomains`](~/resources/schema/manifest-schema.md#validdomains) в файле.

> [!NOTE]
> Чтобы обеспечить безопасную среду, в явном качестве укажийте конкретные домены и поддомены, на которые вы ссылались, и эти домены должны быть в вашем контроле. Например, `*.azurewebsites.net` не рекомендуется, но `contoso.azurewebsites.net` будет.

## <a name="loading-and-running"></a>Загрузка и запуск

Как правило, для загрузки и запуска работы в Microsoft Teams необходимо создать пакет и отправить его в Teams, следуя следующим рекомендациям:

* [Создание пакета для приложения Microsoft Teams](~/concepts/build-and-test/apps-package.md)
* [Отправка приложения в Microsoft Teams](~/concepts/deploy-and-publish/apps-upload.md)
