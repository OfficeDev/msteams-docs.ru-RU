---
title: Выбор настройки для тестирования и отладки приложения
description: Описывает параметры тестирования и отладки Microsoft Teams приложений
keywords: команды запускать приложения для отладки
localization_priority: Normal
ms.topic: conceptual
ms.openlocfilehash: 1f11834ad83e8bea7e4114d25d022df2f62c1700
ms.sourcegitcommit: 51e4a1464ea58c254ad6bd0317aca03ebf6bf1f6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/19/2021
ms.locfileid: "52565160"
---
# <a name="choose-a-setup-to-test-and-debug-your-microsoft-teams-app"></a><span data-ttu-id="055a4-104">Выберите настройку для тестирования и отладки Microsoft Teams приложения</span><span class="sxs-lookup"><span data-stu-id="055a4-104">Choose a setup to test and debug your Microsoft Teams app</span></span>

<span data-ttu-id="055a4-105">Microsoft Teams приложения содержат одну или несколько возможностей, и способы запуска или даже размещения их различны.</span><span class="sxs-lookup"><span data-stu-id="055a4-105">Microsoft Teams apps contain one or more capabilities and the ways to run or even host them are different.</span></span> <span data-ttu-id="055a4-106">Для отладки используйте один из следующих способов:</span><span class="sxs-lookup"><span data-stu-id="055a4-106">For debugging, use one of the following ways:</span></span>

* <span data-ttu-id="055a4-107">**Чисто локальный**: Для ботов, вы можете проверить свой опыт в Эмуляторе Bot.</span><span class="sxs-lookup"><span data-stu-id="055a4-107">**Purely local**: For bots, you can test your experience in the Bot Emulator.</span></span> <span data-ttu-id="055a4-108">Для другого контента вы можете запускать локально в браузере и адрес содержимого через `http://localhost` .</span><span class="sxs-lookup"><span data-stu-id="055a4-108">For other content, you can run locally in your browser and address content through `http://localhost`.</span></span>
* <span data-ttu-id="055a4-109">**Локально размещенный в Teams**: Это включает в себя запуск приложения локально в туннелирование программного [обеспечения и создание](~/concepts/build-and-test/apps-package.md) [пакета](~/concepts/deploy-and-publish/apps-upload.md) для загрузки в Teams.</span><span class="sxs-lookup"><span data-stu-id="055a4-109">**Locally hosted in Teams**: This involves running the app locally in tunneling software and [creating a package](~/concepts/build-and-test/apps-package.md) to [upload](~/concepts/deploy-and-publish/apps-upload.md) into Teams.</span></span> <span data-ttu-id="055a4-110">Это позволяет легко запускать и отладить ваше приложение в Teams клиента.</span><span class="sxs-lookup"><span data-stu-id="055a4-110">This permits you to easily run and debug your app within the Teams client.</span></span>
* <span data-ttu-id="055a4-111">**Облако, размещенные Teams:** Это действительно имитирует поддержку уровня производства для Teams приложения.</span><span class="sxs-lookup"><span data-stu-id="055a4-111">**Cloud-hosted in Teams**: This truly simulates the production level support for a Teams app.</span></span> <span data-ttu-id="055a4-112">Она включает в себя загрузку решения на ваш внешне доступный сервер или облако поставщика выбора [и создание пакета](~/concepts/build-and-test/apps-package.md) для [загрузки](~/concepts/deploy-and-publish/apps-upload.md) в Teams.</span><span class="sxs-lookup"><span data-stu-id="055a4-112">It involves uploading your solution to your externally accessible server or cloud provider of choice and [creating a package](~/concepts/build-and-test/apps-package.md) to [upload](~/concepts/deploy-and-publish/apps-upload.md) into Teams.</span></span>

<span data-ttu-id="055a4-113">Запустите опыт работы с собственного компьютера для чисто локального или локального Teams тестирования.</span><span class="sxs-lookup"><span data-stu-id="055a4-113">Run the experience from your own computer for purely local or local Teams testing.</span></span> <span data-ttu-id="055a4-114">Поступая таким образом, вы можете компилировать и работать в интегрированной среде разработки и в полной мере использовать такие методы, как брейк-пойнты и отладка шагов.</span><span class="sxs-lookup"><span data-stu-id="055a4-114">By doing this, you can compile and run within your integrated development environment and take full advantage of techniques, such as breakpoints and step debugging.</span></span> 

> [!NOTE]
> <span data-ttu-id="055a4-115">Для отладки и тестирования в производственном масштабе мы рекомендуем вам следовать собственным рекомендациям компании, чтобы гарантировать, что вы сможете поддерживать тестирование, постановку и развертывание через свои собственные процессы.</span><span class="sxs-lookup"><span data-stu-id="055a4-115">For production-scale debugging and testing, we recommend that you follow your own company guidelines to ensure you are able to support testing, staging, and deployment through your own processes.</span></span>

<span data-ttu-id="055a4-116">Используйте несколько манифестов и пакетов для поддержания разделения между производственными и разработками сервисами.</span><span class="sxs-lookup"><span data-stu-id="055a4-116">Use multiple manifests and packages to maintain separation between production and development services.</span></span> <span data-ttu-id="055a4-117">Например, можно зарегистрировать отдельных ботов разработки и производства и создать соответствующие пакеты для их загрузки в тестовую среду.</span><span class="sxs-lookup"><span data-stu-id="055a4-117">For example, you might choose to register separate development and production bots and create appropriate packages to upload them in your testing environment.</span></span> <span data-ttu-id="055a4-118">Мы также рекомендуем загрузить и протестировать производственный пакет перед отправкой приложения для публикации в нашем магазине приложений или распространения для клиентов.</span><span class="sxs-lookup"><span data-stu-id="055a4-118">We also recommend, you upload and test your production package before submitting your app for publishing in our app store or distributing to customers.</span></span>

## <a name="purely-local"></a><span data-ttu-id="055a4-119">Чисто местные</span><span class="sxs-lookup"><span data-stu-id="055a4-119">Purely local</span></span>

> [!NOTE]
> <span data-ttu-id="055a4-120">Запуск бота локально не дает вам доступ к Teams приложения или Teams функциям бота, таким как вызовы реестра и другие функции, связанные с конкретными каналами.</span><span class="sxs-lookup"><span data-stu-id="055a4-120">Running the bot locally does not give you access to Teams app functionality or Teams-specific bot functions like roster calls and other channel-specific functionality.</span></span> <span data-ttu-id="055a4-121">Кроме того, некоторые возможности разрешены Bot Framework в эмуляторе Bot, которые могут не функционировать при запуске в Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="055a4-121">In addition, some capabilities are permitted by the Bot Framework in the Bot Emulator that might not function when running in Microsoft Teams.</span></span>

<span data-ttu-id="055a4-122">Ваш бот может работать в эмуляторе Bot.</span><span class="sxs-lookup"><span data-stu-id="055a4-122">Your bot can run within the Bot Emulator.</span></span> <span data-ttu-id="055a4-123">Это позволяет проверить некоторые основные логики бота, увидеть грубый макет сообщений и выполнить простые тесты.</span><span class="sxs-lookup"><span data-stu-id="055a4-123">This enables you to test some of the core logic of the bot, see a rough layout of messages, and perform simple tests.</span></span> <span data-ttu-id="055a4-124">Ниже приведены следующие шаги:</span><span class="sxs-lookup"><span data-stu-id="055a4-124">Following are the steps:</span></span>

1. <span data-ttu-id="055a4-125">Вы запустите код локально.</span><span class="sxs-lookup"><span data-stu-id="055a4-125">Run the code locally.</span></span>
2. <span data-ttu-id="055a4-126">Запустите эмулятор Bot и установите URL:</span><span class="sxs-lookup"><span data-stu-id="055a4-126">Launch the Bot Emulator and set the URL:</span></span>
   * <span data-ttu-id="055a4-127">Node.js: `http://localhost:3978/api/messages`</span><span class="sxs-lookup"><span data-stu-id="055a4-127">Node.js: `http://localhost:3978/api/messages`</span></span>
   * <span data-ttu-id="055a4-128">.NET/C: `http://localhost:3979/api/messages`</span><span class="sxs-lookup"><span data-stu-id="055a4-128">.NET/C#: `http://localhost:3979/api/messages`</span></span>
3. <span data-ttu-id="055a4-129">Оставьте идентификатор приложения Майкрософт и пароль приложения Майкрософт пустыми, чтобы соответствовать переменным среды по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="055a4-129">Leave the Microsoft app ID and Microsoft app password blank, to match the default environment variables.</span></span>

## <a name="locally-hosted"></a><span data-ttu-id="055a4-130">Местное размещение</span><span class="sxs-lookup"><span data-stu-id="055a4-130">Locally hosted</span></span>

<span data-ttu-id="055a4-131">Microsoft Teams является полностью облачным продуктом, он требует, чтобы все службы, к ним по доступу, были доступны публично с помощью конечных точек HTTPS.</span><span class="sxs-lookup"><span data-stu-id="055a4-131">Microsoft Teams is an entirely cloud-based product, it requires all services it accesses to be available publicly using HTTPS endpoints.</span></span> <span data-ttu-id="055a4-132">Поэтому, чтобы ваше приложение работало в течение Teams лет, необходимо либо опубликовать код в облаке по вашему выбору, либо сделать наш локальный экземпляр внешне доступным.</span><span class="sxs-lookup"><span data-stu-id="055a4-132">Therefore, to enable your app to work within Teams, you need to either publish the code to the cloud of your choice or make our local running instance externally accessible.</span></span> <span data-ttu-id="055a4-133">Мы можем сделать последнее с помощью программного обеспечения для туннелирования.</span><span class="sxs-lookup"><span data-stu-id="055a4-133">We can do the latter with tunneling software.</span></span>

<span data-ttu-id="055a4-134">Хотя вы можете использовать любой инструмент по вашему выбору, мы используем и [рекомендуем ngrok](https://ngrok.com/download), который создает внешне адресный URL для порта, который вы открываете локально на вашей машине.</span><span class="sxs-lookup"><span data-stu-id="055a4-134">Although you can use any tool of your choice, we use and recommend [ngrok](https://ngrok.com/download), which creates an externally addressable URL for a port you open locally on your machine.</span></span> 

<span data-ttu-id="055a4-135">**Настройка ngrok в рамках подготовки к запуску вашего Microsoft Teams локально**</span><span class="sxs-lookup"><span data-stu-id="055a4-135">**To set up ngrok in preparation for running your Microsoft Teams app locally**</span></span>

1. <span data-ttu-id="055a4-136">Зайдите в каталог, где вы ngrok.exe установлены в терминале приложения.</span><span class="sxs-lookup"><span data-stu-id="055a4-136">Go to the directory where you have ngrok.exe installed in a terminal application.</span></span> <span data-ttu-id="055a4-137">Вы можете добавить его в качестве переменной пути, чтобы избежать этого шага.</span><span class="sxs-lookup"><span data-stu-id="055a4-137">You may want to add it as a path variable to avoid this step.</span></span>
2. <span data-ttu-id="055a4-138">Вы запустите, `ngrok http 3978 --host-header=localhost:3978` например, или замените номер порта по мере необходимости.</span><span class="sxs-lookup"><span data-stu-id="055a4-138">Run, for example, `ngrok http 3978 --host-header=localhost:3978`, or replace the port number as needed.</span></span>
   <span data-ttu-id="055a4-139">Это запускает ngrok, чтобы перечислить в порте вы указываете.</span><span class="sxs-lookup"><span data-stu-id="055a4-139">This launches ngrok to list on the port you specify.</span></span> <span data-ttu-id="055a4-140">В свою очередь, он дает вам внешне адресный URL действителен до тех пор, как ngrok работает.</span><span class="sxs-lookup"><span data-stu-id="055a4-140">In return, it gives you an externally addressable URL valid for as long as ngrok is running.</span></span>

> [!NOTE]
> <span data-ttu-id="055a4-141">Если вы остановитесь и перезапустите ngrok, URL-адрес изменится.</span><span class="sxs-lookup"><span data-stu-id="055a4-141">If you stop and restart ngrok, the URL changes.</span></span>

<span data-ttu-id="055a4-142">Чтобы использовать ngrok в проекте на основе возможностей, которые вы используете, вы должны заменить все ссылки URL в коде, конфигурации и manifest.jsфайле, чтобы использовать эту конечную точку URL.</span><span class="sxs-lookup"><span data-stu-id="055a4-142">To use ngrok in your project based on the capabilities you are using, you must replace all URL references in your code, configuration, and manifest.json file to use this URL endpoint.</span></span>

<span data-ttu-id="055a4-143">Для ботов, зарегистрированных Microsoft Bot Framework, обновите конечную точку обмена сообщениями бота, чтобы использовать эту новую конечную точку ngrok.</span><span class="sxs-lookup"><span data-stu-id="055a4-143">For bots registered in the Microsoft Bot Framework, update the bot's messaging endpoint to use this new ngrok endpoint.</span></span> <span data-ttu-id="055a4-144">Например, `https://2d1224fb.ngrok.io/api/messages`.</span><span class="sxs-lookup"><span data-stu-id="055a4-144">For example, `https://2d1224fb.ngrok.io/api/messages`.</span></span> <span data-ttu-id="055a4-145">Вы можете подтвердить, что ngrok работает, тестируя ответ бота в окне тестового чата портала Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="055a4-145">You can validate that ngrok is working by testing the bot response in the Bot Framework portal's Test chat window.</span></span> <span data-ttu-id="055a4-146">Опять же, как эмулятор, этот тест не позволяет получить доступ Teams конкретной функциональности.</span><span class="sxs-lookup"><span data-stu-id="055a4-146">Again, like the emulator, this test does not permit you to access Teams-specific functionality.</span></span>

> [!NOTE]
> <span data-ttu-id="055a4-147">Чтобы обновить конечную точку обмена сообщениями для бота, необходимо использовать Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="055a4-147">To update the messaging endpoint for a bot, you must use the Bot Framework.</span></span> <span data-ttu-id="055a4-148">Выберите бота [в списке ботов в Bot Framework.](https://dev.botframework.com/bots)</span><span class="sxs-lookup"><span data-stu-id="055a4-148">Select your bot in [your list of bots in Bot Framework](https://dev.botframework.com/bots).</span></span> <span data-ttu-id="055a4-149">Вам не нужно мигрировать ваш бот, чтобы Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="055a4-149">You do not need to migrate your bot to Microsoft Azure.</span></span> <span data-ttu-id="055a4-150">Вы также можете обновить конечную точку обмена сообщениями [через App Studio.](~/concepts/build-and-test/app-studio-overview.md)</span><span class="sxs-lookup"><span data-stu-id="055a4-150">You can also update your messaging endpoint through [App Studio](~/concepts/build-and-test/app-studio-overview.md).</span></span>

## <a name="cloud-hosted"></a><span data-ttu-id="055a4-151">Размещение в облаке</span><span class="sxs-lookup"><span data-stu-id="055a4-151">Cloud-hosted</span></span>

<span data-ttu-id="055a4-152">Вы можете использовать любую внешне адресную службу для размещения кода разработки и производства и их конечных точек HTTPS.</span><span class="sxs-lookup"><span data-stu-id="055a4-152">You can use any externally addressable service to host your development and production code and their HTTPS endpoints.</span></span> <span data-ttu-id="055a4-153">Нет никаких ожиданий, что ваши возможности будут находиться в одной и той же службе.</span><span class="sxs-lookup"><span data-stu-id="055a4-153">There is no expectation that your capabilities reside on the same service.</span></span> <span data-ttu-id="055a4-154">Мы требуем, чтобы все домены были доступны из ваших Microsoft Teams приложений, перечисленных в [`validDomains`](~/resources/schema/manifest-schema.md#validdomains) объекте в `manifest.json` файле.</span><span class="sxs-lookup"><span data-stu-id="055a4-154">We require all domains to be accessed from your Microsoft Teams apps listed in the [`validDomains`](~/resources/schema/manifest-schema.md#validdomains) object in the `manifest.json` file.</span></span>

> [!NOTE]
> <span data-ttu-id="055a4-155">Чтобы обеспечить безопасную среду, будьте откровенны о точном домене и поддоменах, на которые вы ссылаетсяе, и эти домены должны быть под вашим контролем.</span><span class="sxs-lookup"><span data-stu-id="055a4-155">To ensure a secure environment, be explicit about the exact domain and subdomains you reference and those domains must be in your control.</span></span> <span data-ttu-id="055a4-156">Например, `*.azurewebsites.net` не рекомендуется, `contoso.azurewebsites.net` однако рекомендуется.</span><span class="sxs-lookup"><span data-stu-id="055a4-156">For example, `*.azurewebsites.net` is not recommended, however `contoso.azurewebsites.net` is recommended.</span></span>

## <a name="load-and-run-your-experience"></a><span data-ttu-id="055a4-157">Загрузите и запустите свой опыт</span><span class="sxs-lookup"><span data-stu-id="055a4-157">Load and run your experience</span></span>

<span data-ttu-id="055a4-158">Чтобы загрузить и запустить свой опыт в Microsoft Teams, необходимо создать пакет и загрузить его в Teams.</span><span class="sxs-lookup"><span data-stu-id="055a4-158">To load and run your experience within Microsoft Teams, you need to create a package and upload it into Teams.</span></span> <span data-ttu-id="055a4-159">Дополнительные сведения см. в статьях:</span><span class="sxs-lookup"><span data-stu-id="055a4-159">For more information, see:</span></span>

* <span data-ttu-id="055a4-160">[Создайте пакет для вашего Microsoft Teams приложения.](~/concepts/build-and-test/apps-package.md)</span><span class="sxs-lookup"><span data-stu-id="055a4-160">[Create the package for your Microsoft Teams app](~/concepts/build-and-test/apps-package.md).</span></span>
* <span data-ttu-id="055a4-161">[Upload приложение в Microsoft Teams](~/concepts/deploy-and-publish/apps-upload.md).</span><span class="sxs-lookup"><span data-stu-id="055a4-161">[Upload your app in Microsoft Teams](~/concepts/deploy-and-publish/apps-upload.md).</span></span>

## <a name="next-step"></a><span data-ttu-id="055a4-162">Следующий шаг</span><span class="sxs-lookup"><span data-stu-id="055a4-162">Next step</span></span>

> [!div class="nextstepaction"] 
> [<span data-ttu-id="055a4-163">Добавление тестовых данные в среду</span><span class="sxs-lookup"><span data-stu-id="055a4-163">Add test data to your environment</span></span>](~/concepts/build-and-test/test-data.md)

