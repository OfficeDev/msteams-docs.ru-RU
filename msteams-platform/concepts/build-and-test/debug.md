---
title: Запуск и отладка приложения
description: Описывает действия, которые необходимо предпринять для запуска и отладки приложений Microsoft Teams.
keywords: Запуск отладки приложений Teams
ms.topic: conceptual
ms.openlocfilehash: f7f49038617e0a6b8729df7fa53b97b63b3b3158
ms.sourcegitcommit: 4329a94918263c85d6c65ff401f571556b80307b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/01/2020
ms.locfileid: "41675533"
---
# <a name="run-and-debug-your-microsoft-teams-app"></a>Запуск и отладка приложения Microsoft Teams

Приложения Microsoft Teams могут содержать одну или несколько возможностей, и способы их запуска и даже размещения могут отличаться. В общем случае для запуска приложения Microsoft Teams можно использовать следующие способы отладки:

* **Чисто локальный**&emsp;для Боты, вы можете протестировать интерфейс в эмуляторе Bot. Для другого содержимого можно выполнить локальную работу в браузере и адрес содержимого с помощью `http://localhost`.
* **Локально размещенные в Teams**&emsp;это включает в себя локальное выполнение с туннелированием программного обеспечения и [Создание пакета](~/concepts/build-and-test/apps-package.md) для [отправки](~/concepts/deploy-and-publish/apps-upload.md) в Teams. Это позволяет легко запускать и отлаживать приложение в клиенте Teams.
* **Размещение в облаке, в Teams** Это действительно имитирует (или) производственную поддержку для приложения Teams. Он включает в себя отправку решения на ваш внешний доступный сервер или облачный поставщик (мы рекомендуем Azure) и [создаем пакет](~/concepts/build-and-test/apps-package.md) для [отправки](~/concepts/deploy-and-publish/apps-upload.md) в Teams.

Для тестирования локальных или локальных команд вы запускаете работу с собственного компьютера. Это позволяет реально компилировать и запускать их в среде IDE и использовать все преимущества таких приемов, как точки останова и отладка. При отладке и тестировании масштаба предприятия рекомендуется следовать собственным рекомендациям, чтобы обеспечить поддержку тестирования, промежуточного хранения и развертывания с помощью собственных процессов.

В общем случае рекомендуется использовать несколько манифестов и пакетов, чтобы обеспечить поддержку разделения между рабочими службами и службами разработки. Например, вы можете зарегистрировать отдельный Боты разработки и рабочую среду и создать соответствующие пакеты для их отправки в тестовой среде. Мы также рекомендуем отправить и протестировать производственный пакет перед отправкой приложения для публикации в магазине приложений или распространения на клиентов.

## <a name="purely-local"></a>Чисто локально

> [!NOTE]
> Таким образом, вы не предоставляете доступ к функциям приложения Teams или функциям ленты, специфичным для Teams, например, к вызовам из списков и другим функциональным возможностям, зависящим от канала Кроме того, в пошаговом эмуляторе ленты может быть разрешено использовать некоторые возможности, которые могут не работать при работе в Microsoft Teams.

Ваш Bot можно запустить в эмуляторе Bot. Это позволяет тестировать основную логику ленты, просматривать грубую структуру сообщений и выполнять простые тесты. Необходимо выполнить следующие шаги.

* Запуск кода на локальном компьютере
* Запустите эмулятор ленты и задайте URL-адрес:
  * Node. js:`http://localhost:3978/api/messages`
  * .NET/C#:`http://localhost:3979/api/messages`
* Оставьте поле идентификатор приложения Microsoft и пароль Microsoft App пустыми, чтобы они были согласованы с переменными среды по умолчанию.

## <a name="locally-hosted"></a>Локально размещено

Так как Microsoft Teams является полностью облачным продуктом, ему необходимы все службы, к которым он обращается, с помощью конечных точек HTTPS. Таким образом, чтобы приложение работало в Teams, необходимо либо опубликовать код в выбранном вами облаке, либо сделать локальный экземпляр запущенным извне. Мы можем выполнить Последнее действие с туннелированием программного обеспечения.

Несмотря на то, что вы можете использовать любое средство выбора, мы используем и рекомендуем [ngrok](https://ngrok.com/download), который создает URL-адрес с внешним адресом для порта, открываемого локально на вашем компьютере. Чтобы настроить ngrok в процессе подготовки к запуску приложения Microsoft Teams, выполните следующие действия:

* В приложении терминала перейдите к каталогу, в котором установлен ngrok. exe. Чтобы избежать этого действия, можно добавить его в качестве переменной пути.
* Запустите, `ngrok http 3978 --host-header=localhost:3978`например, или замените номер порта по мере необходимости.

Будет запущен ngrok для прослушивания указанного порта. В качестве возврата вы получите URL-адрес с внешним адресом, допустимый до тех пор, пока работает ngrok.

> [!NOTE]
> Если остановить и перезапустить ngrok, URL-адрес изменится.

Чтобы использовать ngrok в проекте и в зависимости от используемых возможностей, необходимо заменить все URL-ссылки в файле кода, конфигурации и манифеста. JSON, чтобы использовать эту конечную точку URL-адреса.

Например, для Боты, зарегистрированного в Microsoft Bot Framework, обновите конечную точку обмена сообщениями ленты, чтобы использовать эту новую конечную точку ngrok. Например, `https://2d1224fb.ngrok.io/api/messages`. Вы можете проверить, работает ngrok, проверив ответ Bot в окне тест чата портала Bot Framework. (Как и в случае с эмулятором, эта проверка не позволяет получить доступ к функциям, зависящим от Teams.)

> [!NOTE]
> Чтобы обновить конечную точку обмена сообщениями для Bot, необходимо использовать среду Bot. Щелкните элемент Bot в [списке боты в Bot Framework](https://dev.botframework.com/bots). Нет необходимости переносить Bot в Microsoft Azure. Вы также можете обновить конечную точку обмена сообщениями в [приложении App Studio](~/concepts/build-and-test/app-studio-overview.md).

## <a name="cloud-hosted"></a>Размещение в облаке

Вы можете использовать любую внешнюю службу для размещения кода разработки и рабочего кода, а также конечных точек HTTPS. Не существует ожидания того, что ваши возможности находятся в одной службе. Для этого необходимо, чтобы все домены, к которым обращаются из приложений Microsoft Teams, были указаны в [`validDomains`](~/resources/schema/manifest-schema.md#validdomains) объекте в файле manifest. JSON.

> [!NOTE]
> Чтобы обеспечить надежную среду, следует явно указать конкретные доменные и поддомены, на которые вы ссылаетесь, и эти домены должны находиться в вашем элементе управления. Например, `*.azurewebsites.net` не рекомендуется `contoso.azurewebsites.net` .

## <a name="loading-and-running"></a>Загрузка и запуск

В общем случае для загрузки и запуска взаимодействия в Microsoft Teams необходимо создать пакет и отправить его в Teams, выполнив следующие рекомендации:

* [Создание пакета для приложения Microsoft Teams](~/concepts/build-and-test/apps-package.md)
* [Отправка приложения в Microsoft Teams](~/concepts/deploy-and-publish/apps-upload.md)
