---
title: Советы и часто неудачные случаи
description: Содержит советы по отправке и большинству политик, которые не удалось выполнить
author: laujan
ms.author: lajanuar
ms.topic: how to
ms.openlocfilehash: b2b198068478e6cc1e620d5bf5da9d448b3cf56d
ms.sourcegitcommit: b822584b643e003d12d2e9b5b02a0534b2d57d71
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/11/2020
ms.locfileid: "44704483"
---
# <a name="tips-for-a-successful-app-submission"></a>Советы по успешной отправке приложения

В этой статье рассматриваются распространенные причины, по которым отправленные приложения не прошли проверку. Несмотря на то, что он не является исчерпывающим списком возможных проблем с вашим приложением, в этом руководстве увеличится вероятность того, что ваше приложение будет проходить в первый раз. Для получения обширного списка политик проверки, *Ознакомьтесь* со статьей [Политика сертификации коммерческих рынков](/legal/marketplace/certification-policies) .

>[!NOTE]
>**[Раздел 1140](/legal/marketplace/certification-policies#1140-teams)** относится только к Microsoft teams **[1140,4](https://docs.microsoft.com/legal/marketplace/certification-policies#11404-functionality)** и [! важно!] устраняет функциональные требования для приложений Teams.

## <a name="validation-guidelines"></a>Рекомендации по проверке

### <a name="9989-general-considerations"></a>Общие сведения о &#9989;

*See also* [Раздел 100 — общие](/legal/marketplace/certification-policies#100-general) сведения

* Убедитесь, что вы используете [пакет SDK для Microsoft Teams](https://www.npmjs.com/package/@microsoft/teams-js)версии 1.4.1 или более поздней версии.
* Не вносите изменения в свое приложение во время выполнения процесса проверки. Для этого потребуется полная повторная проверка приложения.
* Ваше приложение не должно отвечать на запросы, неожиданно завершать работу или содержать программные ошибки. Если возникла ошибка, приложение должно корректно завершать работу и предоставлять пользователю действительное сообщение переадресации.
* Ваше приложение не должно автоматически скачивать, устанавливать или запускать исполняемый код в пользовательской среде. Все загружаемые файлы должны искать явное разрешение пользователя.
* Все материалы, которые вы связываете с вашим интерфейсом, такие как описания и документация по поддержке, должны быть точными. Описания и материалы должны быть написаны грамотно, без орфографических ошибок, с правильным использованием прописных букв и знаков препинания.
* Предоставление справочных сведений и сведений о поддержке. Настоятельно рекомендуется, чтобы приложение включало ссылку Справка/вопросы и ответы для первого запуска интерфейса пользователя. Для всех персональных приложений рекомендуем использовать страницу справки в качестве личной вкладки для улучшения взаимодействия с пользователем.
* Увеличьте номер версии приложения в манифесте, если вы вносите изменения в манифест отправку.

### <a name="9989--provide-a-clear-and-simple-sign-insign-out-and-sign-up-experience"></a>&#9989; предоставляют простой и простой вход/выход и регистрацию

*See also* [Раздел 1100,5 — элемент управления Customer](/legal/marketplace/certification-policies#11005-customer-control)

* Если приложение или надстройка зависят от внешних учетных записей или служб, то функция входа в систему, выхода из нее и входа в систему должна быть очевидна и достижима во всех возможностях приложения.
* Если для пользователя предоставлен явный параметр входа, должен быть установлен соответствующий параметр Sign-Out (даже если приложение использует[проверку подлинности](~/tabs/how-to/authentication/auth-silent-aad.md)SSO/Silent).
* Функция выхода должна подписывать пользователя только от возможности приложения, а не от клиента Teams.
* Как минимум, функция выхода должна подписывать пользователя на те же возможности, что и при входе. Например, если параметр входа содержит как расширение и вкладка обмена сообщениями, то параметр выхода должен содержать как расширение и вкладка обмена сообщениями, так и расширение.

* Убедитесь, что существует способ обратить следующие (или аналогичные) варианты поведения:
  * Вход => выход.
  * Link a Account/Service => отменить связь учетной записи или службы.
  * Connect a Account/Service => отключение учетной записи или службы.
  * Авторизация учетной записи или службы => отмена авторизации или отказа учетной записи или службы.
  * Register a Account/Service => отменить регистрацию или отмену подписки учетной записи или службы.
* Если для приложения требуется учетная запись или служба, необходимо предоставить пользователю способ регистрации или создания запроса на регистрацию. Если ваше приложение является корпоративным, может быть выдано исключение.
* Функции входа и выхода должны работать на мобильных клиентах. Убедитесь, что используется [Microsoft Teams SDK](https://www.npmjs.com/package/@microsoft/teams-js) версии 1.4.1 или более поздней версии.

Дополнительные сведения о проверке подлинности содержатся в следующих статьях:

* [Документация по проверке подлинности](../../../authentication/authentication.md)
* [Пример односерверной проверки подлинности в узле](https://github.com/OfficeDev/microsoft-teams-sample-auth-node)
* [Пример проверки подлинности на вкладке "узел"](https://github.com/OfficeDev/microsoft-teams-sample-complete-node)
* [Проверка подлинности с помощью вкладок и ленты в C#/.нет](https://github.com/OfficeDev/microsoft-teams-sample-complete-csharp)

### <a name="9989-response-times-must-be-reasonable"></a>Время отклика &#9989; должно быть приемлемым

* **Вкладки**. Если ответ на действие длится более трех секунд, необходимо предоставить сообщение о загрузке или предупреждение.
* **Боты**. Ответ на команду пользователя должен выполняться в течение двух секунд. Если требуется более длительная обработка, приложение должно отображать индикатор ввода.
* **Создание расширений**. Ответ на команду пользователя должен выполняться в течение пяти секунд.

> [!TIP]
> Убедитесь, что приложение отображает индикатор загрузки или некоторую форму предупреждения, когда приложение занимает больше времени, чем ожидалось.

### <a name="9989-tab-content-should-not-have-excessive-chrome-or-layered-navigation"></a>&#9989; контент вкладки не должен иметь чрезмерного хрома или многоуровневую навигацию

* Вкладки должны предоставлять ориентированный контент и избегать ненужных элементов пользовательского интерфейса. Как правило, это обычно относится к необязательной вложенной или многоуровневой навигации, внешнему или недоступному пользовательскому интерфейсу рядом с содержимым или любым ссылкам, которые принимают пользователя к несвязанному контенту. Например, ниже представлен вид вкладки, в котором опущены меню навигации, и только демонстрируется основное содержимое:

![Веб-представление SharePoint](~/assets/images/faq/web-sp.png)  
![Представление вкладки SharePoint](~/assets/images/faq/tab-sp.png)

* Вкладки должны быть светлыми в природе и не включать сложную навигацию.
* Если есть несколько вариантов представления, рассмотрите возможность выбора вкладки вкладки для пользователя. Например, вместо встраивания меню на вкладку разместите меню на странице Конфигурация, чтобы представление действительной вкладки было четким и ориентированным.

![Страница настройки для широкой идеи](~/assets/images/faq/wideidea.png)

### <a name="9989-tab-configuration-must-happen-in-the-configuration-screen"></a>Настройка вкладки &#9989; должна выполняться на экране конфигурации

* На экране "Конфигурация" должно быть четко объяснено значение взаимодействия и Настройка вкладки.
* Процесс настройки всегда должен предоставить пользователям способ продолжения работы пользователя. Например, не показывать пустую доску после того, как пользователь настроил вкладку
* Процесс входа пользователя в систему должен быть частью процесса настройки и должен завершаться в пользовательском интерфейсе вкладки. После того как пользователь завершит настройку и загрузил вкладку, никаких дополнительных действий не требуется.
* Не выводите всю веб-страницу во всплывающем окне Конфигурация входа.
* Пользователь всегда должен иметь возможность завершить настройку, даже если он не может сразу найти искомое содержимое.
* Конфигурация должна предоставлять пользователю параметры для поиска своего содержимого, закреплять URL-адрес или создавать новый контент, если он не существует.
* Настройка должна сохраняться в контексте Teams. Пользователю не нужно выходить из конфигурации, чтобы создать контент, а затем вернуться в Teams, чтобы закрепить его.
* Эффективное использование доступной области окна просмотра. Не излишнее использование огромных логотипов внутри всплывающей конфигурации

![OneNote позволяет пользователям вставлять ссылки OneNote в заметках о невозможности поиска](~/assets/images/faq/tab-onenote-config.png)

![Пользователи всегда могут создавать новый план в планировщике, если нет существующих](~/assets/images/faq/tab-planner-config.png)

![SharePoint также позволяет пользователю напрямую вставить ссылку SharePoint](~/assets/images/faq/tab-sp-config.png)

### <a name="9989-bots-must-always-be-responsive-and-fail-gracefully"></a>&#9989; Боты всегда должны отвечать на запросы и завершаться некорректно

Ваш робот должен отвечать на команды, а не неработающие пользователя. Ниже приведено несколько советов, которые помогут вам пореагировать на поправку пользователей с помощью ленты.

* **Используйте списки команд**. Анализ вводимых пользователем данных или прогнозирования намерения пользователя очень сложно. Вместо того чтобы позволить пользователям угадать, что может сделать Bot, предоставьте список команд, распознаваемых с помощью Bot.

![Список команд для передачи](~/assets/images/faq/flow-bot.png)

* **Добавьте команду Help**. Пользователи, скорее всего, будут вводить "Справка", когда она будет потеряна или не ответила должным образом. Добавьте команду Help, которая описывает, как будет изменяться значение приложения, а также все допустимые команды.

![Команда "Справка по блоку"](~/assets/images/faq/flow-help.png)

* **Включение справочных материалов или рекомендаций при потере ленты**. Если пользователь Bot не может распознать вводимые данные, он должен предложить альтернативное действие. Например, *"я не понимаю. Введите "Help" для получения дополнительных сведений. "* Не отвечайте на сообщение об ошибке или просто *"я не понимаю"*. Используйте эту возможность для обучения пользователей.

* **Использование адаптивных карт и модулей задач для очистки ответа от Bot и действий** 
 [Адаптивные карточки с кнопками, вызывающими модули задач](/task-modules-and-cards/task-modules/task-modules-bots) , улучшают интерфейс пользователя Bot. Эти карточки и кнопки проще использовать на мобильном устройстве, а не на вводе команды пользователем.

* **Продумайте все области**. Убедитесь, что в приглашении `@*botname*` в канале и в личном беседе у вас есть соответствующие ответы. Если ваш робот не предоставляет осмысленный контекст в области личных или Teams, отключите эту область с помощью манифеста. (См `bots` . блок в [справочнике по схеме манифеста Microsoft Teams](~/resources/schema/manifest-schema.md#bots).)

### <a name="9989-bots-must-send-a-welcome-message-on-first-launch"></a>&#9989; Боты должен отправить приветственное сообщение при первом запуске

Приветственные сообщения — это лучший способ задать тон для ленты. Это первое взаимодействие пользователя с программой Bot. Хорошее приветственное сообщение может способствовать пользователю продолжить изучение приложения. Если приветственное или вступительное сообщение непонятны или неясно, пользователи не видят значение приложения немедленно и теряют интересы.

### <a name="welcome-message-requirements"></a>Требования к приветственному сообщению

* Определите, кто добавил робота в канал.
* Включите предложение со значением.
* Предоставление инструкций по переадресации для использования ленты.
* Представление легко читать текст и легкое диалоговое окно — предпочтительная карточка с кнопкой обзора приветствия, которая загружает модуль задачи.
* Не открывайте диалоговое окно со словами и диалоговым окном.
* Вызов приветственного сообщения с помощью одной команды ping, а не двух или более одновременных сеансов связи.
* В личном сеансе разговора приветственное сообщение должно отображаться только для пользователя, который настроил приложение.  
* Никогда не отправляйте личный чат каждому участнику команды.
* Никогда не отправлять приветственное сообщение больше одного раза. Повторение такого же приветственного сообщения через регулярные интервалы не допускается и считается нежелательным.

#### <a name="avoid-welcome-message-spamming"></a>Избежание нежелательной почты в приветственном сообщении

* **Сообщение канала с помощью Bot**. Не спама, создавая отдельные новые записи чата. Создайте поток POST с ответами в одном и том же потоке.
* **Личный чат с помощью Bot**. Не отправлять несколько сообщений. Отправьте одно сообщение с полными сведениями.

#### <a name="notification-only-bot-welcome-messages"></a>Приветственные сообщения ленты только для уведомлений

Только уведомления Боты должны отправлять приветственное сообщение, содержащее сообщение *"я получит сообщение" только для уведомления и не сможет отвечать на ваши беседы "*.

#### <a name="welcome-messages-in-the-personal-scope"></a>Приветственные сообщения в личной области

* **Сделайте сообщение кратким и информативным**.  Скорее всего, взаимодействие с пользователем и знание вашего приложения будут отличаться. Пользователь может использовать ваше приложение на другой платформе или ничего не знать о вашем приложении. Вы хотите настроить сообщение для всех аудиторий, а в паре предложений поясняется, что делает ваш Bot, и способы взаимодействия с ним. Кроме того, следует объяснить ценность приложения и то, как пользователи будут пользоваться им.
![Cafe и Диннинг Bot](~/assets/images/faq/cafe-bot.png)

* **Сделайте сообщение действием**. Продумайте первую вещь, которую должны делать пользователи после установки приложения. Есть ли замечательная команда, которую следует предпринять? Есть ли еще у вас работа по входящей миграции? Требуется выполнить вход? Вы можете добавлять действия к адаптивной карточке или предоставлять конкретные примеры, такие как *"попробовать запрашивать...."*, *"это то, что можно сделать..."*.

#### <a name="welcome-messages-in-the-teamchannel--scope"></a>Приветственные сообщения в области группы или канала

При первом добавлении ленты в канал некоторые из них отличаются. Обычно сообщение 1:1 не должно отправляться всем участникам команды, но в канале Bot можно отправить приветственное сообщение.

> [!div class="nextstepaction"]
> [Дополнительные сведения о политиках утверждения приложений Teams](/legal/marketplace/certification-policies#1140-teams) 
