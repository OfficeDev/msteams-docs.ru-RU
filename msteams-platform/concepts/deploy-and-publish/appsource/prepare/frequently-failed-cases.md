---
title: Советы и часто неудачные случаи
description: Содержит советы по отправке и большинству политик, которые не удалось выполнить
keywords: вопросы и ответы о публикации в Teams часто не удалось подсказки
ms.openlocfilehash: ffb472c918a205bdcf921b967269a80fcaa93338
ms.sourcegitcommit: 4329a94918263c85d6c65ff401f571556b80307b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/01/2020
ms.locfileid: "41675505"
---
# <a name="tips-and-frequently-failed-cases"></a>Советы и часто неудачные случаи 

В этой статье описываются некоторые из наиболее распространенных причин, по которым приложения не проходят проверку. Он не должен быть исчерпывающим списком возможных проблем с приложением. Тем не менее, если следовать этому рекомендациям, вероятность первого прохода значительно увеличится. Подробные списки политик приведены здесь: [AppSource проверки политик](https://dev.office.com/officestore/docs/validation-policies). Политики в разделе 14 общих политик проверки AppSource относятся к приложениям Microsoft Teams.

## <a name="tips-for-successful-app-submission"></a>Советы по успешной отправке приложений

* Убедитесь, что вы используете пакет SDK для Teams версии 1.4.1 или более поздней версии.
* Не вносите изменения в свое приложение во время выполнения проверки. Для этого потребуется полная повторная проверка приложения.
* Ваше приложение не должно отвечать на запросы, неожиданно завершать работу или содержать программные ошибки. Если возникла какая-то ошибка, она не должна правильно пересылать сообщение пользователю.
* Ваше приложение не должно автоматически скачивать, устанавливать или запускать исполняемый код в среде пользователя. Любая загрузка должна искать явное разрешение у пользователя.
* Все материалы, которые вы связываете с вашим интерфейсом, такие как описания и документация по поддержке, должны быть точными. Описания и материалы должны быть написаны грамотно, без орфографических ошибок, с правильным использованием прописных букв и знаков препинания.
* Справка и поддержка: настоятельно рекомендуется создать ссылку "Справка/вопросы и ответы" для приложения Teams и предоставить эту ссылку при первом запуске. Для всех персональных приложений мы рекомендуем предоставить страницу справки в качестве вкладки личных настроек для улучшения взаимодействия с пользователем.

## <a name="policy-112-sign-up-sign-in-and-sign-out"></a>Политика 11,2: регистрация, вход и выход

Описание: приложения должны предоставлять простой, простой вход/выход и (при необходимости) регистрацию. Работа должна быть достижима во всех возможностях приложения.

* Если для пользователя предоставлен явный параметр входа, необходимо использовать параметр Sign-Out (даже если приложение использует единый вход или проверку подлинности без проверки подлинности).
* Функция выхода должна выписывать пользователя только из возможности приложения, а не из клиента Teams.
* Каждая область, имеющая вход, должна также иметь выход. Как минимум, функция выхода должна подписывать пользователя от тех же возможностей, что и вариант входа, в который она подписана. Например, если функция входа подписывает пользователя на как на расширение, так и на вкладку обмена сообщениями, то параметр выхода должен подписать пользователя из расширения сообщения и вкладки.

* Убедитесь, что существует способ обратить следующие (или аналогичные) варианты поведения:
  * Вход => выход
  * Link a Account/Service => отмена связи учетной записи или службы
  * Connect a Account/Service => отключение учетной записи или службы
  * Авторизация учетной записи или службы => де/отмена авторизации учетной записи или службы
  * Register a Account/Service => Отмена регистрации учетной записи или службы
* Если для приложения требуется учетная запись или служба, необходимо предоставить пользователю способ регистрации или регистрации. Если ваше приложение размещается в категории приложения "Корпоративный", для регистрации может потребоваться исключение.
* Функции входа и выхода должны работать на мобильных клиентах. Убедитесь, что вы обновили пакет SDK для Teams для Teams в версии 1.4.1 или более поздней версии.

Дополнительные сведения о проверке подлинности содержатся в следующих статьях:

* [Документация по проверке подлинности](~/concepts/authentication/authentication.md)
* [Пример односерверной проверки подлинности в узле](https://github.com/OfficeDev/microsoft-teams-sample-auth-node)
* [Пример проверки подлинности на вкладке "узел"](https://github.com/OfficeDev/microsoft-teams-sample-complete-node)
* [Проверка подлинности с помощью вкладок и ленты в C#/.нет](https://github.com/OfficeDev/microsoft-teams-sample-complete-csharp)

## <a name="policy-145-microsoft-teams-apps-must-respond-in-a-reasonable-timeframe"></a>Политика 14,5: приложения Microsoft Teams должны отвечать в разумные сроки.

* 14.5.1: для вкладок если ответ на действие занимает более трех секунд, необходимо предоставить сообщение о загрузке или предупреждение.
* 14.5.2: для Боты ответ на команду пользователя должен быть в течение двух секунд. Если требуется более длительная обработка, необходимо использовать индикатор ввода.
* 14.5.3: для расширений создания ответ на команду пользователя должен быть в течение пяти секунд.

> [!TIP]
> Убедитесь, что вы включили индикатор загрузки, когда приложение занимает слишком много времени.

## <a name="policy-14153-content-in-a-tab-should-not-have-superfluousunnecessary-ui-aka-ui-chrome-or-layered-navigation"></a>Политика 14.15.3: контент на вкладке не должен иметь избыточный или необязательный пользовательский интерфейс (с пользовательским интерфейсом) или многоуровневую навигацию.

Вкладки должны предоставлять отсортированное содержимое и не допустить использования элементов пользовательского интерфейса, не связанных с этим содержимым. Как правило, это обычно относится к необязательной вложенной или многоуровневой навигации, несвязанному или несвязанному пользовательскому интерфейсу рядом с содержимым или любым ссылкам, которые получают доступ к содержимому, не связанному с содержимым вкладки. Например, SharePoint отключается из меню навигации и только демонстрирует основное содержимое вкладки.

![Представление вкладки SharePoint](~/assets/images/faq/web-sp.png)
![веб-представления SharePoint](~/assets/images/faq/tab-sp.png)

Если есть несколько вариантов представления, рассмотрите возможность выбора вкладки вкладки для пользователя. Например, вместо того чтобы внедрять меню на вкладке, широкие идеи помещают меню на странице Конфигурация, чтобы представление действительной вкладки было четким и ориентированным.

![Страница настройки для широкой идеи](~/assets/images/faq/wideidea.png)

## <a name="policy-14157-bots-must-respond-to-any-command-and-must-not-dead-end-the-user"></a>Политика 14.15.7: Боты должен отвечать на любую команду и не может завершать доступ пользователя

Ваш робот всегда должен отвечать на запросы. Ниже приведено несколько советов, которые помогут вашему почтовому роботу более разумно отвечать на пользователей.

**Использование списка команд:** Анализ вводимых пользователем данных или прогнозирование намерения пользователя очень сложно. Вместо того, чтобы позволить пользователю угадать, что может сделать ваш Bot, предоставьте пользователям список команд, которые может распознать ваш робот.

![Список команд для передачи](~/assets/images/faq/flow-bot.png)

**Добавьте команду Help:** Чаще всего пользователи могут ввести "Help", когда они будут потеряны или когда Bot не ответили на то, что они ожидали. Добавьте команду Help, которая предоставляет ценностное предложение вместе со всеми допустимыми командами.

![Команда "Справка по блоку"](~/assets/images/faq/flow-help.png)

**Включение справочных материалов или рекомендаций при потере ленты.** Если вы не можете распознать введенные пользователем данные, предоставьте пользователю что-то вроде этого. Например, я не понимаю. Введите "Help" для получения дополнительных сведений. " Не отвечайте на сообщение об ошибке или просто "я не понимаю". Используйте эту возможность для обучения пользователей.

**Подумайте по обеим областям:** Убедитесь, что в приглашении на канале (@*ботнаме*) в канале и в личных беседах, когда он есть, имеются соответствующие ответы. Если ваш робот не предоставляет осмысленный контекст в области личных или Teams, отключите эту область с помощью манифеста. (См. `bots` блок в [справочнике по схеме манифеста Microsoft Teams](~/resources/schema/manifest-schema.md#bots).)

## <a name="policy-14159-bot-must-send-welcome-messages-on-the-first-launch"></a>14.15.9 политики: Bot должен отправлять приветственные сообщения при первом запуске

Приветственные сообщения — это лучший способ задать тон. Это первый пользователь взаимодействия с программой Bot. Хорошее приветственное сообщение может дать пользователям возможность проследить приложение, в то время как неисправность будет запутаться, а пользователи могут потерять интересы, если они не смогут сразу увидеть значение приложения.

### <a name="personal-scope"></a>Личная область

При первом запуске программы Bot пользователь должен получить приветственное сообщение от ленты, даже перед входом. При проектировании приветственного сообщения Придумайте пару советов:

**Сделайте сообщение кратким и информативным:** У пользователей может быть очень разный опыт и знание своего приложения. Возможно, они использовали ваше приложение на другой платформе или ничего не знаете о вашем приложении. Вы хотите настроить сообщение для всех аудиторий, а в паре предложений пояснить, что делает ваш Bot и каким образом взаимодействовать с ним. Кроме того, следует объяснить ценность приложения и то, как пользователи будут пользоваться им.
![Cafe и Диннинг Bot](~/assets/images/faq/cafe-bot.png)

**Сделайте сообщение действием:** Подумайте о том, что нужно сделать, чтобы пользователи выслушались после установки приложения. Есть ли какая-либо из ваших замечательных команд? Есть ли еще у вас работа по входящей миграции? Требуется выполнить вход? Вы можете добавлять действия к адаптивной карточке или предоставлять конкретные примеры, такие как "попробовать запрашивать....", "это то, что можно сделать...".

### <a name="team-scope"></a>Область действия группы

При первом добавлении ленты в канал некоторые из них отличаются. Обычно сообщение 1:1 не должно отправляться всем участникам команды, но в канале Bot может быть отправлено приветственное сообщение.

## <a name="policy-141510-tab-configuration-ui-should-not-dead-end-the-experience-and-always-provide-a-way-for-a-user-to-continue"></a>Policy 14.15.10: Пользовательский интерфейс настройки вкладок не должен завершать работу и всегда предоставлять пользователю способ продолжения

Пользователь всегда должен иметь возможность завершить настройку, даже если он не может сразу найти искомое содержимое. Конфигурация должна предоставлять пользователю возможности для поиска своего содержимого или ПИН-кода, а также для создания нового контента, если он не существует. Пользователю не нужно будет использовать параметры настройки для создания контента, а затем вернуться в Teams, чтобы закрепить его.

![OneNote позволяет пользователям вставлять ссылки OneNote в заметках о невозможности поиска](~/assets/images/faq/tab-onenote-config.png)

![Пользователи всегда могут создавать новый план в планировщике, если нет существующих](~/assets/images/faq/tab-planner-config.png)

![SharePoint также позволяет пользователю напрямую вставить ссылку SharePoint](~/assets/images/faq/tab-sp-config.png)