---
title: Советы по отправке приложений и часто сбойные случаи
description: описывает советы по успешной отправке в хранилище Teams и обывуемой причине сбой отправки
ms.topic: reference
localization_priority: Normal
ms.author: lajanuar
keywords: Советы по отправке приложений часто не удается случаях проверки руководящих принципов
ms.openlocfilehash: a5e03f6ac7afb949cb94824fde3514a14869b291
ms.sourcegitcommit: 825abed2f8784d2bab7407ba7a4455ae17bbd28f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/26/2021
ms.locfileid: "52019923"
---
# <a name="tips-for-a-successful-microsoft-teams-app-submission"></a>Советы по успешной отправке приложений Microsoft Teams

В этой статье представлены распространенные причины неудачной проверки отправленных приложений. Хотя это не исчерпывающий список всех потенциальных проблем с приложением, следуя этому руководству, вероятность того, что отправка приложения пройдет в первый раз, увеличится. Дополнительный [список](/legal/marketplace/certification-policies) политик проверки см. в списке политик сертификации коммерческих рынков.

>[!NOTE]
>**[Раздел 1140 посвящен](/legal/marketplace/certification-policies#1140-teams)** Microsoft Teams, а в разделе **[1140.4](https://docs.microsoft.com/legal/marketplace/certification-policies#11404-functionality)** — требования к функциональным возможностям приложений Teams.

## <a name="validation-guidelines--most-failed-test-cases"></a>Рекомендации по проверке & наиболее неудачных тестовых случаев

### <a name="9989-general-considerations"></a>&#9989; общие соображения

См. [также раздел 100 — Общие](/legal/marketplace/certification-policies#100-general)

* Убедитесь, что вы используете версию 1.4.1 или более поздней версии [SDK Microsoft Teams.](https://www.npmjs.com/package/@microsoft/teams-js)
* Не внося изменений в приложение во время процесса проверки. Для этого потребуется полная переоценка приложения.
* Ваше приложение не должно прекращать реагировать на действия пользователя, неожиданно завершать работу или содержать программные ошибки. Если возникает проблема, ваше приложение должно сбой и предоставить допустимые сведения для пути вперед к пользователю.
* Ваше приложение не должно автоматически скачивать, устанавливать или запускать любой исполняемый код в пользовательской среде. Все загрузки должны получить явное разрешение от пользователя.
* Любой материал, который вы связываете со своим опытом, например описания и документация по поддержке, должен быть точным. Описания и материалы должны быть написаны грамотно, без орфографических ошибок, с правильным использованием прописных букв и знаков препинания.
* Предоставление сведений о помощи и поддержке. Рекомендуется включить в приложение справку или ссылку faQ для первого запуска пользователя. Для всех личных приложений рекомендуется предоставить страницу справки в качестве личной вкладки для улучшения работы пользователей.
* Все приложения должны иметь визуальный тур, например **Take a Tour** или App **Guide** на экране конфигурации, в который рассказывается о функции приложения и необходимой интеграции в следующих местах:
    * Страница листинга магазина (Длинное описание).
    * Экран конфигурации вкладок.
    * Приветствие для бота.
    * Метаданные источника приложения.
    * Экран конфигурации соединитела.

* Визуальный тур может быть видео, скриншот, ссылка на статическую вкладку с сведениями о приложении. Все эти ссылки должны быть в среде Teams.

    ![Пример приложения 1 ](../../../../assets/images/faq/Sampleapp1.png) ![ Пример Приложения 2](../../../../assets/images/faq/Sampleapp2.png)

* При внесении каких-либо изменений в представление в манифесте приумношайте номер версии приложения.
* Приложение не должно принимать пользователей из Teams для основных сценариев пользователей. Целевые объекты ссылок в приложениях не должны связываться с внешним браузером. Целевые объекты ссылок должны ссылаться на элементы div, содержащиеся в Teams, например, модули задач и вкладки. 
* С помощью модулей задач или вкладок предлагается отображать сведения пользователям в Teams.
* Все основные и непрофильные сценарии должны быть завершены в среде Teams, за исключением:
  * Политика конфиденциальности
  * Условия использования (TOU)
  * Ссылка на веб-сайт
  * Процесс регистрации

* Личные приложения позволяют пользователям обмениваться контентом из личного приложения с другими участниками группы.

### <a name="9989-provide-a-clear-and-simple-sign-in-sign-out-and-sign-up-experience"></a>&#9989; обеспечить четкую и простую возможность регистрации, регистрации и регистрации

См. [также раздел 1100.5 — управление клиентами](/legal/marketplace/certification-policies#11005-customer-control)

* Если ваше приложение или надстройка зависят от внешних учетных записей или служб, опыт регистрации, регистрации и регистрации должен быть очевидным и понятным для всех возможностей приложения.
* Если пользователю предоставляется явный параметр входной записи, должен быть соответствующий параметр выхода (даже если приложение использует бесшумную проверку [подлинности).](../../../../tabs/how-to/authentication/auth-silent-aad.md)
* Параметр выхода должен подписывать пользователя только из возможностей приложения, а не из клиента Teams.
* По крайней мере, параметр выхода должен подписать пользователя из тех же возможностей, доступных с помощью параметра вход. Например, если параметр входной платы включает расширение и вкладку обмена сообщениями, то параметр выхода должен включать расширение и вкладку обмена сообщениями.

* Убедитесь, что всегда существует способ обратить вспять следующее (или аналогичное) поведение:
  * Вход => регистрации.
  * Ссылка учетной записи или службы => отвязать учетную запись или службу.
  * Подключение учетной записи или службы => отключение учетной записи или службы.
  * Авторизация учетной записи/службы => деавторизация/отказ в учетной записи/службе.
  * Регистрация учетной записи/службы => или отписать учетную запись/службу.
* Если вашему приложению требуется учетная запись или служба, необходимо предоставить пользователю способ регистрации или создания запроса на регистрацию. Исключение может быть предоставлено, если вашему приложению требуется лицензия на использование. В таких сценариях предопишите новому пользователю четкие инструкции по регистрации.
* Предоставление четких указаний по пути к новому пользователю о том, как зарегистрироваться для использования служб приложения. Если готовая ссылка для регистрации недоступна, укажете точные указания в следующих областях:

> [!div class="checklist"]
>
> * в разделе описание приложения.
> * в приветствуемом сообщении приложения.
> * в справке приложения.
> * в окне, где вы попросите пользователя войти в свои службы.

* Приложения без простого потока регистрации также должны включать вкладку справки или ссылку на веб-страницу, где новый пользователь может видеть подробные указания по настройке приложения Teams. Предостереите подробные сведения, чтобы новый пользователь не был заблокирован при первой попытке приложения.
* Функции входов и регистрации должны работать на мобильных клиентах. Убедитесь, что [используется версия SDK Microsoft Teams](https://www.npmjs.com/package/@microsoft/teams-js) 1.4.1 или более поздней версии.

Дополнительные сведения о проверке подлинности см.:

* [Документация по проверке подлинности](../../../authentication/authentication.md)
* [Пример проверки подлинности ботов в Node](https://github.com/OfficeDev/microsoft-teams-sample-auth-node)
* [Пример проверки подлинности вкладок в Node](https://github.com/OfficeDev/microsoft-teams-sample-complete-node)
* [Проверка подлинности tab/bot в C#/.NET](https://github.com/OfficeDev/microsoft-teams-sample-complete-csharp)

### <a name="9989-response-times-must-be-reasonable"></a>&#9989; время отклика должно быть разумным

* **Вкладки**. Если ответ на действие занимает более трех секунд, необходимо предоставить сообщение о загрузке или предупреждение.
* **Боты**. Ответ на команду пользователя должен произойти в течение двух секунд. Если требуется более длинная обработка, приложение должно отображать индикатор ввода текста.
* **Составить расширения**. Ответ на команду пользователя должен произойти в течение пяти секунд.

> [!TIP]
> Убедитесь, что ваше приложение отображает индикатор загрузки или предупреждение в том или ином виде, если ваше приложение отвечает дольше, чем ожидалось.

### <a name="9989-tab-content-must-not-have-excessive-chrome-or-layered-navigation"></a>&#9989; Tab не должно иметь чрезмерного хрома или многоуровневой навигации

* Вкладки должны предоставлять сфокусированное содержимое и избегать необходимости элементов пользовательского интерфейса. Обычно это относится к ненужной вложенной или многоуровневой навигации, дополнительному или нерелевантного пользовательского интерфейса рядом с содержимым или любым ссылкам, которые принимают пользователя к несвязанным содержимым. Например, в следующем представлении вкладки не рассматриваются меню навигации и демонстрируется только основное содержимое:

![Веб-представление SharePoint](../../../../assets/images/faq/web-sp.png)  
![Представление вкладки SharePoint](../../../../assets/images/faq/tab-sp.png)

* Вкладки должны быть светлыми по своему характеру и не включать сложную навигацию.
* Вкладки каналов, которые имеют сложные возможности редактирования в приложении, должны открывать представление редактора в нескольких окнах, а не на вкладке.
* Вкладки канала не должны предоставлять панели приложений с значками на левом рельсе, что противоречит основной навигации Teams.
* Вкладки не должны представлять панели приложений с значками на левом рельсе, которые конфликтуют с основной навигацией Teams.
* Вкладки со сложными возможностями редактирования в приложении должны открывать представление редактора в нескольких окнах, а не на вкладке.
* Если существует несколько вариантов представления, рассмотрите возможность выбора меню конфигуры вкладок для пользователя. Например, вместо встраив меню в вкладку, поместите меню на страницу конфигурации, чтобы фактическое представление вкладки было чистым и сфокусированным.
* Включите *вкладку Справка* в качестве статической вкладки, чтобы сообщить пользователям, как настроить, зарегистрироваться и использовать приложение.
* Включайте *вкладку Параметры,* доступную в загонах приложения.

![Страница широкая страница конфигурации идей](../../../../assets/images/faq/wideidea.png)

### <a name="9989-tab-configuration-must-happen-in-the-configuration-screen"></a>&#9989; конфигурация tab должна происходить на экране конфигурации

* Экран конфигурации должен четко объяснить значение опыта и настройки вкладки.
* Процесс настройки должен всегда предоставлять пользователям возможность продолжать работу и не прекратить работу пользователя. Например, не показывать пустую доску после настройки вкладки пользователем.
* Процесс регистрации пользователя должен быть частью процесса настройки. Убедитесь, что она будет завершена в пользовательском интерфейсе Tab. После завершения конфигурации и загрузки вкладки никаких дополнительных действий не требуется.
* Не показывите всю веб-страницу в окне всплывающих окон конфигурации для регистрации.
* Пользователь всегда должен иметь возможность завершить работу с конфигурацией, даже если он не может сразу найти нужное содержимое.
* В интерфейсе конфигурации должны быть указаны параметры поиска контента, пин-кода URL-адреса или создания нового контента, если он не существует.
* Опыт настройки должен оставаться в контексте Teams. Пользователю не нужно оставлять интерфейс конфигурации для создания контента, а затем возвращаться в Teams, чтобы закрепить его.
* Эффективно используйте доступную область представления. Не тратьте его на использование огромных логотипов внутри всплывающее конфигурации.

![OneNote позволяет пользователям вклеить ссылку OneNote в случае, если заметки не могут быть найдены](../../../../assets/images/faq/tab-onenote-config.png)

![Пользователи всегда могут создать новый план планировщика в случае, если не будет существующих.](../../../../assets/images/faq/tab-planner-config.png)

![SharePoint также позволяет пользователю напрямую вклеить ссылку SharePoint](../../../../assets/images/faq/tab-sp-config.png)

### <a name="9989-tabs-in-channel---member-access"></a>&#9989; вкладок в канале — доступ к члену

* Вкладка, настроенная участником в области канала, должна быть доступна другим участникам без необходимости обращаться за разрешениями к члену, настроившего вкладку.
* Приложение должно предоставить параметры управления разрешениями заранее, если вкладка для частного или ограниченного использования или требует разрешений от участника, настроившего вкладку.

### <a name="9989-bots-must-always-be-responsive-and-fail-gracefully"></a>&#9989; боты всегда должны быть отзывчивыми и неуявимы

Бот должен реагировать на любую команду, а не на конечный пользователь. Вот несколько советов, которые помогут боту грамотно реагировать на пользователей:

* **Используйте списки команд.** Анализ входных данных пользователей или прогнозирование намерений пользователей — это сложно. Вместо того, чтобы позволить пользователям угадать, что может сделать бот, укайте список команд, понятных боту.

![Список команд потока](../../../../assets/images/faq/flow-bot.png)

* **Включи команду справки.** Пользователи, скорее всего, введите "Справка", когда они потеряны или когда ваш бот не отвечает, как ожидалось. Включите команду справки, которая описывает, как будет работать значение приложения, а также все допустимые команды.

![Команда справки потока](../../../../assets/images/faq/flow-help.png)

* **Включите содержимое справки или руководство при проимации бота.** Если ваш бот не может понять вход пользователя, он должен предложить альтернативное действие. Например, *"Мне жаль, я не понимаю. Введите "справку" для получения дополнительных сведений".* Не отвечайте сообщением об ошибке или просто *"Я не понимаю".*

### <a name="9989-help-command-response"></a>&#9989; командный ответ справки

* Команда справки должна быть точной, а ответы приложения должны быть в адаптивном формате карты с действием контента по крайней мере для шести команд.
* Если в приложении меньше шести команд, проверьте, присутствуют ли все команды в адаптивной карте.

  ![Пример команды справки](../../../../assets/images/faq/helpcommand.png)

* **Используйте адаптивные карты и модули задач, чтобы сделать ответ бота понятным и действий** 
 [Адаптивные карточки с кнопками](/task-modules-and-cards/task-modules/task-modules-bots) вызова модулей задач улучшают пользовательский интерфейс бота. Эти карточки и кнопки проще использовать на мобильном устройстве в отличие от ввода команд пользователем. Кроме того, ответы бота не должны быть текстовыми с длинным текстом. Боты должны использовать адаптивные карты и модули задач вместо пользовательского интерфейса на основе беседы и длительных текстовых откликов.

* **Продумайте все области.** Убедитесь, что ваш бот предоставляет соответствующие ответы при упоминаний () в `@*botname*` канале и в личных беседах. Если ваш бот не обеспечивает значимый контекст в области личных или команд, отключите эту область с помощью манифеста. (См. `bots` блок в ссылке на [схему манифеста Microsoft Teams.)](../../../../resources/schema/manifest-schema.md#bots)

* **Включи команду, групповой чат или беседу 1:1.** Уведомления бота должны включать группу, групповой чат или беседу с соответствующим контентом для аудитории.

* **Не нажимай конфиденциальные данные.** Боты не должны нажимать конфиденциальные данные на команду, групповой чат или беседу 1:1, где есть аудитория, которая не должна просматривать эти данные.

* **Предоставление приветствия.** Бот должен предоставить приветствие FRE, которое включает интерактивный учебник с карусельными картами или кнопками "попробуйте", чтобы стимулировать вовлеченность.

### <a name="9989-personal-bots-must-always-send-a-welcome-message-on-first-launch"></a>&#9989; личные боты всегда должны отправлять приветствие при первом запуске

Приветствие — это лучший способ настроить тон для личного бота чата. Это первое взаимодействие пользователя с ботом. Хорошее приветствие может стимулировать пользователя к изучению приложения. Если приветствие или вводное сообщение является запутанным или неясным, пользователи не сразу увидят значение приложения и потеряют интерес.
В следующем разделе вы можете узнать о требованиях к приветствуемом сообщении:

> [!Note]
> Приветствие необязательно для бота канала.

### <a name="welcome-message-requirements"></a>Требования к приветствую сообщений

* Включай предложение о значении в приветственный тур.
* Руководство по использованию приложения.
* Включите инструкции по регистрации и настройке приложения.
* Представляем простой для чтения текст и простой диалог — желательно карточку с кнопкой приветствия, загружаемой модулем задач.
* Держите его простым и понятным с помощью кнопок и карт — избегайте длинного текста, разговорного диалога.
* Включай адаптивные карточки и кнопки, чтобы сделать приветствие более понятным.
* Вызываем приветствие с помощью одного ping, а не двух или более одновременных pings.
* Приветствие должно быть показано только пользователю, настроившего приложение, предпочтительно в личном чате 1:1.
* Личные приложения всегда должны предоставлять пользователю приветствие.
* Никогда не отправляйте личный чат каждому члену группы; считается нежелательной почтой.
* Никогда не отправлять приветствие более одного раза. Повторение одного и того же приветствия через регулярные интервалы не допускается и считается нежелательной почтой.

#### <a name="avoid-welcome-message-spamming"></a>Избегайте нежелательной почты приветствия

* **Сообщение канала по боту**. Не нежелательной почты пользователей путем создания отдельных новых сообщений чата. Создайте один столб потока с ответами в одном потоке.
* **Личный чат по боту**. Не отправлять несколько сообщений. Отправьте одно сообщение с полной информацией. Повторение одного и того же приветствия через регулярные интервалы не допускается и считается нежелательной почтой.

#### <a name="notification-only-bot-welcome-messages"></a>Приветствия только для ботов, только для уведомлений

Только для уведомлений боты должны отправить приветствие, в которое входит сообщение с сообщением" "Я бот только для уведомлений и не смогу отвечать на ваши *чаты".*

#### <a name="welcome-messages-in-the-personal-scope"></a>Приветствие сообщений в личной области

   * **Сделайте сообщение кратким и информативным.** Пользовательский опыт и знания вашего приложения будут отличаться. Пользователь мог использовать ваше приложение на другой платформе или ничего не знать о вашем приложении. Вы хотите адаптировать свое сообщение для всех аудиторий и в нескольких предложениях объяснить, что ваш бот делает и способы взаимодействия с ним. Вы также должны объяснить значение приложения и то, как пользователи будут использовать его.
![Бот Cafe и Dinning](../../../../assets/images/faq/cafe-bot.png)

* **Сделайте ваше сообщение действий**. Подумайте о первой вещи, которую необходимо сделать пользователям после установки приложения. Есть ли у них классная команда? Есть ли еще один опыт работы с бортом, о чем они должны знать? Нужно ли им зарегистрироваться? Вы можете добавить действия на адаптивной карте или привести конкретные примеры, такие как *"Попробуйте спросить....",* *"Это то, что я могу сделать...".*

#### <a name="welcome-messages-in-the-team-or-channel--scope"></a>Приветствие сообщений в области группы или канала

При первом добавлении бота в канал все немного по-другому. Обычно не следует отправлять сообщение 1:1 всем в команде, но бот может отправить приветствие в канале.

### <a name="9989-mobile-responsiveness-no-direct-upsell-or-payment"></a>&#9989; мобильной связи, без прямого upsell или оплаты

* Ваши вкладки, адаптивные карты, сообщения ботов и содержимое в модулях задач должны отвечать различным размерам экранов мобильных устройств.
* Приложения, поддерживают iOS, должны быть полностью функциональными на последнем устройстве iPad с помощью последней версии iOS.
* Не должно включать прямых ссылок на покупки в приложении, пробные предложения, предложения для платных версий или ссылки на любые интернет-магазины, где пользователи могут приобрести или приобрести другой контент, приложения или надстройки из приложения Teams на мобильной ОС (Android, iOS).
* Версия надстройки для iOS или Android не должна показывать пользовательский интерфейс или язык или ссылки на другие приложения, надстройки или веб-сайт, которые просят пользователя оплатить.
* Связанные политики конфиденциальности и условия использования страниц также должны быть свободны от любых ссылок на пользовательский интерфейс или магазин.

### <a name="9989-do-not-post-sensitive-data-to-an-audience-not-intended-to-view-the-data"></a>&#9989; Не публикуй конфиденциальные данные в аудиторию, не предназначенную для просмотра данных

Приложение Teams не должно размещать конфиденциальные данные, такие как кредитная карта или инструмент финансовых платежей, личная идентифицируемая информация (ПИН-код), сведения о состоянии здоровья или контактные данные отслеживания для аудитории, не предназначенной для просмотра этих данных.

### <a name="9989-do-not-transmit-financial-payment-details-or-complete-financial-transactions-via-your-teams-app"></a>&#9989; Не передайте сведения о финансовых платежах и не завершайте финансовые транзакции через приложение Teams

* Приложение Teams не должно просить пользователей сделать оплату непосредственно в интерфейсе Teams.
* Приложения не могут передавать сведения о финансовых инструментах через пользователя в интерфейсе приложения. Приложения могут передавать ссылки на безопасные платежные службы пользователям только в том случае, если они раскрываются в правилах использования, политике конфиденциальности и любой странице профиля или веб-сайте приложения до того, как пользователь согласится использовать приложение.

### <a name="9989-clear-warning-before-downloading-any-files-or-executable-exe-into-a-users-environment"></a>&#9989; clear warning before downloading any files or executable `.exe` () into a user's environment

Пожалуйста, предупредите пользователей, прежде чем приложение загрузит любые файлы или исполняемые () в компьютер или `.exe`  среду пользователя.

### <a name="9989-messaging-extensions-must-provide-help-text-and-be-easy-to-read"></a>&#9989; расширения обмена сообщениями должны предоставлять текст справки и легко читать

* Расширение обмена сообщениями на основе поиска должно предоставить текст справки о том, как эффективно искать (например, показывать ввод примера).
* Модули задач должны содержать значок и короткое имя, которые содержатся или создаются из приложения.
* Исполняемые расширения сообщений должны `@mention` быть понятными, понятными и простыми для чтения.
![Расширение сообщения](../../../../assets/images/faq/message-extension.png)

## <a name="m365-publisher-attestation"></a>Тестирование издателя M365

### <a name="9989-complete-the-publisher-attestation-in-partner-center"></a>&#9989; проверку издателя в Центре партнеров

* Дополнительные сведения можно [получить](/microsoft-365-app-certification/docs/attestation) в документации по программе проверки полного издателя.
* Выполните действия в разделе [Рабочий](/microsoft-365-app-certification/docs/userguide#3publisher-attestation-workflow) процесс проверки проверки издателя, чтобы завершить процесс проверки издателя. Напишите appcert@microsoft.com для любых вопросов.
* Дополнительные сведения можно [найти в](/azure/active-directory/develop/troubleshoot-publisher-verification) руководстве по устранению неполадок.
* Завершите самоаттестацию через центр партнеров. Заполните Self-Assessment в **соответствии с приложением**.

> [!div class="nextstepaction"]
> [Дополнительные новости о политиках утверждения приложений Teams](/legal/marketplace/certification-policies#1140-teams)
