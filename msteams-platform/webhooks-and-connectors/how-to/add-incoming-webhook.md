---
title: Создание входящего веб-перехватчика
author: laujan
description: В этом модуле вы узнаете, как добавить входящий веб-перехватчик в приложение Teams и опубликовать все внешние запросы в Teams с его помощью.
ms.localizationpriority: high
ms.topic: conceptual
ms.author: lajanuar
ms.openlocfilehash: de46f651c3dd6df741b4fef47c9813dfd88a6fe0
ms.sourcegitcommit: 0ac53c430c055897ecebc129eab49336820c18c2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/07/2022
ms.locfileid: "67618282"
---
# <a name="create-incoming-webhooks"></a>Создание входящих веб-перехватчиков

Входящий веб-перехватчик позволяет внешним приложениям делиться содержимым в каналах Microsoft Teams. Веб-перехватчики используются в качестве инструментов для отслеживания и уведомления. Веб-перехватчики предоставляют уникальный URL-адрес для отправки полезных данных JSON с сообщением в формате карточки. Карточки — это контейнеры пользовательского интерфейса, которые включают содержимое и действия на одну тему. Вы можете использовать карточки в следующих функциях:

* боты;
* Расширения для обмена сообщениями
* Connectors

Посмотрите следующее видео, чтобы узнать, как создавать входящие веб-перехватчики:
<br>
> [!VIDEO https://www.microsoft.com/en-us/videoplayer/embed/RE4ODcY]

## <a name="key-features-of-an-incoming-webhook"></a>Основные функции входящего веб-перехватчика

В следующей таблице представлены функции и описание входящего веб-перехватчика:

| Возможности | Описание |
| -------- | ----------- |
|Адаптивные карточки с использованием входящего веб-перехватчика | Адаптивные карточки можно отправить через входящие веб-перехватчики. Дополнительные сведения см. в статье [Отправка адаптивных карточек с помощью входящих веб-перехватчиков](../../webhooks-and-connectors/how-to/connectors-using.md#send-adaptive-cards-using-an-incoming-webhook).|
|Поддержка сообщений с действиями|Карточки сообщений с действиями поддерживаются во всех группах Office 365, включая Teams. При отправке сообщений с помощью карточек необходимо использовать формат карточки сообщений с действиями. Дополнительные сведения см. в [сведениях об устаревших карточках сообщений с действиями](/outlook/actionable-messages/message-card-reference) и в разделе об [интерактивном запуске кода карточки с сообщением](https://messagecardplayground.azurewebsites.net).|
|Поддержка независимых HTTPS-сообщений|Карточки предоставляют информацию четко и последовательно. Все инструменты и структуры, которые способны отправлять HTTPS-запросы POST, могут отправлять сообщения в Teams через входящий веб-перехватчик.|
|Поддержка Markdown|Все текстовые поля в карточках сообщений с действиями поддерживают базовые функции Markdown. Не используйте разметку HTML в карточках. HTML игнорируется и обрабатывается как обычный текст.|
|Конфигурация в масштабе|Входящий веб-перехватчик масштабируется и настраивается на уровне канала.|
|Определения безопасных ресурсов|Сообщения отформатированы в виде полезной нагрузки JSON. Эта декларативная структура обмена сообщениями предотвращает вставку вредоносного кода.|

<!--- TBD: A note should be short and eye-catching. No need to put a list item inside a Note or any admonition for that matter. Re-write the below list item.
--->

> [!NOTE]
>
> * Боты Teams, расширения для обмена сообщениями, входящий веб-перехватчик и Bot Framework поддерживают адаптивные карточки. Адаптивные карточки — это открытая кросс-платформа для карточек, которая используется на всех платформах, например, Windows, Android, iOS и т. д. В настоящее время [соединители Teams](../../webhooks-and-connectors/how-to/connectors-creating.md) не поддерживают адаптивные карточки. Однако можно создать [поток](https://flow.microsoft.com/blog/microsoft-flow-in-microsoft-teams/), который публикует адаптивные карточки в канале Teams.
> * Дополнительные сведения о карточках и веб-перехватчиках см. в статье [Адаптивные карточки и входящие веб-перехватчики](~/task-modules-and-cards/what-are-cards.md#adaptive-cards-and-incoming-webhooks).

## <a name="create-an-incoming-webhook"></a>Создание входящего веб-перехватчика

Чтобы добавить входящий веб-перехватчик в канал Teams, выполните следующие действия.

1. Откройте канал, в который вы хотите добавить веб-перехватчик, и выберите &#8226;&#8226;&#8226; **Дополнительные параметры** на верхней панели навигации.
1. Выберите в раскрывающемся меню **Соединители**:

   :::image type="content" source="../../assets/images/connectors.png" alt-text="На этом снимке экрана показано, как выбрать соединитель.":::

1. Найдите **Входящий веб-перехватчик** и выберите **Добавить**.
1. Выберите **Настроить**, укажите имя и при необходимости отправьте изображение для веб-перехватчика.

   :::image type="content" source="../../assets/images/configure.png" alt-text="На этом снимке экрана показано, как настроить и отправить изображение для веб-перехватчиков.":::

1. Скопируйте и сохраните уникальный URL-адрес веб-перехватчика в диалоговом окне. URL-адрес сопоставлен с каналом, и его можно использовать для отправки сведений в Teams. Нажмите кнопку **Готово**.

   :::image type="content" source="../../assets/images/url.png" alt-text="На этом снимке экрана показан уникальный URL-адрес веб-перехватчика.":::

Веб-перехватчик доступен в канале Teams.

Вы можете создавать и отправлять сообщения с действиями с помощью входящих веб-перехватчиков или соединителя Office 365. Дополнительные сведения см. в статье [Создание и отправка сообщений](~/webhooks-and-connectors/how-to/connectors-using.md).

> [!NOTE]
> В Teams выберите **Параметры** > **Разрешения участников** > **Разрешать участникам создавать, обновлять и удалять соединители**, чтобы любой участник команды мог добавлять, изменять или удалять соединители.

## <a name="remove-an-incoming-webhook"></a>Удаление входящего веб-перехватчика

Чтобы удалить входящий веб-перехватчик из канала Teams, выполните следующие действия.

1. Откройте канал и выберите &#8226;&#8226;&#8226; **Дополнительные параметры** на верхней панели навигации.
1. Выберите в раскрывающемся меню **Соединители**.
1. Выберите **Настроенные** в разделе **Управление**.
1. Выберите **<*1*> Настроенные**, чтобы посмотреть список текущих соединителей.

   :::image type="content" source="../../assets/images/configured.png" alt-text="На этом снимке экрана показано, как настроить просмотр списка текущих соединителей.":::

1. Выберите **Управление** возле соединителя, который вы хотите удалить.

   :::image type="content" source="../../assets/images/manage.png" alt-text="На этом снимке экрана показано, как управлять соединителем, который требуется удалить.":::

1. Выберите **Удалить**, чтобы открыть диалоговое окно **Удаление конфигурации**.

   :::image type="content" source="../../assets/images/removeconfiguration.png" alt-text="На этом снимке экрана показано, как просмотреть диалоговое окно удаления конфигурации.":::

1. Заполните поля и установите нужные флажки в диалоговом окне и выберите **Удалить**.

   :::image type="content" source="../../assets/images/finalremove.png" alt-text="На этом снимке экрана показано, как удалить входящие веб-перехватчики из канала Teams.":::

## <a name="code-sample"></a>Пример кода

| Название примера           | Описание | C#    | Node.js   |
|:---------------------|:--------------|:---------|:--------|
|Входящий веб-перехватчик|В этом примере кода показано, как отправить карточку с помощью входящего веб-перехватчика. |[View](https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/incoming-webhook/csharp)|[Просмотр](https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/incoming-webhook/nodejs) |

## <a name="see-also"></a>См. также

* [Создание исходящего веб-перехватчика](~/webhooks-and-connectors/how-to/add-outgoing-webhook.md)
* [Создание соединителя Office 365](~/webhooks-and-connectors/how-to/connectors-creating.md)
* [Создание и отправка сообщений](~/webhooks-and-connectors/how-to/connectors-using.md)
* [Поделиться в Teams из веб-приложений](~/concepts/build-and-test/share-to-teams-from-web-apps.md)
* [Интеграция веб-приложений](~/samples/integrate-web-apps-overview.md)
* [Безопасный доступ и данные в Azure Logic Apps](/azure/logic-apps/logic-apps-securing-a-logic-app)
* [Создание бота уведомлений с помощью JavaScript](../../sbs-gs-notificationbot.yml)
* [Создание первого приложения бота с помощью JavaScript](../../sbs-gs-bot.yml)
