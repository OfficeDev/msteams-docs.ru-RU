---
title: Публикация внешних запросов в Microsoft Teams с помощью входящих веб-hooks
author: laujan
description: добавление входящих веб-ookов в приложение Teams
keywords: teams tabs outgoing webhook*
ms.topic: conceptual
ms.author: lajanuar
ms.openlocfilehash: a05f9ec448a722f3d662a8323a40ebe6b2de1e27
ms.sourcegitcommit: 23ceb25d07a76f03ffe92cf1ac578b7c50b0bafc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2021
ms.locfileid: "49777919"
---
# <a name="post-external-requests-to-teams-with-incoming-webhooks"></a><span data-ttu-id="2b5a1-104">Публикация внешних запросов в Teams с помощью входящих веб-hooks</span><span class="sxs-lookup"><span data-stu-id="2b5a1-104">Post external requests to Teams with incoming webhooks</span></span>

## <a name="what-are-incoming-webhooks-in-teams"></a><span data-ttu-id="2b5a1-105">Что такое входящие веб-hooks в Teams?</span><span class="sxs-lookup"><span data-stu-id="2b5a1-105">What are incoming webhooks in Teams?</span></span>

<span data-ttu-id="2b5a1-106">Входящие веб-hooks — это особый тип соединители в Teams, которые предоставляют внешнему приложению простой способ поделиться содержимым в каналах групп и часто используются в качестве средств отслеживания и уведомлений.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-106">Incoming webhooks are special type of Connector in Teams that provide a simple way for an external app to share content in team channels and are often used as tracking and notification tools.</span></span> <span data-ttu-id="2b5a1-107">Teams предоставляет уникальный URL-адрес для отправки полезной нагрузки JSON с сообщением, которое вы хотите отправить POST, обычно в формате карточки.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-107">Teams provides a unique URL to which you send a JSON payload with the message that you want to POST, typically in a card format.</span></span> <span data-ttu-id="2b5a1-108">Карточки — это контейнеры пользовательского интерфейса, которые содержат содержимое и действия, связанные с одним разделом, и представляют данные сообщений согласованным образом.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-108">Cards are user-interface (UI) containers that contain content and actions related to a single topic and are a way to present message data in a consistent way.</span></span> <span data-ttu-id="2b5a1-109">Teams использует карточки в трех возможностях:</span><span class="sxs-lookup"><span data-stu-id="2b5a1-109">Teams uses cards within three capabilities:</span></span>

* <span data-ttu-id="2b5a1-110">боты;</span><span class="sxs-lookup"><span data-stu-id="2b5a1-110">Bots</span></span>
* <span data-ttu-id="2b5a1-111">расширения для обмена сообщениями;</span><span class="sxs-lookup"><span data-stu-id="2b5a1-111">Messaging extensions</span></span>
* <span data-ttu-id="2b5a1-112">Соединители</span><span class="sxs-lookup"><span data-stu-id="2b5a1-112">Connectors</span></span>

## <a name="incoming-webhook-key-features"></a><span data-ttu-id="2b5a1-113">Ключевые функции входящих веб-сайтов</span><span class="sxs-lookup"><span data-stu-id="2b5a1-113">Incoming webhook key features</span></span>

| <span data-ttu-id="2b5a1-114">Возможность</span><span class="sxs-lookup"><span data-stu-id="2b5a1-114">Feature</span></span> | <span data-ttu-id="2b5a1-115">Описание</span><span class="sxs-lookup"><span data-stu-id="2b5a1-115">Description</span></span> |
| ------- | ----------- |
|<span data-ttu-id="2b5a1-116">Конфигурация с за областью действия</span><span class="sxs-lookup"><span data-stu-id="2b5a1-116">Scoped Configuration</span></span>|<span data-ttu-id="2b5a1-117">Входящие веб-hooks имеют область действия и настраиваются на уровне канала (например, исходящая веб-часть задана и настроена на уровне группы).</span><span class="sxs-lookup"><span data-stu-id="2b5a1-117">Incoming webhooks are scoped and configured at the channel level (e.g., outgoing webhooks are scoped and configured at the team level).</span></span>|
|<span data-ttu-id="2b5a1-118">Определения безопасных ресурсов</span><span class="sxs-lookup"><span data-stu-id="2b5a1-118">Secure resource definitions</span></span>|<span data-ttu-id="2b5a1-119">Сообщения форматированы в виде полезной нагрузки JSON.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-119">Messages are formatted as JSON payloads.</span></span> <span data-ttu-id="2b5a1-120">Такая декларативная структура обмена сообщениями предотвращает распространение вредоносного кода, так как в клиенте нет выполнения кода.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-120">This declarative messaging structure prevents the injection of malicious code as there is no code execution on the client.</span></span>|
|<span data-ttu-id="2b5a1-121">Поддержка сообщений с действиями</span><span class="sxs-lookup"><span data-stu-id="2b5a1-121">Actionable messaging support</span></span>|<span data-ttu-id="2b5a1-122">Если вы решили отправлять сообщения через карточки, необходимо использовать формат карточки сообщения с **действиями.**</span><span class="sxs-lookup"><span data-stu-id="2b5a1-122">If you choose to send messages via cards, you must use the **actionable message card** format.</span></span> <span data-ttu-id="2b5a1-123">Карточки сообщений с действиями поддерживаются во всех группах Office 365, включая Teams.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-123">Actionable message cards are supported in all Office 365 groups including Teams.</span></span> <span data-ttu-id="2b5a1-124">Ниже ссылки на справочник по карточкам сообщений с действиями в устаревшей службе и [на](/outlook/actionable-messages/message-card-reference) игровую окнаблю [карточки сообщения.](https://messagecardplayground.azurewebsites.net)</span><span class="sxs-lookup"><span data-stu-id="2b5a1-124">Here are links to the [Legacy actionable message card reference](/outlook/actionable-messages/message-card-reference) and the [Message card playground](https://messagecardplayground.azurewebsites.net).</span></span>|
|<span data-ttu-id="2b5a1-125">Поддержка независимых сообщений HTTPS</span><span class="sxs-lookup"><span data-stu-id="2b5a1-125">Independent HTTPS messaging support</span></span>| <span data-ttu-id="2b5a1-126">Карточки — это отличный способ представить информацию понятным и согласованным способом.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-126">Cards are a great way to present information in a clear and consistent way.</span></span> <span data-ttu-id="2b5a1-127">Любое средство или структура, которые могут отправлять HTTPS-запросы POST, могут отправлять сообщения в Teams через входящий веб-сайт.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-127">Any tool or framework that can send HTTPS POST requests can send messages to Teams via an incoming webhook.</span></span>|
|<span data-ttu-id="2b5a1-128">Поддержка Markdown</span><span class="sxs-lookup"><span data-stu-id="2b5a1-128">Markdown support</span></span>|<span data-ttu-id="2b5a1-129">Все текстовые поля в карточках сообщений с действиями поддерживают базовый markdown.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-129">All text fields in actionable messaging cards support basic Markdown.</span></span> <span data-ttu-id="2b5a1-130">**Не используйте разметку HTML в карточках.**</span><span class="sxs-lookup"><span data-stu-id="2b5a1-130">**Don't use HTML markup in your cards**.</span></span> <span data-ttu-id="2b5a1-131">HTML игнорируется и обрабатывается как обычный текст.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-131">HTML is ignored and treated as plain text.</span></span>|

> [!Note]
> <span data-ttu-id="2b5a1-132">Боты Teams, расширения обмена сообщениями, входящие веб-hooks и Bot Framework поддерживают адаптивные карточки, открытую платформу кросскарт.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-132">Teams bots, messaging extensions, incoming webhooks, and the Bot Framework support Adaptive Cards, an open cross-card platform framework.</span></span> <span data-ttu-id="2b5a1-133">[В настоящее время](../../webhooks-and-connectors/how-to/connectors-creating.md) соединители Teams не поддерживают адаптивные карточки.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-133">[Teams connectors](../../webhooks-and-connectors/how-to/connectors-creating.md) do not currently support Adaptive Cards.</span></span> <span data-ttu-id="2b5a1-134">Однако можно создать поток, [](https://flow.microsoft.com/blog/microsoft-flow-in-microsoft-teams/) который публикует адаптивные карточки в канале Teams.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-134">However, it is possible to create a [flow](https://flow.microsoft.com/blog/microsoft-flow-in-microsoft-teams/) that posts Adaptive Cards to a Teams channel.</span></span>

## <a name="add-an-incoming-webhook-to-a-teams-channel"></a><span data-ttu-id="2b5a1-135">Добавление входящий веб-ook в канал Teams</span><span class="sxs-lookup"><span data-stu-id="2b5a1-135">Add an incoming webhook to a Teams channel</span></span>

> [!Important]  
> <span data-ttu-id="2b5a1-136">Если выбраны разрешения члена группы "Параметры", позволяющие участникам создавать, обновлять и удалять соединители, любой участник группы может добавлять, изменять или удалять  =>    =>   соединители.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-136">If your team's **Settings** => **Member permissions** => **Allow members to create, update, and remove connectors** is selected, any team member can add, modify, or delete a connector.</span></span>

1. <span data-ttu-id="2b5a1-137">Перейдите в канал, в который нужно добавить веб-&#8226;&#8226;&#8226;,  и выберите дополнительные параметры на верхней панели навигации.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-137">Navigate to the channel where you want to add the webhook and select (&#8226;&#8226;&#8226;) *More Options* from the top navigation bar.</span></span>
1. <span data-ttu-id="2b5a1-138">Choose **Connectors** from the drop-down menu and search for **Incoming Webhook**.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-138">Choose **Connectors** from the drop-down menu and search for **Incoming Webhook**.</span></span>
1. <span data-ttu-id="2b5a1-139">Выберите **кнопку** "Настройка", указите имя и при желании загрузите аватар для веб-hook.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-139">Select the **Configure** button, provide a name, and, optionally, upload an image avatar for your webhook.</span></span>
1. <span data-ttu-id="2b5a1-140">В диалоговом окне будет представлен уникальный URL-адрес, который будет соеден с каналом.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-140">The dialog window will present a unique URL that will map to the channel.</span></span> <span data-ttu-id="2b5a1-141">Убедитесь, что **вы скопируете и сохраните** URL-адрес— его необходимо предоставить внешней службе.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-141">Make sure that you **copy and save the URL**—you will need to provide it to the outside service.</span></span>
1. <span data-ttu-id="2b5a1-142">Выберите **кнопку "Готово".**</span><span class="sxs-lookup"><span data-stu-id="2b5a1-142">Select the **Done** button.</span></span> <span data-ttu-id="2b5a1-143">Веб-hook будет доступен в канале команды.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-143">The webhook will be available in the team channel.</span></span>

## <a name="remove-an-incoming-webhook-from-a-teams-channel"></a><span data-ttu-id="2b5a1-144">Удаление входящих веб-hook из канала Teams</span><span class="sxs-lookup"><span data-stu-id="2b5a1-144">Remove an incoming webhook from a Teams channel</span></span>

1. <span data-ttu-id="2b5a1-145">Перейдите в канал, в который был добавлен веб-&#8226;&#8226;&#8226;,  и выберите дополнительные параметры на верхней панели навигации.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-145">Navigate to the channel where the webhook was added and select (&#8226;&#8226;&#8226;) *More Options* from the top navigation bar.</span></span>
1. <span data-ttu-id="2b5a1-146">Выберите **соединителей** в выпадаемом меню.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-146">Choose **Connectors** from the drop-down menu.</span></span>
1. <span data-ttu-id="2b5a1-147">Слева в области **"Управление"** выберите **"Настроено".**</span><span class="sxs-lookup"><span data-stu-id="2b5a1-147">On the left, under **Manage**, choose **Configured**.</span></span>
1. <span data-ttu-id="2b5a1-148">Выберите *номер, настроенный* для того, чтобы увидеть список текущих соединитений.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-148">Select the *number Configured* to see a list of your current connectors.</span></span>
1. <span data-ttu-id="2b5a1-149">Выберите **"Управление"** рядом с соединитетелем, который нужно удалить.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-149">Select **Manage** next to the connector that you want to delete.</span></span>
1. <span data-ttu-id="2b5a1-150">Нажать **кнопку** "Удалить", после этого отображите диалоговое окно *"Удалить* конфигурацию".</span><span class="sxs-lookup"><span data-stu-id="2b5a1-150">Select the **Remove** button and you will be presented with a *Remove Configuration* dialog box.</span></span>
1. <span data-ttu-id="2b5a1-151">При желании заполните поля и контрольные поля диалоговых окна перед нажатием кнопки **"Удалить".**</span><span class="sxs-lookup"><span data-stu-id="2b5a1-151">Optionally, complete the dialog box fields and checkboxes prior to selecting the **Remove** button.</span></span> <span data-ttu-id="2b5a1-152">Веб-hook будет удален из канала команды.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-152">The webhook will be deleted from the team channel.</span></span>

## <a name="distribution"></a><span data-ttu-id="2b5a1-153">Распространение</span><span class="sxs-lookup"><span data-stu-id="2b5a1-153">Distribution</span></span>

<span data-ttu-id="2b5a1-154">У вас есть три варианта распространения входящих веб-функций:</span><span class="sxs-lookup"><span data-stu-id="2b5a1-154">You have three options for distributing your incoming webhook:</span></span>

* <span data-ttu-id="2b5a1-155">Настройка входящих веб-hook непосредственно для вашей команды.</span><span class="sxs-lookup"><span data-stu-id="2b5a1-155">Set up an incoming webhook directly for your team.</span></span>
* <span data-ttu-id="2b5a1-156">Добавление страницы конфигурации и перенос входящих веб-hook в [соединителю O365](~/webhooks-and-connectors/how-to/connectors-creating.md)</span><span class="sxs-lookup"><span data-stu-id="2b5a1-156">Add a configuration page and wrap your incoming webhook in a [O365 Connector](~/webhooks-and-connectors/how-to/connectors-creating.md)</span></span>
* <span data-ttu-id="2b5a1-157">Упакуйте и опубликуйте соединители в составе [отправки в AppSource.](~/concepts/deploy-and-publish/office-store-guidance.md)</span><span class="sxs-lookup"><span data-stu-id="2b5a1-157">Package and publish your Connector as part of your [AppSource](~/concepts/deploy-and-publish/office-store-guidance.md) submission.</span></span>

## <a name="learn-more"></a><span data-ttu-id="2b5a1-158">Подробнее</span><span class="sxs-lookup"><span data-stu-id="2b5a1-158">Learn more</span></span>

* [<span data-ttu-id="2b5a1-159">Отправка сообщений соединителям и веб-hooks</span><span class="sxs-lookup"><span data-stu-id="2b5a1-159">Sending messages to Connectors and Webhooks</span></span>](~/webhooks-and-connectors/how-to/connectors-using.md)
