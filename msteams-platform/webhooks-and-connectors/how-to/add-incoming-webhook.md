---
title: POST внешние запросы в Microsoft Teams с входящими веб-перехватчиками
author: laujan
description: ''
keywords: исходящий веб-перехватчик для вкладок Teams *
ms.topic: conceptual
ms.author: laujan
ms.openlocfilehash: c2b3f5dd581441f89aff344c35fe7e110d4d2e68
ms.sourcegitcommit: 4329a94918263c85d6c65ff401f571556b80307b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/01/2020
ms.locfileid: "41675601"
---
# <a name="post-external-requests-to-teams-with-incoming-webhooks"></a><span data-ttu-id="28f94-103">POST внешние запросы в Teams с входящими веб-перехватчиками</span><span class="sxs-lookup"><span data-stu-id="28f94-103">Post external requests to Teams with incoming webhooks</span></span>

## <a name="what-are-incoming-webhooks-in-teams"></a><span data-ttu-id="28f94-104">Что представляют собой входящие веб-перехватчики в Teams?</span><span class="sxs-lookup"><span data-stu-id="28f94-104">What are incoming webhooks in Teams?</span></span>

<span data-ttu-id="28f94-105">Входящие веб-перехватчики это особый тип соединителя в Teams, предоставляющих внешнему приложению доступ к контенту в каналах групп и часто используемые в качестве средств отслеживания и уведомления.</span><span class="sxs-lookup"><span data-stu-id="28f94-105">Incoming webhooks are special type of Connector in Teams that provide a simple way for an external app to share content in team channels and are often used as tracking and notification tools.</span></span> <span data-ttu-id="28f94-106">Teams предоставляет уникальный URL-адрес, на который отправляются полезные данные JSON с сообщением, которое требуется ОПУБЛИКОВАТЬ, обычно в формате карточки.</span><span class="sxs-lookup"><span data-stu-id="28f94-106">Teams provides a unique URL to which you send a JSON payload with the message that you want to POST, typically in a card format.</span></span> <span data-ttu-id="28f94-107">Карточки — это контейнеры ПОЛЬЗОВАТЕЛЬСКОГО интерфейса, содержащие контент и действия, связанные с одним разделом, и способ представления данных сообщений в единообразном виде.</span><span class="sxs-lookup"><span data-stu-id="28f94-107">Cards are user-interface (UI) containers that contain content and actions related to a single topic and are a way to present message data in a consistent way.</span></span> <span data-ttu-id="28f94-108">В Teams используются карты трех возможностей:</span><span class="sxs-lookup"><span data-stu-id="28f94-108">Teams uses cards within three capabilities:</span></span>

* <span data-ttu-id="28f94-109">боты;</span><span class="sxs-lookup"><span data-stu-id="28f94-109">Bots</span></span>
* <span data-ttu-id="28f94-110">расширения для обмена сообщениями;</span><span class="sxs-lookup"><span data-stu-id="28f94-110">Messaging extensions</span></span>
* <span data-ttu-id="28f94-111">Соединители</span><span class="sxs-lookup"><span data-stu-id="28f94-111">Connectors</span></span>

## <a name="incoming-webhook-key-features"></a><span data-ttu-id="28f94-112">Функции входящих ключей веб-перехватчиков</span><span class="sxs-lookup"><span data-stu-id="28f94-112">Incoming webhook key features</span></span>

| <span data-ttu-id="28f94-113">Возможность</span><span class="sxs-lookup"><span data-stu-id="28f94-113">Feature</span></span> | <span data-ttu-id="28f94-114">Описание</span><span class="sxs-lookup"><span data-stu-id="28f94-114">Description</span></span> |
| ------- | ----------- |
|<span data-ttu-id="28f94-115">Конфигурация с заданной областью</span><span class="sxs-lookup"><span data-stu-id="28f94-115">Scoped Configuration</span></span>|<span data-ttu-id="28f94-116">Входящие веб-перехватчики задаются и настраиваются на уровне канала (например, исходящие веб-перехватчики размещаются и настраиваются на уровне группы).</span><span class="sxs-lookup"><span data-stu-id="28f94-116">Incoming webhooks are scoped and configured at the channel level (e.g., outgoing webhooks are scoped and configured at the team level).</span></span>|
|<span data-ttu-id="28f94-117">Определения безопасных ресурсов</span><span class="sxs-lookup"><span data-stu-id="28f94-117">Secure resource definitions</span></span>|<span data-ttu-id="28f94-118">Сообщения форматируются как полезные данные JSON.</span><span class="sxs-lookup"><span data-stu-id="28f94-118">Messages are formatted as JSON payloads.</span></span> <span data-ttu-id="28f94-119">Эта декларативная структура обмена сообщениями препятствует вставке вредоносного кода, так как в клиенте нет выполнения кода.</span><span class="sxs-lookup"><span data-stu-id="28f94-119">This declarative messaging structure prevents the injection of malicious code as there is no code execution on the client.</span></span>|
|<span data-ttu-id="28f94-120">Поддержка обмена сообщениями с действиями</span><span class="sxs-lookup"><span data-stu-id="28f94-120">Actionable messaging support</span></span>|<span data-ttu-id="28f94-121">Если вы решите отправлять сообщения через карточки, необходимо использовать формат **карточки сообщений с действиями** .</span><span class="sxs-lookup"><span data-stu-id="28f94-121">If you choose to send messages via cards, you must use the **actionable message card** format.</span></span> <span data-ttu-id="28f94-122">Карточки сообщений с действиями поддерживаются во всех группах Office 365, в том числе в Teams.</span><span class="sxs-lookup"><span data-stu-id="28f94-122">Actionable message cards are supported in all Office 365 groups including Teams.</span></span> <span data-ttu-id="28f94-123">Ниже приведены ссылки на [устаревшие ссылки на карточки сообщений с действиями](/outlook/actionable-messages/message-card-reference) и [карточки сообщений интерактивная среда](https://messagecardplayground.azurewebsites.net).</span><span class="sxs-lookup"><span data-stu-id="28f94-123">Here are links to the [Legacy actionable message card reference](/outlook/actionable-messages/message-card-reference) and the [Message card playground](https://messagecardplayground.azurewebsites.net).</span></span>|
|<span data-ttu-id="28f94-124">Поддержка независимых сообщений HTTPS</span><span class="sxs-lookup"><span data-stu-id="28f94-124">Independent HTTPS messaging support</span></span>| <span data-ttu-id="28f94-125">Карты — это отличный способ представить информацию в четком и согласованном виде.</span><span class="sxs-lookup"><span data-stu-id="28f94-125">Cards are a great way to present information in a clear and consistent way.</span></span> <span data-ttu-id="28f94-126">Любое средство или платформа, которые могут отправлять запросы HTTPS POST, могут отправлять сообщения в Teams через входящий веб-перехватчик.</span><span class="sxs-lookup"><span data-stu-id="28f94-126">Any tool or framework that can send HTTPS POST requests can send messages to Teams via an incoming webhook.</span></span>|
|<span data-ttu-id="28f94-127">Поддержка Markdown</span><span class="sxs-lookup"><span data-stu-id="28f94-127">Markdown support</span></span>|<span data-ttu-id="28f94-128">Все текстовые поля в карточках обмена сообщениями с действиями поддерживают базовый Markdown.</span><span class="sxs-lookup"><span data-stu-id="28f94-128">All text fields in actionable messaging cards support basic Markdown.</span></span> <span data-ttu-id="28f94-129">**Не используйте разметку HTML в карточках**.</span><span class="sxs-lookup"><span data-stu-id="28f94-129">**Don't use HTML markup in your cards**.</span></span> <span data-ttu-id="28f94-130">HTML игнорируется и обрабатывается как обычный текст.</span><span class="sxs-lookup"><span data-stu-id="28f94-130">HTML is ignored and treated as plain text.</span></span>|

> [!Note]  
> <span data-ttu-id="28f94-131">Teams Боты, расширения обмена сообщениями и почтовая платформа поддерживают адаптивные карты, открытая платформа платформы с перекрестными картами.</span><span class="sxs-lookup"><span data-stu-id="28f94-131">Teams bots, messaging extensions, and the Bot Framework support Adaptive Cards, an open cross-card platform framework.</span></span> <span data-ttu-id="28f94-132">Соединители Teams в настоящее время не поддерживают адаптивные карты.</span><span class="sxs-lookup"><span data-stu-id="28f94-132">Teams connectors do not currently support Adaptive Cards.</span></span> <span data-ttu-id="28f94-133">Тем не менее, можно создать [процесс](https://flow.microsoft.com/blog/microsoft-flow-in-microsoft-teams/) , который заносит адаптивные карты в канал Teams.</span><span class="sxs-lookup"><span data-stu-id="28f94-133">However, it is possible to create a [flow](https://flow.microsoft.com/blog/microsoft-flow-in-microsoft-teams/) that posts adaptive cards to a Teams channel.</span></span>

## <a name="add-an-incoming-webhook-to-a-teams-channel"></a><span data-ttu-id="28f94-134">Добавление входящего веб-перехватчика в канал Teams</span><span class="sxs-lookup"><span data-stu-id="28f94-134">Add an incoming webhook to a Teams channel</span></span>

> [!Important]  
> <span data-ttu-id="28f94-135">Если выбраны**разрешения** => члена группы **Параметры** => **, позволяющие создавать, обновлять и удалять соединители** , любой участник команды может добавить, изменить или удалить соединитель.</span><span class="sxs-lookup"><span data-stu-id="28f94-135">If your team's **Settings** => **Member permissions** => **Allow members to create, update, and remove connectors** is selected, any team member can add, modify, or delete a connector.</span></span>

1. <span data-ttu-id="28f94-136">Перейдите к каналу, в который нужно добавить веб-перехватчик, и выберите (&#8226;&#8226;&#8226;) *Дополнительные параметры* из верхней панели навигации.</span><span class="sxs-lookup"><span data-stu-id="28f94-136">Navigate to the channel where you want to add the webhook and select (&#8226;&#8226;&#8226;) *More Options* from the top navigation bar.</span></span>
1. <span data-ttu-id="28f94-137">В раскрывающемся меню выберите пункт **соединители** и выполните поиск **входящего веб-перехватчика**.</span><span class="sxs-lookup"><span data-stu-id="28f94-137">Choose **Connectors** from the drop-down menu and search for **Incoming Webhook**.</span></span>
1. <span data-ttu-id="28f94-138">Нажмите кнопку **Configure (настроить** ), укажите имя и при необходимости отправьте аватар изображения для веб-перехватчика.</span><span class="sxs-lookup"><span data-stu-id="28f94-138">Select the **Configure** button, provide a name, and, optionally, upload an image avatar for your webhook.</span></span>
1. <span data-ttu-id="28f94-139">В диалоговом окне появится уникальный URL-адрес, который будет сопоставлен каналу.</span><span class="sxs-lookup"><span data-stu-id="28f94-139">The dialog window will present a unique URL that will map to the channel.</span></span> <span data-ttu-id="28f94-140">Убедитесь, что вы **копируете и сохраняете URL-адрес**, необходимо предоставить его внешнему службе.</span><span class="sxs-lookup"><span data-stu-id="28f94-140">Make sure that you **copy and save the URL**—you will need to provide it to the outside service.</span></span>
1. <span data-ttu-id="28f94-141">Нажмите кнопку **done (Готово** ).</span><span class="sxs-lookup"><span data-stu-id="28f94-141">Select the **Done** button.</span></span> <span data-ttu-id="28f94-142">Веб-перехватчик будет доступен в канале команды.</span><span class="sxs-lookup"><span data-stu-id="28f94-142">The webhook will be available in the team channel.</span></span>

## <a name="remove-an-incoming-webhook-from-a-teams-channel"></a><span data-ttu-id="28f94-143">Удаление входящего веб-перехватчика из канала Teams</span><span class="sxs-lookup"><span data-stu-id="28f94-143">Remove an incoming webhook from a Teams channel</span></span>

1. <span data-ttu-id="28f94-144">Перейдите к каналу, в котором добавлен веб-перехватчик, и выберите (&#8226;&#8226;&#8226;) *Дополнительные параметры* из верхней панели навигации.</span><span class="sxs-lookup"><span data-stu-id="28f94-144">Navigate to the channel where the webhook was added and select (&#8226;&#8226;&#8226;) *More Options* from the top navigation bar.</span></span>
1. <span data-ttu-id="28f94-145">В раскрывающемся меню выберите **соединители** .</span><span class="sxs-lookup"><span data-stu-id="28f94-145">Choose **Connectors** from the drop-down menu.</span></span>
1. <span data-ttu-id="28f94-146">Слева в разделе **Управление**выберите **настроено**.</span><span class="sxs-lookup"><span data-stu-id="28f94-146">On the left, under **Manage**, choose **Configured**.</span></span>
1. <span data-ttu-id="28f94-147">Выберите *номер, настроенный* для отображения списка текущих соединителей.</span><span class="sxs-lookup"><span data-stu-id="28f94-147">Select the *number Configured* to see a list of your current connectors.</span></span>
1. <span data-ttu-id="28f94-148">Нажмите кнопку **Управление** рядом с соединителем, который необходимо удалить.</span><span class="sxs-lookup"><span data-stu-id="28f94-148">Select **Manage** next to the connector that you want to delete.</span></span>
1. <span data-ttu-id="28f94-149">Нажмите кнопку **Удалить** , и появится диалоговое окно *Удалить конфигурацию* .</span><span class="sxs-lookup"><span data-stu-id="28f94-149">Select the **Remove** button and you will be presented with a *Remove Configuration* dialog box.</span></span>
1. <span data-ttu-id="28f94-150">Кроме того, перед нажатием кнопки **Удалить** заполните поля и флажки диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="28f94-150">Optionally, complete the dialog box fields and checkboxes prior to selecting the **Remove** button.</span></span> <span data-ttu-id="28f94-151">Веб-перехватчик будет удален из канала группы.</span><span class="sxs-lookup"><span data-stu-id="28f94-151">The webhook will be deleted from the team channel.</span></span>

## <a name="distribution"></a><span data-ttu-id="28f94-152">Распространяется</span><span class="sxs-lookup"><span data-stu-id="28f94-152">Distribution</span></span>

<span data-ttu-id="28f94-153">Существует три варианта распространения входящего веб-перехватчика:</span><span class="sxs-lookup"><span data-stu-id="28f94-153">You have three options for distributing your incoming webhook:</span></span>

* <span data-ttu-id="28f94-154">Настройте входящий веб-перехватчик непосредственно для команды.</span><span class="sxs-lookup"><span data-stu-id="28f94-154">Set up an incoming webhook directly for your team.</span></span>
* <span data-ttu-id="28f94-155">Добавление страницы конфигурации и перенос входящего веб-перехватчика в [соединитель O365](~/webhooks-and-connectors/how-to/connectors-creating.md)</span><span class="sxs-lookup"><span data-stu-id="28f94-155">Add a configuration page and wrap your incoming webhook in a [O365 Connector](~/webhooks-and-connectors/how-to/connectors-creating.md)</span></span>
* <span data-ttu-id="28f94-156">Упакуйте и опубликуйте соединитель в составе отправку [AppSource](~/concepts/deploy-and-publish/office-store-guidance.md) .</span><span class="sxs-lookup"><span data-stu-id="28f94-156">Package and publish your Connector as part of your [AppSource](~/concepts/deploy-and-publish/office-store-guidance.md) submission.</span></span>

## <a name="learn-more"></a><span data-ttu-id="28f94-157">Дополнительные сведения</span><span class="sxs-lookup"><span data-stu-id="28f94-157">Learn more</span></span>

* [<span data-ttu-id="28f94-158">Отправка сообщений в соединители и веб-перехватчики</span><span class="sxs-lookup"><span data-stu-id="28f94-158">Sending messages to Connectors and Webhooks</span></span>](~/webhooks-and-connectors/how-to/connectors-using.md)