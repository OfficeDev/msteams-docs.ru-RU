---
title: Соединители Office 365
description: В этой статье описывается начало работы с соединителями Office 365 в Microsoft Teams
keywords: соединитель teams o365
ms.date: 04/19/2019
ms.openlocfilehash: 374e5058d2041d43f675d643e5b830bf72ad79c2
ms.sourcegitcommit: c102da958759c13aa9e0f81bde1cffb34a8bef34
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/09/2020
ms.locfileid: "49605344"
---
# <a name="creating-office-365-connectors-for-microsoft-teams"></a><span data-ttu-id="1ad30-104">Создание соединителей Office 365 для Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="1ad30-104">Creating Office 365 Connectors for Microsoft Teams</span></span>

><span data-ttu-id="1ad30-105">С помощью приложений Microsoft Teams вы можете добавить существующий соединитель Office 365 или создать новый, чтобы включить его в Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="1ad30-105">With Microsoft Teams apps, you can add your existing Office 365 Connector or build a new one to include in Microsoft Teams.</span></span> <span data-ttu-id="1ad30-106">Для получения дополнительных сведений ознакомьтесь со статьей [Создание собственного соединителя](/outlook/actionable-messages/connectors-dev-dashboard#build-your-own-connector) .</span><span class="sxs-lookup"><span data-stu-id="1ad30-106">See [Build your own Connector](/outlook/actionable-messages/connectors-dev-dashboard#build-your-own-connector) for more information.</span></span>

## <a name="adding-a-connector-to-your-teams-app"></a><span data-ttu-id="1ad30-107">Добавление соединителя в приложение Teams</span><span class="sxs-lookup"><span data-stu-id="1ad30-107">Adding a Connector to your Teams App</span></span>

<span data-ttu-id="1ad30-108">Вы можете распространить зарегистрированный соединитель в рамках пакета приложений Teams.</span><span class="sxs-lookup"><span data-stu-id="1ad30-108">You can distribute your registered Connector as part of your Teams app package.</span></span> <span data-ttu-id="1ad30-109">Независимо от того, как как отдельное решение, так и с одним из нескольких [возможностей](~/concepts/extensibility-points.md) , которые вы можете использовать в Teams, вы можете [упаковать](~/concepts/build-and-test/apps-package.md) и [опубликовать](~/concepts/deploy-and-publish/apps-publish.md) соединитель как часть отправки AppSource, или вы можете предоставить его пользователям непосредственно для отправки в Teams.</span><span class="sxs-lookup"><span data-stu-id="1ad30-109">Whether as a standalone solution, or one of several [capabilities](~/concepts/extensibility-points.md) that your experience enables in Teams, you can [package](~/concepts/build-and-test/apps-package.md) and [publish](~/concepts/deploy-and-publish/apps-publish.md) your Connector as part of your AppSource submission, or you can provide it to users directly for uploading within Teams.</span></span>

<span data-ttu-id="1ad30-110">Чтобы распространить соединитель, необходимо зарегистрировать его с помощью [панели мониторинга разработчика соединителей](https://outlook.office.com/connectors/home/login/#/publish).</span><span class="sxs-lookup"><span data-stu-id="1ad30-110">To distribute your Connector, you need to register by using the [Connectors Developer Dashboard](https://outlook.office.com/connectors/home/login/#/publish).</span></span> <span data-ttu-id="1ad30-111">По умолчанию после регистрации соединителя предполагается, что соединитель будет работать во всех продуктах Office 365, поддерживающих их, в том числе Outlook и Teams.</span><span class="sxs-lookup"><span data-stu-id="1ad30-111">By default, once a Connector is registered, it's assumed that your Connector will work in all Office 365 products that support them, including Outlook and Teams.</span></span> <span data-ttu-id="1ad30-112">Если это _не_ так, и вам нужно создать соединитель, который работает только в Microsoft Teams, свяжитесь с нами непосредственно в разделе [Microsoft Teams App](mailto:teamsubm@microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="1ad30-112">If that is _not_ the case and you need to create a Connector that only works in Microsoft Teams, contact us directly at [Microsoft Teams App Submissions](mailto:teamsubm@microsoft.com).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="1ad30-113">После выбора команды **сохранить** в панели мониторинга разработчика соединители ваш соединитель будет зарегистрирован.</span><span class="sxs-lookup"><span data-stu-id="1ad30-113">After you choose **Save** in the Connectors Developer Dashboard, your Connector is registered.</span></span> <span data-ttu-id="1ad30-114">Если вы хотите опубликовать соединитель в AppSource, следуйте инструкциям в статье [Публикация приложения Microsoft Teams в AppSource](~/concepts/deploy-and-publish/apps-publish.md).</span><span class="sxs-lookup"><span data-stu-id="1ad30-114">If you want to publish your Connector in AppSource, follow the instructions in [Publish your Microsoft Teams app to AppSource](~/concepts/deploy-and-publish/apps-publish.md).</span></span> <span data-ttu-id="1ad30-115">Если вы не хотите публиковать свое приложение в AppSource, а просто распространять его непосредственно в вашей организации, вы можете сделать это, [опубликовав в вашей](#publish-connectors-for-your-organization)Организации.</span><span class="sxs-lookup"><span data-stu-id="1ad30-115">If you do not wish to publish your app in AppSource, and rather simply distribute it directly to your organization only, you can do so by [publishing to your organization](#publish-connectors-for-your-organization).</span></span> <span data-ttu-id="1ad30-116">Если вы хотите опубликовать только в вашей организации, никаких дополнительных действий на панели мониторинга соединителя не требуется.</span><span class="sxs-lookup"><span data-stu-id="1ad30-116">If you only want to publish to your organization, no further action is necessary on the Connector dashboard.</span></span>

### <a name="integrating-the-configuration-experience"></a><span data-ttu-id="1ad30-117">Интеграция интерфейса настройки</span><span class="sxs-lookup"><span data-stu-id="1ad30-117">Integrating the configuration experience</span></span>

<span data-ttu-id="1ad30-118">Ваши пользователи будут выполнять весь процесс настройки соединителя без необходимости выхода из клиента Teams.</span><span class="sxs-lookup"><span data-stu-id="1ad30-118">Your users will complete the entire Connector configuration experience without having to leave the Teams client.</span></span> <span data-ttu-id="1ad30-119">Для достижения такой возможности Teams внедряет страницу конфигурации непосредственно в IFRAME.</span><span class="sxs-lookup"><span data-stu-id="1ad30-119">To achieve this experience, Teams will embed your configuration page directly within an iframe.</span></span> <span data-ttu-id="1ad30-120">Последовательность операций выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="1ad30-120">The sequence of operations is as follows:</span></span>

1. <span data-ttu-id="1ad30-121">Пользователь щелкает соединитель, чтобы начать процесс настройки.</span><span class="sxs-lookup"><span data-stu-id="1ad30-121">The user clicks on your connector to begin the configuration process.</span></span>
2. <span data-ttu-id="1ad30-122">Teams загрузит свой интерфейс настройки в линию.</span><span class="sxs-lookup"><span data-stu-id="1ad30-122">Teams will load your configuration experience in line.</span></span>
3. <span data-ttu-id="1ad30-123">Пользователь взаимодействует с веб-интерфейсом, чтобы завершить настройку.</span><span class="sxs-lookup"><span data-stu-id="1ad30-123">The user interacts with your web experience to complete the configuration.</span></span>
4. <span data-ttu-id="1ad30-124">Пользователь нажимает "Save", который активирует обратный вызов в коде.</span><span class="sxs-lookup"><span data-stu-id="1ad30-124">The user presses "Save", which triggers a callback in your code.</span></span>
5. <span data-ttu-id="1ad30-125">Код будет обрабатывать событие Save, извлекая параметры веб-перехватчиков (описанные ниже).</span><span class="sxs-lookup"><span data-stu-id="1ad30-125">Your code will process the save event by retrieving the webhook settings (documented below).</span></span> <span data-ttu-id="1ad30-126">Затем код должен сохранить веб-перехватчик для последующей публикации событий.</span><span class="sxs-lookup"><span data-stu-id="1ad30-126">Your code should then store the webhook to post events later.</span></span>

<span data-ttu-id="1ad30-127">Вы можете использовать существующий интерфейс веб-конфигурации или создать отдельную версию, которая будет размещена в Teams.</span><span class="sxs-lookup"><span data-stu-id="1ad30-127">You can reuse your existing web configuration experience or create a separate version to be hosted specifically in Teams.</span></span> <span data-ttu-id="1ad30-128">Код должен выполнять следующие действия:</span><span class="sxs-lookup"><span data-stu-id="1ad30-128">Your code should:</span></span>

1. <span data-ttu-id="1ad30-129">Включите пакет SDK для JavaScript для Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="1ad30-129">Include the Microsoft Teams JavaScript SDK.</span></span> <span data-ttu-id="1ad30-130">Это предоставляет коду доступ к API для выполнения распространенных операций, таких как извлечение текущего пользователя/канала/контекста команды и инициализация потоков проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="1ad30-130">This gives your code access to APIs to perform common operations like getting the current user/channel/team context and initiating authentication flows.</span></span> <span data-ttu-id="1ad30-131">Инициализируйте пакет SDK, вызвав метод `microsoftTeams.initialize()` .</span><span class="sxs-lookup"><span data-stu-id="1ad30-131">Initialize the SDK by calling `microsoftTeams.initialize()`.</span></span>
2. <span data-ttu-id="1ad30-132">Вызов `microsoftTeams.settings.setValidityState(true)` , когда требуется включить кнопку Сохранить.</span><span class="sxs-lookup"><span data-stu-id="1ad30-132">Call `microsoftTeams.settings.setValidityState(true)` when you want to enable the Save button.</span></span> <span data-ttu-id="1ad30-133">Это следует делать в ответ на допустимые входные данные пользователя, такие как выбор или обновление поля.</span><span class="sxs-lookup"><span data-stu-id="1ad30-133">You should do this as a response to valid user input, such as a selection or field update.</span></span>
3. <span data-ttu-id="1ad30-134">Зарегистрируйте `microsoftTeams.settings.registerOnSaveHandler()` обработчик событий, который вызывается, когда пользователь нажимает кнопку Save (сохранить).</span><span class="sxs-lookup"><span data-stu-id="1ad30-134">Register a `microsoftTeams.settings.registerOnSaveHandler()` event handler, which gets called when the user clicks Save.</span></span>
4. <span data-ttu-id="1ad30-135">Вызов `microsoftTeams.settings.setSettings()` для сохранения параметров соединителя.</span><span class="sxs-lookup"><span data-stu-id="1ad30-135">Call `microsoftTeams.settings.setSettings()` to save the connector settings.</span></span> <span data-ttu-id="1ad30-136">Сохраненные здесь также отображаются в диалоговом окне настройки, если пользователь пытается обновить существующую конфигурацию для соединителя.</span><span class="sxs-lookup"><span data-stu-id="1ad30-136">What's saved here is also what will be shown in the configuration dialog if the user tries to update an existing configuration for your connector.</span></span>
5. <span data-ttu-id="1ad30-137">Вызов `microsoftTeams.settings.getSettings()` для извлечения свойств веб-перехватчика, включая сам URL-адрес.</span><span class="sxs-lookup"><span data-stu-id="1ad30-137">Call `microsoftTeams.settings.getSettings()` to fetch webhook properties, including the URL itself.</span></span> <span data-ttu-id="1ad30-138">Этот метод следует вызывать в дополнение к событиям Save, поэтому его также следует вызывать при первой загрузке страницы в случае повторной настройки.</span><span class="sxs-lookup"><span data-stu-id="1ad30-138">You should call this  In addition to during the save event, you should also call this when your page is first loaded in the case of a re-configuration.</span></span>
6. <span data-ttu-id="1ad30-139">Необязательно Зарегистрируйте `microsoftTeams.settings.registerOnRemoveHandler()` обработчик событий, который вызывается, когда пользователь удаляет соединитель.</span><span class="sxs-lookup"><span data-stu-id="1ad30-139">(Optional) Register a `microsoftTeams.settings.registerOnRemoveHandler()` event handler, which gets called when the user removes your connector.</span></span> <span data-ttu-id="1ad30-140">Это событие дает службе возможность выполнять какие – либо действия по очистке.</span><span class="sxs-lookup"><span data-stu-id="1ad30-140">This event gives your service an opportunity to perform any cleanup actions.</span></span>

#### <a name="getsettings-response-properties"></a><span data-ttu-id="1ad30-141">`GetSettings()` свойства ответа</span><span class="sxs-lookup"><span data-stu-id="1ad30-141">`GetSettings()` response properties</span></span>

>[!Note]
><span data-ttu-id="1ad30-142">Параметры, возвращаемые при `getSettings` вызове, отличаются от тех, которые были вызваны из вкладки и отличаются от описанных [здесь](/javascript/api/%40microsoft/teams-js/settings.settings?view=msteams-client-js-latest&preserve-view=true).</span><span class="sxs-lookup"><span data-stu-id="1ad30-142">The parameters returned by the `getSettings` call here are different than if you were to invoke this method from a tab, and differ from those documented [here](/javascript/api/%40microsoft/teams-js/settings.settings?view=msteams-client-js-latest&preserve-view=true).</span></span>

| <span data-ttu-id="1ad30-143">Параметр</span><span class="sxs-lookup"><span data-stu-id="1ad30-143">Parameter</span></span>   | <span data-ttu-id="1ad30-144">Сведения</span><span class="sxs-lookup"><span data-stu-id="1ad30-144">Details</span></span> |
|-------------|---------|
| `entityId`       | <span data-ttu-id="1ad30-145">Идентификатор сущности, заданный кодом при вызове `setSettings()` .</span><span class="sxs-lookup"><span data-stu-id="1ad30-145">The entity ID, as set by your code when calling `setSettings()`.</span></span> |
| `configName`  | <span data-ttu-id="1ad30-146">Имя конфигурации, заданное кодом при вызове `setSettings()` .</span><span class="sxs-lookup"><span data-stu-id="1ad30-146">The configuration name, as set by your code when calling `setSettings()`.</span></span> |
| `contentUrl` | <span data-ttu-id="1ad30-147">URL-адрес страницы конфигурации, заданный кодом при вызове `setSettings()`</span><span class="sxs-lookup"><span data-stu-id="1ad30-147">The URL of the configuration page, as set by your code when calling `setSettings()`</span></span> |
| `webhookUrl` | <span data-ttu-id="1ad30-148">URL-адрес веб-перехватчика, созданный для этого соединителя.</span><span class="sxs-lookup"><span data-stu-id="1ad30-148">The webhook URL created for this connector.</span></span> <span data-ttu-id="1ad30-149">Сохраним URL-адрес веб-перехватчика и используйте его для отправки в канал структурированного JSON для отправки карточек.</span><span class="sxs-lookup"><span data-stu-id="1ad30-149">Persist the webhook URL and use it to POST structured JSON to send cards to the channel.</span></span> <span data-ttu-id="1ad30-150">Параметр `webhookUrl` возвращается только в том случае, если приложение возвращается успешно.</span><span class="sxs-lookup"><span data-stu-id="1ad30-150">The `webhookUrl` is returned only when application returns successfully.</span></span> |
| `appType` | <span data-ttu-id="1ad30-151">Возвращаемыми значениями могут быть `mail`, `groups` или `teams` (для почты Office 365, функции "Группы Office 365" и Microsoft Teams соответственно).</span><span class="sxs-lookup"><span data-stu-id="1ad30-151">The values returned can be `mail`, `groups` or `teams` corresponding to the Office 365 Mail, Office 365 Groups or Microsoft Teams respectively.</span></span> |
| `userObjectId` | <span data-ttu-id="1ad30-152">Это уникальный идентификатор, соответствующий пользователю Office 365, который инициировал установку соединителя.</span><span class="sxs-lookup"><span data-stu-id="1ad30-152">This is the unique id corresponding to the Office 365 user who initiated setup of the connector.</span></span> <span data-ttu-id="1ad30-153">Этот параметр должен быть защищен.</span><span class="sxs-lookup"><span data-stu-id="1ad30-153">It should be secured.</span></span> <span data-ttu-id="1ad30-154">Это значение используется для сопоставления пользователя в Office 365, который настраивает конфигурацию, и пользователя в вашей службе.</span><span class="sxs-lookup"><span data-stu-id="1ad30-154">This value can be used to associate the user in Office 365 who set up the configuration to the user in your service.</span></span> |

<span data-ttu-id="1ad30-155">Если вам нужно проверить подлинность пользователя при загрузке страницы на шаге 2, обратитесь к [этой ссылке](~/tabs/how-to/authentication/auth-flow-tab.md) , чтобы узнать, как интегрировать имя входа при внедрении страницы.</span><span class="sxs-lookup"><span data-stu-id="1ad30-155">If you need to authenticate the user as part of loading your page in step 2 above, refer to [this link](~/tabs/how-to/authentication/auth-flow-tab.md) for details on how you can integrate login when your page is embedded.</span></span>

> [!NOTE]
> <span data-ttu-id="1ad30-156">Из-за соображений совместимости между клиентами код должен вызываться `microsoftTeams.authentication.registerAuthenticationHandlers()` с использованием URL-адреса и методов обратного вызова для успешного и неудачи перед вызовом `authenticate()` .</span><span class="sxs-lookup"><span data-stu-id="1ad30-156">Due to cross-client compatibility reasons, your code will need to call `microsoftTeams.authentication.registerAuthenticationHandlers()` with the URL and success/failure callback methods before calling `authenticate()`.</span></span>

#### <a name="handling-edits"></a><span data-ttu-id="1ad30-157">Обработка изменений</span><span class="sxs-lookup"><span data-stu-id="1ad30-157">Handling edits</span></span>

<span data-ttu-id="1ad30-158">Код должен обрабатывать пользователей, возвращающих изменения существующей конфигурации соединителя.</span><span class="sxs-lookup"><span data-stu-id="1ad30-158">Your code should handle users returning to edit an existing connector configuration.</span></span> <span data-ttu-id="1ad30-159">Для этого выполните вызов `microsoftTeams.settings.setSettings()` во время начальной настройки со следующими параметрами:</span><span class="sxs-lookup"><span data-stu-id="1ad30-159">To do this, call `microsoftTeams.settings.setSettings()` during the initial configuration with the following parameters:</span></span>

- <span data-ttu-id="1ad30-160">`entityId` — Это настраиваемый идентификатор, который понимается службой и представляет то, что настроено пользователем.</span><span class="sxs-lookup"><span data-stu-id="1ad30-160">`entityId` is the custom ID that is understood by your service and represents what the user has configured.</span></span>
- <span data-ttu-id="1ad30-161">`configName` — Это понятное имя, которое может получить ваш код конфигурации.</span><span class="sxs-lookup"><span data-stu-id="1ad30-161">`configName` is a friendly name that your configuration code can retrieve</span></span>
- <span data-ttu-id="1ad30-162">`contentUrl` — Это настраиваемый URL-адрес, который загружается, когда пользователь редактирует существующую конфигурацию соединителя.</span><span class="sxs-lookup"><span data-stu-id="1ad30-162">`contentUrl` is a custom URL that gets loaded when a user edits an existing connector configuration.</span></span> <span data-ttu-id="1ad30-163">Вы можете использовать этот URL-адрес, чтобы упростить код для обработки сценария изменения.</span><span class="sxs-lookup"><span data-stu-id="1ad30-163">You can use this URL to make it easier for your code to handle the edit case.</span></span>

<span data-ttu-id="1ad30-164">Как правило, этот вызов выполняется в рамках обработчика событий Save.</span><span class="sxs-lookup"><span data-stu-id="1ad30-164">Typically, this call is made as part of your save event handler.</span></span> <span data-ttu-id="1ad30-165">Затем при `contentUrl` загрузке указанного выше кода должен вызываться `getSettings()` предварительное заполнение любых параметров или форм в пользовательском интерфейсе конфигурации.</span><span class="sxs-lookup"><span data-stu-id="1ad30-165">Then, when the `contentUrl` above is loaded, your code should call `getSettings()` to prepopulate any settings or forms in your configuration UI.</span></span>

#### <a name="handling-removals"></a><span data-ttu-id="1ad30-166">Обработка удалений</span><span class="sxs-lookup"><span data-stu-id="1ad30-166">Handling removals</span></span>

<span data-ttu-id="1ad30-167">При необходимости можно выполнить обработчик события, когда пользователь удаляет существующую конфигурацию соединителя.</span><span class="sxs-lookup"><span data-stu-id="1ad30-167">You can optionally execute an event handler when the user removes an existing connector configuration.</span></span> <span data-ttu-id="1ad30-168">Этот обработчик регистрируется с помощью вызова `microsoftTeams.settings.registerOnRemoveHandler()` .</span><span class="sxs-lookup"><span data-stu-id="1ad30-168">You register this handler by calling `microsoftTeams.settings.registerOnRemoveHandler()`.</span></span> <span data-ttu-id="1ad30-169">Этот обработчик можно использовать для выполнения таких операций очистки, как удаление записей из базы данных.</span><span class="sxs-lookup"><span data-stu-id="1ad30-169">This handler can be used to perform cleanup operations such as removing entries from a database.</span></span>

### <a name="including-the-connector-in-your-manifest"></a><span data-ttu-id="1ad30-170">Включение соединителя в манифест</span><span class="sxs-lookup"><span data-stu-id="1ad30-170">Including the Connector in your Manifest</span></span>

<span data-ttu-id="1ad30-171">Вы можете скачать автоматически созданный манифест приложения Teams с портала.</span><span class="sxs-lookup"><span data-stu-id="1ad30-171">You can download the auto-generated Teams app manifest from the portal.</span></span> <span data-ttu-id="1ad30-172">Тем не менее, прежде чем использовать его для тестирования или публикации приложения, необходимо выполнить следующие действия:</span><span class="sxs-lookup"><span data-stu-id="1ad30-172">Before you can use it to test or publish your app, though, you must do the following:</span></span>

- <span data-ttu-id="1ad30-173">[Включите два значка](../../concepts/build-and-test/apps-package.md#app-icons).</span><span class="sxs-lookup"><span data-stu-id="1ad30-173">[Include two icons](../../concepts/build-and-test/apps-package.md#app-icons).</span></span>
- <span data-ttu-id="1ad30-174">Измените раздел `icons` манифеста, чтобы он ссылался на имена файлов значков, а не на их URL-адреса.</span><span class="sxs-lookup"><span data-stu-id="1ad30-174">Modify the `icons` portion of the manifest to refer to the file names of the icons instead of URLs.</span></span>

<span data-ttu-id="1ad30-175">Приведенный ниже файл manifest.json содержит основные элементы, необходимые для тестирования и отправки приложения.</span><span class="sxs-lookup"><span data-stu-id="1ad30-175">The following manifest.json file contains the basic elements needed to test and submit your app.</span></span>

> [!NOTE]
> <span data-ttu-id="1ad30-176">Замените `id` и `connectorId` в приведенном ниже примере на GUID соединителя.</span><span class="sxs-lookup"><span data-stu-id="1ad30-176">Replace `id` and `connectorId` in the following example with the GUID of your Connector.</span></span>

#### <a name="example-manifestjson-with-connector"></a><span data-ttu-id="1ad30-177">Пример файла manifest.json с соединителем</span><span class="sxs-lookup"><span data-stu-id="1ad30-177">Example manifest.json with Connector</span></span>

```json
{
  "$schema": "https://developer.microsoft.com/json-schemas/teams/v1.8/MicrosoftTeams.schema.json",
  "manifestVersion": "1.5",
  "id": "e9343a03-0a5e-4c1f-95a8-263a565505a5",
  "version": "1.0",
  "packageName": "com.sampleapp",
  "developer": {
    "name": "Publisher",
    "websiteUrl": "https://www.microsoft.com",
    "privacyUrl": "https://www.microsoft.com",
    "termsOfUseUrl": "https://www.microsoft.com"
  },
  "description": {
    "full": "This is a sample manifest for an app with a connector with an inline configuration experience.",
    "short": "This is a sample manifest for an app with a connector."
  },
  "icons": {
    "outline": "sampleapp-outline.png",
    "color": "sampleapp-color.png"
  },
  "connectors": [
    {
      "connectorId": "e9343a03-0a5e-4c1f-95a8-263a565505a5",
      "configurationUrl": "https://teamstodoappconnectorwithinlineconfig.azurewebsites.net/Connector/Setup",
      "scopes": [
        "team"
      ]
    }
  ],
  "name": {
    "short": "Sample App",
    "full": "Sample App Long Name"
  },
  "accentColor": "#FFFFFF"
}
```

## <a name="testing-your-connector"></a><span data-ttu-id="1ad30-178">Тестирование соединителя</span><span class="sxs-lookup"><span data-stu-id="1ad30-178">Testing your Connector</span></span>

<span data-ttu-id="1ad30-179">Чтобы тестировать соединитель, отправьте его команде, как в любом другом приложении.</span><span class="sxs-lookup"><span data-stu-id="1ad30-179">To test your Connector, upload it to a team as you would with any other app.</span></span> <span data-ttu-id="1ad30-180">Вы можете создать ZIP-пакет, используя файл манифеста с панели администрирования для разработчиков соединителей (измененный согласно инструкциям из предыдущего раздела) и два файла значков.</span><span class="sxs-lookup"><span data-stu-id="1ad30-180">You can create a .zip package using the manifest file from the Connectors Developer Dashboard (modified as directed in the preceding section) and the two icon files.</span></span>

<span data-ttu-id="1ad30-181">После отправки приложения откройте список соединителей с любого канала.</span><span class="sxs-lookup"><span data-stu-id="1ad30-181">After you upload the app, open the Connectors list from any channel.</span></span> <span data-ttu-id="1ad30-182">Прокрутите вниз, чтобы найти свое приложение в разделе **Отправленные**.</span><span class="sxs-lookup"><span data-stu-id="1ad30-182">Scroll to the bottom to see your app in the **Uploaded** section.</span></span>

![Снимок экрана раздела отправленных приложений в диалоговом окне соединителя](~/assets/images/connectors/connector_dialog_uploaded.png)

<span data-ttu-id="1ad30-184">Теперь можно запустить среду настройки.</span><span class="sxs-lookup"><span data-stu-id="1ad30-184">You can now launch the configuration experience.</span></span> <span data-ttu-id="1ad30-185">Помните, что этот процесс выполняется полностью в Microsoft Teams в качестве размещаемого интерфейса.</span><span class="sxs-lookup"><span data-stu-id="1ad30-185">Be aware that this flow occurs entirely within Microsoft Teams as a hosted experience.</span></span>

<span data-ttu-id="1ad30-186">Чтобы проверить, `HttpPOST` правильно ли работает действие, [отправьте сообщения в соединитель](~/webhooks-and-connectors/how-to/connectors-using.md).</span><span class="sxs-lookup"><span data-stu-id="1ad30-186">To verify that an `HttpPOST` action is working correctly, [send messages to your connector](~/webhooks-and-connectors/how-to/connectors-using.md).</span></span>

## <a name="publish-connectors-for-your-organization"></a><span data-ttu-id="1ad30-187">Публикация соединителей для Организации</span><span class="sxs-lookup"><span data-stu-id="1ad30-187">Publish Connectors for your organization</span></span>

<span data-ttu-id="1ad30-188">Иногда вы не хотите публиковать приложение Connector в общедоступном AppSource/хранилище, но оно должно быть доступно только пользователям в Организации.</span><span class="sxs-lookup"><span data-stu-id="1ad30-188">Sometimes, you may not want to publish your connector app to the public AppSource/Store but would like it to be available only to the users in your organization.</span></span> <span data-ttu-id="1ad30-189">В таких случаях вы можете отправить приложение настраиваемого соединителя в [Каталог приложений организации](~/concepts/deploy-and-publish/apps-publish.md).</span><span class="sxs-lookup"><span data-stu-id="1ad30-189">In such cases, you can upload your custom connector app to your [organization's App Catalog](~/concepts/deploy-and-publish/apps-publish.md).</span></span> <span data-ttu-id="1ad30-190">Таким образом, ваше приложение Connector будет доступно только для этой Организации, и вам не нужно будет публиковать соединитель в общедоступном хранилище.</span><span class="sxs-lookup"><span data-stu-id="1ad30-190">This way, your connector app will be available only to that organization, and you will not need to publish your connector to the public store.</span></span>

<span data-ttu-id="1ad30-191">После отправки пакета приложений для настройки и использования соединителя в группе его можно установить из каталога приложений организации, выполнив следующие действия:</span><span class="sxs-lookup"><span data-stu-id="1ad30-191">Once you've uploaded your app package, to configure and use the connector in a Team it can be installed from the organization's app catalog by following these steps:</span></span>

1. <span data-ttu-id="1ad30-192">Выберите значок приложения на дальней левой вертикальной панели навигации.</span><span class="sxs-lookup"><span data-stu-id="1ad30-192">Select the apps icon from the far left vertical navigation bar.</span></span>
1. <span data-ttu-id="1ad30-193">В окне **приложения** выберите **соединители**.</span><span class="sxs-lookup"><span data-stu-id="1ad30-193">In the **Apps** window select **Connectors**.</span></span>
1. <span data-ttu-id="1ad30-194">Выберите соединитель, который вы хотите добавить, и отобразится всплывающее диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="1ad30-194">Select the connector that you want to add and a pop-up dialog window will display.</span></span>
1. <span data-ttu-id="1ad30-195">Выберите команду **Добавить в строку группы** .</span><span class="sxs-lookup"><span data-stu-id="1ad30-195">Select the **Add to a team** bar.</span></span>
1. <span data-ttu-id="1ad30-196">В следующем диалоговом окне введите имя группы или канала.</span><span class="sxs-lookup"><span data-stu-id="1ad30-196">In the next dialog window type a team or channel name.</span></span>
1. <span data-ttu-id="1ad30-197">Выберите элемент **Настройка соединительной** панели в правом нижнем углу диалогового окна.</span><span class="sxs-lookup"><span data-stu-id="1ad30-197">Select the **Set up a connector** bar from the bottom right corner of dialog window.</span></span>
1. <span data-ttu-id="1ad30-198">Соединитель будет доступен в разделе &#9679;&#9679;&#9679; => *More Options*  =>  *Connector*  =>  *Connectors*  =>  *for Teams* for Teams.</span><span class="sxs-lookup"><span data-stu-id="1ad30-198">The connector will be available in the  section &#9679;&#9679;&#9679; => *More options* => *Connectors* => *All* => *Connectors for you team* for that team.</span></span> <span data-ttu-id="1ad30-199">Вы можете перейти к этому разделу или найти приложение Connector.</span><span class="sxs-lookup"><span data-stu-id="1ad30-199">You can navigate by scrolling to this section or search for the connector app.</span></span>
1. <span data-ttu-id="1ad30-200">Чтобы настроить или изменить соединитель, выберите панель **настройки** .</span><span class="sxs-lookup"><span data-stu-id="1ad30-200">To configure or modify the connector select the **Configure** bar.</span></span>
