---
title: Веб-перехватчики и соединительные линии
author: clearab
description: В этом модуле вы узнаете, как с помощью веб-перехватчиков и соединителей подключить веб-службы к клиенту Teams.
ms.localizationpriority: high
ms.topic: overview
ms.author: anclear
ms.openlocfilehash: bb453367eb0d8f4c2c1a54681d67dc38fb3e0358
ms.sourcegitcommit: ef545fac5c0dbe970d81f53b1631930e9196eba3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/23/2022
ms.locfileid: "67991651"
---
# <a name="webhooks-and-connectors"></a>Веб-перехватчики и соединительные линии

Веб-перехватчики и соединители помогают подключить веб-службы к каналам и командам в Microsoft Teams. Веб-перехватчики — это определяемый пользователем обратный вызов HTTP, уведомляющий пользователей о любых действиях в канале Microsoft Teams. Это способ получения данных в режиме реального времени для приложения. Соединители позволяют пользователям подписаться на получение уведомлений и сообщений от веб-служб. Они предоставляют службе конечную точку HTTPS для публикации сообщений в виде карточек.

> [!IMPORTANT]
> Вы можете создать приложение Teams для бота уведомлений, отличное от входящих веб-перехватчиков. Они выполняются аналогично, но бот уведомлений обладает дополнительными функциональными возможностями. Дополнительные сведения см. в описании бота уведомления сборки [с помощью JavaScript](../sbs-gs-notificationbot.yml) или примера уведомления [о входящем веб-перехватчике](https://github.com/OfficeDev/TeamsFx-Samples/tree/dev/incoming-webhook-notification). Чтобы приступить к работе, [скачайте набор средств Teams](https://marketplace.visualstudio.com/items?itemName=TeamsDevApp.ms-teams-vscode-extension) и изучите его. Дополнительные сведения см. в [документах Teams Toolkit](../toolkit/teams-toolkit-fundamentals.md).

## <a name="outgoing-webhooks"></a>Исходящие веб-перехватчики

Веб-перехватчики содействуют интеграции Teams с внешними приложениями. С помощью исходящих веб-перехватчиков можно отправлять текстовые сообщения из канала в веб-службы. Настроив исходящие веб-перехватчики, пользователи могут @упоминать их и отправлять сообщение в веб-службы. Служба отвечает в течение 10 секунд на сообщение текстом или карточкой.

> [!NOTE]
> Исходящие веб-перехватчики настраиваются для каждой команды и не могут быть включены в обычное приложение Teams.

## <a name="connectors"></a>Connectors

Соединители позволяют пользователям подписаться на получение уведомлений и сообщений от веб-служб. Они предоставляют службе конечную точку HTTPS для публикации сообщений в каналах Teams, обычно в виде карточек.

### <a name="incoming-webhooks"></a>Входящие веб-перехватчики

Входящие веб-перехватчики помогают публиковать сообщения из приложений в Teams. Если входящие веб-перехватчики включены для команды в любом канале, предоставляется конечная точка HTTPS, которая принимает правильно отформатированные JSON и вставляет сообщения в этот канал. Например, можно создать входящий веб-перехватчик в канале DevOps, настроить сборку и одновременно развернуть и отслеживать службы для отправки оповещений.

#### <a name="notification-bot-or-incoming-webhook---choose-the-right-one"></a>Бот уведомлений или входящий веб-перехватчик — выберите нужный

Прежде чем приступить к созданию входящих веб-перехватчиков, вам также может потребоваться знать, что вы можете создать бот уведомлений с помощью Набора средств Teams. Боты уведомлений могут обеспечить более настраиваемый интерфейс для удовлетворения различных бизнес-сценариев.

Узнайте больше о различиях между ботом уведомлений и входящим веб-перехватчиком, чтобы вы могли выбрать правильные решения для своих сценариев:

| &nbsp; | Бот уведомлений |  Входящий веб-перехватчик |
| --- | --- | --- |
| Что это такое? | Приложение Teams | Функция Teams |
| Требуется установка | Да | Нет |
| Подходящие сценарии | • Периодически получать регулярные уведомления и сообщения, например получать ежедневные уведомления о задачах группы. <br>  • Получать уведомления и сообщения на основе реальных событий. Например, когда коллеги отправляют файлы, вы получаете уведомления. | Взаимодействие с внешними приложениями и получение уведомлений и сообщений от других приложений. |
| Конфигурация области | • Канал Teams <br> • Групповой чат <br> • Личный чат | Канал Teams  |
| Процесс сообщения | Бот уведомлений работает как приложение Teams. Вы можете определить бизнес-логику для обработки данных и отображения данных в настраиваемом формате. | Веб-перехватчик — это функция Teams, а не приложение Teams, поэтому он получает и отображает данные только без обработки. |
| Получение контекста Teams | Бот уведомлений может получить контекст Teams, например сведения о канале или пользователе, сообщения и т. д. | Нет |
| Отправка адаптивной карточки | Да | Да |
| Отправка приветственного сообщения | Может отправлять приветственное сообщение | Приветственное сообщение не отображается |
| Триггер поддерживается | Поддерживаются все триггеры. Если вы используете Набор средств Teams, вы можете быстро получить проекты шаблонов со следующими триггерами: <br> • Триггер времени, размещенный в функциях Azure. <br> • Повторное изменение триггера HTTP, размещенного в службе приложений Azure <br> • Триггер HTTP, размещенный на Функции Azure | Все поддерживаемые триггеры |
| Средства сборки | • [Обзор набора средств Teams для Visual Studio Code](../toolkit/teams-toolkit-fundamentals.md) <br> • [Обзор набора средств Teams для Visual Studio](../toolkit/teams-toolkit-fundamentals.md) <br> • [Библиотека TeamsFx](../toolkit/TeamsFx-CLI.md) <br> • [Пакет SDK для TeamsFx](../toolkit/TeamsFx-SDK.md) | Инструменты не требуются |
| Требуется облачный ресурс | Azure Bot Framework | Ресурсы не требуются |
| Учебник | [Создание бота уведомлений с помощью JavaScript](../sbs-gs-notificationbot.yml) | [Пример входящего уведомления веб-перехватчика](https://github.com/OfficeDev/TeamsFx-Samples/tree/dev/incoming-webhook-notification) |

### <a name="office-365-connectors"></a>Соединители Office 365

Соединители Office 365 позволяют создать страницу пользовательской конфигурации для входящего веб-перехватчика и упаковать его в приложение Teams. Вы отправляете сообщения в основном с помощью карточек соединителей Office 365 и имеете возможность добавить в них ограниченный набор действий с карточками. Например, соединитель погоды, который позволяет пользователям выбирать расположение и любое время дня, получать обновления о погоде на завтра. Они настроены на уровне канала, но устанавливаются на уровне команды.

> [!NOTE]
> Вы можете передать приложение Teams с соединителем Office 365 в наш AppStore.

## <a name="create-and-send-messages"></a>Создание и отправка сообщений

Сообщения с действиями позволяют пользователям выполнять действия, не выходя из почтового клиента, что содействует повышению вовлеченности пользователей. С помощью Office 365 и входящих веб-перехватчиков можно отправлять сообщения, публикуя полезные данные JSON по URL-адресу веб-перехватчика.

## <a name="next-step"></a>Следующий этап

> [!div class="nextstepaction"]
> [Создание исходящего веб-перехватчика](~/webhooks-and-connectors/how-to/add-outgoing-webhook.md)

## <a name="see-also"></a>См. также

* [Создание входящего веб-перехватчика](~/webhooks-and-connectors/how-to/add-incoming-webhook.md)
* [Создание соединителя Office 365](~/webhooks-and-connectors/how-to/connectors-creating.md)
* [Создание и отправка сообщений](~/webhooks-and-connectors/how-to/connectors-using.md)
* [Создание бота уведомлений с помощью JavaScript](../sbs-gs-notificationbot.yml)
* [Создание первого приложения бота с помощью JavaScript](../sbs-gs-bot.yml)
