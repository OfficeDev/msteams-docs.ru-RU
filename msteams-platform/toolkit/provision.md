---
title: Подготовка облачных ресурсов с помощью набора средств Teams
author: MuyangAmigo
description: В этом модуле вы узнаете, как подготовить облачные ресурсы с помощью Teams Toolkit, создания и настройки подготовки ресурсов.
ms.author: shenwe
ms.localizationpriority: medium
ms.topic: overview
ms.date: 11/29/2021
ms.openlocfilehash: 1c4232cfe51ae900414f474bcdd05c9a67d5c4c6
ms.sourcegitcommit: ca84b5fe5d3b97f377ce5cca41c48afa95496e28
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/17/2022
ms.locfileid: "66144119"
---
# <a name="use-teams-toolkit-to-provision-cloud-resources"></a>Подготовка облачных ресурсов с помощью набора средств Teams

TeamsFx интегрируется с облаком Azure и Microsoft 365, что позволяет разместить приложение в Azure с помощью одной команды. TeamsFx интегрируется с диспетчером ресурсов Azure, что позволяет подготавливать ресурсы Azure, необходимые приложению для подхода к коду.  

## <a name="prerequisites"></a>Предварительные условия

* Необходимые условия, касающиеся учетных записей. Для подготовки облачных ресурсов необходимо иметь следующие учетные записи:

  * Microsoft 365 учетной записи с действительной подпиской.
  * Azure с действительной подпиской.
  Дополнительные сведения см. в [статье о подготовке учетных записей для создания Teams приложения](accounts.md).

* [Установите набор средств Teams](https://marketplace.visualstudio.com/items?itemName=TeamsDevApp.ms-teams-vscode-extension) версии не ниже 3.0.0.

> [!TIP]
> Убедитесь, что проект приложения Teams открыт в VS Code.

## <a name="provision-using-teams-toolkit"></a>Подготовка с помощью набора средств Teams

Подготовка выполняется с помощью одной команды в наборе средств Teams для Visual Studio Code или TeamsFx CLI следующим образом:

[Подготовка приложения на основе Azure](/microsoftteams/platform/sbs-gs-javascript?tabs=vscode%2Cvsc%2Cviscode%2Cvcode&tutorial-step=8)

## <a name="resource-creation"></a>Создание ресурса

При активации команды подготовки в наборе средств Teams или TeamsFx CLI можно получить следующие ресурсы:

* Microsoft Azure Active Directory (Azure AD) в клиенте Microsoft 365 клиента.
* Teams регистрации приложения на платформе Microsoft 365 клиента Teams клиента.
* Ресурсы Azure в выбранной подписке Azure.

При создании проекта можно использовать все ресурсы Azure. Шаблон ARM определяет все ресурсы Azure и помогает создавать необходимые ресурсы Azure во время подготовки. При [добавлении нового ресурса возможностей](./add-resource.md) в существующий проект обновленный шаблон ARM отражает последнее изменение.

> [!NOTE]
> Использование служб Azure влечет за собой дополнительные затраты в вашей подписке. Подробнее об оценке затрат см. [калькулятор цен](https://azure.microsoft.com/pricing/calculator/).

### <a name="resource-creation-for-teams-tab-application"></a>Создание ресурсов для приложения вкладки Teams

|Ресурс|Назначение|Описание |
|----------|--------------------------------|-----|
| Хранилище Azure | Размещение приложения вкладки | Включает функцию статического веб-приложения для размещения приложения вкладки |
| План службы приложений для простой проверки подлинности | Размещение веб-приложения простой проверки подлинности |Неприменимо |
| Веб-приложение для простой проверки подлинности | Размещение простого сервера проверки подлинности для получения доступа к другим службам в одностраничном приложении | Добавляет назначенное пользователем удостоверение для доступа к другим ресурсам Azure |
| Назначаемое пользователем удостоверение | Проверка подлинности запросов между службами Azure | Совместно используется различными возможностями и ресурсами |

### <a name="resource-creation-for-teams-bot-or-message-extension-application"></a>Создание ресурсов для бота или приложения расширения для сообщений Teams

|Ресурс|Назначение| Описание |
|----------|--------------------------------|-----|
| Служба бота Azure | Регистрация приложения в качестве бота на платформе бота | Подключение бота к Teams |
| План службы приложений для бота | Размещение веб-приложения бота |Неприменимо |
| Веб-приложение для бота | Размещение приложения бота | Добавляет назначенное пользователем удостоверение для доступа к другим ресурсам Azure. <br /> Добавляет параметры приложения, необходимые пакету [SDK для TeamsFx](https://www.npmjs.com/package/@microsoft/teamsfx) |
| Назначаемое пользователем удостоверение | Проверка подлинности запросов между службами Azure | Совместно используется различными возможностями и ресурсами |

### <a name="resource-creation-for-azure-functions-in-the-project"></a>Создание ресурсов для функции Azure в проекте

|Ресурс|Назначение| Описание|
|----------|--------------------------------|-----|
| План службы приложений для приложения-функции | Размещение приложения-функции |Неприменимо |
| Приложение-функция | Размещение API-интерфейсов функций Azure | Добавляет назначенное пользователем удостоверение для доступа к другим ресурсам Azure. <br /> Добавляет правило общего доступа к ресурсам независимо от источника (CORS), чтобы разрешить запросы из приложения вкладки. <br /> Добавляет параметр проверки подлинности, который разрешает только запросы из приложения Teams. <br /> Добавляет параметры приложения, необходимые пакету [SDK для TeamsFx](https://www.npmjs.com/package/@microsoft/teamsfx) |
| Хранилище Azure для приложения-функции | Требуется для создания приложения-функции |Неприменимо|
| Назначаемое пользователем удостоверение | Проверка подлинности запросов между службами Azure | Совместно используется различными возможностями и ресурсами |

### <a name="resource-creation-for-azure-sql-in-the-project"></a>Создание ресурсов для Azure SQL в проекте

|Ресурс|Назначение | Описание |
|----------|--------------------------------|-----|
| Azure SQL Server | Размещение экземпляра базы данных Azure SQL | Разрешает всем службам Azure доступ к серверу |
| База данных Azure SQL | Хранение данных для приложения | Предоставляет назначаемому пользователем удостоверению разрешение на чтение или запись в базу данных |
| Назначаемое пользователем удостоверение | Проверка подлинности запросов между службами Azure | Совместно используется различными возможностями и ресурсами |

### <a name="resource-creation-for-azure-api-management-in-the-project"></a>Создание ресурсов для управления API Azure в проекте

|Ресурс|Назначение|
|----------|--------------------------------|
| Приложение Azure AD для службы управления API | Разрешает Microsoft Power Platform доступ к API-интерфейсам, управляемым службой управления API |
| Служба управления API | Управление API-интерфейсами, размещенными в приложении-функции |
| Продукт управления API | Группирование API, определение условий использования и политик среды выполнения |
| Сервер OAuth для управления API | Позволяет платформе Microsoft Power Platform получить доступ к API- интерфейсам, размещенным в приложении-функции |
| Назначаемое пользователем удостоверение | Проверка подлинности запросов между службами Azure |

### <a name="resources-created-when-including-azure-key-vault-in-the-project"></a>Ресурсы, созданные при включении Key Vault Azure в проект

|Ресурсы|Назначение этого ресурса|
|----------|--------------------------------|
| Служба Key Vault Azure | Управление секретами (например, секретом клиента приложения Azure AD), которые используются другими службами Azure |
| Назначаемое пользователем удостоверение | Проверка подлинности запросов между службами Azure |

## <a name="customize-resource-provision"></a>Настройка подготовки ресурсов

Набор средств Teams позволяет использовать подход "инфраструктура как программный код" (IaC), чтобы определить ресурсы Azure, которые необходимо подготовить, и способ настройки. Это средство использует шаблон ARM для определения ресурсов Azure. Шаблон ARM — это набор файлов bicep, определяющий инфраструктуру и конфигурацию проекта. Ресурсы Azure можно настраивать, изменяя шаблон ARM. Дополнительные сведения см. в [документе по bicep](/azure/azure-resource-manager/bicep).

Подготовка с помощью ARM включает в себя изменение следующих наборов файлов, параметров и шаблонов:

* Файлы параметров ARM (`azure.parameters.{your_env_name}.json`), расположенные в папке `.fx/configs`, для передачи параметров в шаблоны.
* Файлы шаблонов ARM, расположенные в `templates/azure`; эта папка содержит следующие файлы:

| Файл | Функция | Разрешение настройки |
| --- | --- | --- |
| main.bicep | Предоставление точки входа для подготовки ресурсов Azure | Да |
| provision.bicep | Создание и настройка ресурсов Azure | Да |
| config.bicep | Добавление необходимых конфигураций TeamsFx в ресурсы Azure | Да |
| provision/xxx.bicep | Создание и настройка каждого ресурса Azure, потребляемого `provision.bicep` | Да |
| teamsfx/xxx.bicep | Добавление необходимых конфигураций TeamsFx в каждый ресурс Azure, используемый `config.bicep`| Нет |

> [!NOTE]
> При добавлении ресурсов или возможностей в проект `teamsfx/xxx.bicep` будет создано повторно; этот процесс нельзя заменить настройкой. Чтобы изменить файлы bicep, можно использовать Git для отслеживания изменений в файлах `teamsfx/xxx.bicep`, что помогает не потерять изменения при добавлении ресурсов или возможностей.

### <a name="customize-arm-parameters-and-templates"></a>Настройка параметров и шаблонов ARM

Вы можете настроить ресурсы Azure, настроив файлы параметров и файлы bicep.

#### <a name="customize-arm-template-parameter-files"></a>Настройка файлов параметров шаблона ARM

Набор средств предоставляет набор предопределенных параметров для настройки ресурсов Azure. Файлы параметров находятся в расположении `.fx/configs/azure.parameters.{env}.json`, и все доступные параметры определяются в свойстве `provisionParameters`. Рекомендуется настроить файлы параметров, если предопределенные параметры удовлетворяют вашим требованиям.

В следующей таблице приведен список доступных предопределенных параметров:

| Имя параметра | Значение по умолчанию | Что можно настроить с помощью параметра | Ограничения значений |
| --- | --- | --- | --- |
| resourceBaseName | Автоматически генерируется для каждой среды | Имя по умолчанию для всех ресурсов | От 2 до 20 символов (строчные буквы и цифры) |
| simpleAuthServerFarmsName | ${resourceBaseName}simpleAuth | Имя простого плана службы приложений для проверки подлинности | От 1 до 40 символов (буквы, цифры и дефисы) |
| simpleAuthWebAppName | ${resourceBaseName}simpleAuth | Имя простого веб-приложения проверки подлинности | От 2 до 60 символов (буквы, цифры и дефисы) <br /> Не может начинаться или заканчиваться дефисом |
| simpleAuthSku | F1 | Номер SKU простого плана службы приложений для проверки подлинности | Неприменимо |
| frontendHostingStorageName | ${resourceBaseName}tab | Имя учетной записи хранения размещения на клиенте | От 3 до 24 символов (строчные буквы и дефисы) |
| frontendHostingStorageSku | Standard_LRS | Номер SKU учетной записи хранения размещения на клиенте |[Доступные номера SKU](/azure/templates/microsoft.storage/storageaccounts?tabs=bicep)|
| functionServerfarmsName | ${resourceBaseName}api | Имя плана службы приложений-функций | От 1 до 40 символов (буквы, цифры и дефисы) |
| functionServerfarmsSku | Y1 | SKU плана обслуживания приложений-функций | Неприменимо|
| functionAppName | ${resourceBaseName}api | Имя приложения-функции | От 2 до 60 символов (буквы, цифры и дефисы) <br /> Не может начинаться или заканчиваться дефисом |
| functionStorageName | ${resourceBaseName}api | Имя учетной записи хранения приложения-функции | От 3 до 24 символов (строчные буквы и дефисы) |
| functionStorageSku | Standard_LRS | Номер SKU учетной записи хранения приложения-функции | [Доступные номера SKU](/azure/templates/microsoft.storage/storageaccounts?tabs=bicep) |
| botServiceName | ${resourceBaseName} | Имя службы бота Azure | 2–64 символа (буквы, цифры, символы подчеркивания, точки и дефисы) <br /> Должно начинаться с буквы или цифры |
| botServiceSku | F0 | Номер SKU службы бота Azure | [Доступные номера SKU](/azure/templates/microsoft.botservice/2021-05-01-preview/botservices?tabs=bicep) |
| botDisplayName | ${resourceBaseName} | Имя бота, которое видит пользователь | 1–42 символа |
| botServerfarmsName | ${resourceBaseName}bot | Имя плана службы приложений бота | От 1 до 40 символов (буквы, цифры и дефисы) |
| botWebAppName | ${resourceBaseName}bot | Имя веб-приложения бота | От 2 до 60 символов (буквы, цифры и дефисы) <br /> Не может начинаться или заканчиваться дефисом |
| botWebAppSKU | F1 | SKU плана службы приложения бота | Неприменимо |
| userAssignedIdentityName | ${resourceBaseName} | Имя назначаемого пользователем удостоверения | 3–128 символов (буквы, цифры, символы подчеркивания и дефисы) <br /> Должно начинаться с буквы или цифры |
| sqlServerName | ${resourceBaseName} | Имя сервера Azure SQL | 1-63 символа (буквы, цифры и дефисы) <br /> Не может начинаться или заканчиваться дефисом |
| sqlDatabaseName | ${resourceBaseName} | Имя базы данных Azure SQL | 1–128 символов, нельзя использовать символы <>*%&:\/? или непечатаемые символы <br /> Не может заканчиваться точкой или пробелом |
| sqlDatabaseSku | Базовый | Номер SKU базы данных Azure SQL | Неприменимо  |
| apimServiceName | ${resourceBaseName} | Имя службы APIM | 1-50 символов (буквы, цифры и дефисы) <br /> Должно начинаться с буквы и заканчиваться буквой или цифрой |
| apimServiceSku | Потребление | Номер SKU службы APIM | [Доступные номера SKU](/azure/templates/microsoft.apimanagement/service?tabs=bicep) |
| apimProductName | ${resourceBaseName} | Имя продукта APIM | 1-80 символов (буквы, цифры и дефисы) <br /> Должно начинаться с буквы и заканчиваться буквой или цифрой |
| apimOauthServerName | ${resourceBaseName} | Имя сервера AIM OAuth | 1-80 символов (буквы, цифры и дефисы) <br /> Должно начинаться с буквы и заканчиваться буквой или цифрой |
| keyVaultSkuName | стандарт | Имя SKU службы Azure Key Vault| |

В то же время доступны следующие параметры со значениями, заполненными во время подготовки. Цель этих заполнителей — гарантировать создание новых ресурсов для вас в новой среде. Фактические значения разрешаются на основе `.fx/states/state.{env}.json`.

##### <a name="azure-ad-application-related-parameters"></a>Параметры, связанные с приложением Azure AD

| Имя параметра | Заполнитель значения по умолчанию | Значение заполнителя | Создание и настройка |
| --- | --- | --- | --- |
| Microsoft 365 ClientId | {{state.fx-resource-aad-app-for-teams.clientId}} | Идентификатор клиента приложения Azure AD, созданный во время подготовки | [Настройка значения](#use-an-existing-azure-ad-app-for-your-teams-app) |
| Microsoft 365 ClientSecret | {{state.fx-resource-aad-app-for-teams.clientSecret}} | Секрет клиента приложения Azure AD, созданный во время подготовки | [Настройка значения](#use-an-existing-azure-ad-app-for-your-teams-app)  |
| Идентификатор клиента Microsoft 365 | {{state.fx-resource-aad-app-for-teams.tenantId}} | Идентификатор клиента приложения Azure AD вашего приложения | [Настройка значения](#use-an-existing-azure-ad-app-for-your-teams-app)  |
| Microsoft 365 OAuthAuthorityHost | {{state.fx-resource-aad-app-for-teams.oauthHost}} | Авторизующий узел OAuth приложения Azure AD вашего приложения | [Настройка значения](#use-an-existing-azure-ad-app-for-your-teams-app) |
| botAadAppClientId | {{state.fx-resource-bot.botId}} | Идентификатор клиента приложения Azure AD бота, созданный во время подготовки | [Настройка значения](#use-an-existing-azure-ad-app-for-your-bot) |
| botAadAppClientSecret | {{state.fx-resource-bot.botPassword}} | Секрет клиента приложения Azure AD бота, созданный во время подготовки | [Настройка значения](#use-an-existing-azure-ad-app-for-your-bot) |
| apimClientId | {{state.fx-resource-apim.apimClientAADClientId}} | Идентификатор клиента приложения Azure AD APIM, созданный во время подготовки | Удаление заполнителя и заполнение фактического значения |
| apimClientSecret | {{state.fx-resource-apim.apimClientAADClientSecret}} | Секрет клиента приложения Azure AD APIM, созданный во время подготовки | Удаление заполнителя и заполнение фактического значения |

##### <a name="azure-resource-related-parameters"></a>Параметры, связанные с ресурсами Azure

| Имя параметра | Заполнитель значения по умолчанию | Значение заполнителя | Создание и настройка |
| --- | --- | --- | --- |
| azureSqlAdmin | {{state.fx-resource-azure-sql.admin}} | Учетная запись администратора сервера Azure SQL Server, указанная вами во время подготовки | Удаление заполнителя и заполнение фактического значения |
| azureSqlAdminPassword | {{state.fx-resource-azure-sql.adminPassword}} | Пароль администратора сервера Azure SQL Server, указанный во время подготовки | Удаление заполнителя и заполнение фактического значения |
| apimPublisherEmail | {{state.fx-resource-apim.publisherEmail}} | Адрес электронной почты издателя APIM, значение по умолчанию — ваша учетная запись Azure | Удаление заполнителя и заполнение фактического значения |
| apimPublisherName | {{state.fx-resource-apim.publisherName}} | Имя издателя APIM, значение по умолчанию — ваша учетная запись Azure. | Удаление заполнителя и заполнение фактического значения |

#### <a name="referencing-environment-variables-in-parameter-files"></a>Ссылка на переменные среды в файлах параметров

Если вы не хотите указывать фиксированные значения прямо в файлах параметров, например, если значение является секретом. Файлы параметров поддерживают ссылки на значения из переменных среды. Вы можете использовать синтаксис `{{$env.YOUR_ENV_VARIABLE_NAME}}` в значениях параметров, чтобы средство могло получить значение из текущей переменной среды.

В следующем примере считывается значение параметра `mySelfHostedDbConnectionString` из переменной среды `DB_CONNECTION_STRING`:

```json
...
    "mySelfHostedDbConnectionString": "{{$env.DB_CONNECTION_STRING}}"
...
```

#### <a name="customize-arm-template-files"></a>Настройка файлов шаблонов ARM

Если стандартные шаблоны не соответствуют требованиям приложения, можно настроить шаблоны ARM в папке `templates/azure`. Например, можно настроить шаблон ARM, чтобы создать дополнительные ресурсы Azure для приложения. Вам потребуется базовое знание языка bicep, который используется для создания шаблона ARM. Начать работу с bicep поможет [документация по bicep](/azure/azure-resource-manager/bicep/).

> [!NOTE]
> Шаблон ARM является общим для всех сред. [Условное развертывание](/azure/azure-resource-manager/bicep/conditional-resource-deployment) можно использовать, если поведение подготовки различается в разных средах.

Чтобы обеспечить правильную работу инструмента TeamsFx, настройте шаблон ARM, который соответствует следующему требованию. Если вы используете для дальнейшей разработки другое средство, эти требования можно игнорировать.

* Сохраните структуру папки и имя файла без изменений. Средство может добавлять новое содержимое в существующие файлы при добавлении дополнительных ресурсов или возможностей в проект.
* Не изменяйте имена автоматически создаваемых параметров и имена свойств. Автоматически созданные параметры можно использовать при добавлении дополнительных ресурсов или возможностей в проект.
* Сохраните вывод автоматически созданного шаблона ARM без изменений. Можно добавить в шаблон ARM дополнительный вывод. Выходные данные представляют собой `.fx/states/state.{env}.json` и могут использоваться в других функциях, таких как развертывание, проверка файла манифеста.

### <a name="customization-scenarios"></a>Сценарии настройки

Вы можете провести настройку следующих сценариев:

#### <a name="use-an-existing-azure-ad-app-for-your-bot"></a>Использование существующего приложения Azure AD для бота

Вы можете добавить следующий фрагмент конфигурации в файл `.fx/configs/config.{env}.json`, чтобы использовать приложение Azure AD, созданное вами для приложения Teams. Сведения о создании Azure AD см. в разделе <https://aka.ms/teamsfx-existing-aad-doc>.

```json
"auth": {
    "clientId": "<your Azure AD app client id>",
    "clientSecret": "{{$env.ENV_NAME_THAT_STORES_YOUR_SECRET}}",
    "objectId": "<your Azure AD app object id>",
    "accessAsUserScopeId": "<id of the access_as_user scope>"
}
```

После добавления приведенного фрагмента кода добавьте секрет в связанную переменную среды, чтобы средство могло разрешить фактический секрет во время подготовки.

> [!NOTE]
> Убедитесь, что одно и то же приложение Azure AD не используется в нескольких средах. Если у вас нет разрешения на обновление приложения Azure AD, вы можете получить предупреждение с инструкциями по обновлению приложения Azure AD вручную. Следуйте инструкциям, чтобы обновить приложение Azure AD после подготовки.

#### <a name="use-an-existing-azure-ad-app-for-your-teams-app"></a>Использование существующего приложения Azure AD для приложения Teams

Вы можете добавить следующий фрагмент конфигурации в файл `.fx/configs/config.{env}.json`, чтобы использовать приложение Azure AD, созданное вами для бота:

```json
"bot": {
    "appId": "<your Azure AD app client id>",
    "appPassword": "{{$env.ENV_NAME_THAT_STORES_YOUR_SECRET}}"
}
```

После добавления предыдущего фрагмента кода добавьте секрет в связанную переменную среды, чтобы средство могло разрешить фактический секрет во время подготовки.

#### <a name="skip-adding-user-for-sql-database"></a>Пропустить добавление пользователя для SQL базы данных

Если при попытке добавить пользователя в базу данных SQL недостаточно разрешений, можно добавить следующий фрагмент конфигурации в файл `.fx/configs/config.{env}.json`, чтобы пропустить добавление SQL базы данных:

```json
"skipAddingSqlUser": true
```

### <a name="specifying-the-name-of-function-app-instance"></a>Указание имени экземпляра приложения-функции

`contosoteamsappapi` можно использовать вместо имени по умолчанию экземпляра приложения-функции.

> [!NOTE]
> Если среда уже подготовлена, указание имени может создать новый экземпляр приложения-функции вместо переименования созданного ранее экземпляра.

Следующие шаги:

1. Откройте `.fx/configs/azure.parameters.{env}.json` для текущей среды.
2. Добавьте новое свойство `functionAppName` к значению параметра `provisionParameters`.
3. Введите `contosoteamsappapi` в качестве значения `functionAppName`.
4. Окончательный файл параметров показан в следующем фрагменте кода:

    ```json
    {
        "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#",
        "contentVersion": "1.0.0.0",
        "parameters": {
            "provisionParameters": {
            "value": {
                "functionAppName": "contosoteamsappapi"
                ...
                }
            }
        }
    }
    ```

### <a name="scenerio"></a>Сценарий

Чтобы добавить в приложение другой ресурс или хранилище Azure:

Рассмотрим сценарий, в котором нужно добавить хранилище Azure в серверную часть функции Azure для хранения данных больших двоичных объектов. Для обновления шаблона bicep с поддержкой службы хранилища Azure не существует автоматического потока. Однако вы можете изменить bicep-файл и добавить ресурс. Для этого выполните следующие действия.

1. Создайте проект вкладки.
2. Добавьте в проект функцию. Дополнительные сведения см. в документации по [добавлению ресурсов](./add-resource.md).
3. Объявите новую учетную запись хранения в шаблоне ARM. Можно объявить ресурс напрямую в `templates/azure/provision/function.bicep`. По желанию можно объявлять ресурсы в других местах.

    `````````bicep
    var applicationStorageAccountName = 'myapp${uniqueString(resourceGroup().id)}'
    resource applicationStorageAccount 'Microsoft.Storage/storageAccounts@2021-06-01' = {
        name: applicationStorageAccountName
        location: resourceGroup().location
        kind: 'Storage'
        sku: {
            name: 'Standard_LRS'
        }
    }
    `````````

4. Обновите параметры приложения-функции Azure, используя строку подключения к хранилищу Azure в `templates/azure/provision/function.bicep`. Добавьте следующий фрагмент кода в массив `appSettings` ресурса `functionApp`:

    ``````````````````bicep
    {
        name: 'MyAppStorageAccountConnectionString'
        value: 'DefaultEndpointsProtocol=https;AccountName=${applicationStorageAccount.name};AccountKey=${listKeys(applicationStorageAccount.id, '2021-06-01').keys[0].value}'
    }
    ```````````````````

5. Вы можете обновить функцию с помощью выходных привязок службы хранилища Azure.

## <a name="faq"></a>Вопросы и ответы

<br>

<details>

<summary><b>Как проводить поиск неисправностей</b></summary>

Если при использовании набора средств Teams в Visual Studio Code возникают ошибки, выберите в уведомлении об ошибке **Получить помощь**, чтобы перейти к соответствующему документу. Если вы используете Интерфейс командной строки TeamsFx, в конце сообщения об ошибке будет гиперссылка, указывающая на статью справки. Можно также [просмотреть справку по подготовке напрямую](https://aka.ms/teamsfx-arm-help).

<br>

</details>

<details>

<summary><b>Как перейти на другую подписку Azure во время подготовки?</b></summary>

1. Переключите подписку в текущей учетной записи или выйдите из системы и выберите новую подписку.
2. Если вы уже подготовили текущую среду, необходимо создать новую среду и выполнить подготовку, так как ARM не поддерживает перемещение ресурсов.
3. Если вы не подготовили текущую среду, можно запустить подготовку напрямую.

<br>

</details>

<details>

<summary><b>Как изменить группу ресурсов во время подготовки?</b></summary>

Перед подготовкой средство запрашивает у вас, хотите ли вы создать новую группу ресурсов или использовать существующую. На этом шаге можно указать имя новой группы ресурсов или выбрать существующую.

<br>

</details>

<details>

<summary><b>Как подготовить приложение на основе SharePoint?</b></summary>

Можно следовать инструкциям по [подготовке приложения на основе SharePoint](/microsoftteams/platform/sbs-gs-spfx?tabs=vscode%2Cviscode&tutorial-step=4).

> [!NOTE]
> Создание приложений Teams на платформе SharePoint с набором средств Teams пока не имеет прямой интеграции с Azure. Содержимое документации не относится к приложениям на основе SPFx.

<br>

</details>

## <a name="see-also"></a>Дополнительные ресурсы

* [Развертывание приложения Teams в облаке](deploy.md)
* [Управление несколькими средами](TeamsFx-multi-env.md)
* [Совместная работа с другими разработчиками в проекте Teams](TeamsFx-collaboration.md)
