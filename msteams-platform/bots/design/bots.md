---
title: Разработка ленты
description: Узнайте, как разработать робот команд и получить набор UI Microsoft Teams.
author: heath-hamilton
ms.topic: conceptual
ms.author: lajanuar
ms.openlocfilehash: d1a7470f4986de22ecca7071823b620cb0234abb
ms.sourcegitcommit: c102da958759c13aa9e0f81bde1cffb34a8bef34
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/09/2020
ms.locfileid: "49605495"
---
# <a name="designing-your-microsoft-teams-bot"></a>Разработка ленты Microsoft Teams

Боты — это беседы, которые выполняют определенный набор задач. С учетом <a href="https://dev.botframework.com/" target="_blank">Microsoft Bot Framework</a>, Боты общаться с пользователями, отвечать на свои вопросы и заблаговременно уведомлять об изменениях и событиях. Это отличный способ достигать.

В следующей статье описываются способы добавления, использования и управления боты в Teams, а также сведения по разработке приложений.

## <a name="microsoft-teams-ui-kit"></a>Набор элементов пользовательского интерфейса Microsoft Teams

В наборе UI Microsoft Teams вы найдете более исчерпывающие инструкции для Bot, в том числе элементы, которые можно изменять и изменять по мере необходимости.

> [!div class="nextstepaction"]
> [Получение набора элементов пользовательского интерфейса Microsoft Teams (фигма)](https://www.figma.com/community/file/916836509871353159)

## <a name="add-a-bot"></a>Добавление ленты

Боты доступны в беседах, каналах и персональных приложениях. Вы можете добавить элемент Bot одним из следующих способов:

* Из хранилища Teams (AppSource).
* С помощью всплывающего меню приложения выберите значок **больше** в левой части Teams.
* С @mention в новом поле чата или создания (в приведенном ниже примере показано, как это можно сделать в разделе групповой чат).

:::image type="content" source="../../assets/images/bots/add-bot-chat-at-mention.png" alt-text="В примере показано, как добавить Bot в чат группы с помощью @mention." border="false":::

## <a name="introduce-a-bot"></a>Введение ленты

Крайне важно, чтобы ваш робот появилось в самом коде, и описывает его возможности. Этот первоначальный сервер Exchange помогает людям разобраться, что делать с роботом, узнать об его ограничениях и, что самое важное, получить удобное взаимодействие с ИТ.

### <a name="welcome-message-in-a-one-on-one-chat"></a>Приветственное сообщение в беседе "один к одному"

В личных контекстах приветственные сообщения задают тон для Bot. Сообщение включает приветствие, действия, которые может выполнять Bot, и некоторые предложения по взаимодействию (например, "попытаться запрашивать о..."). Если это возможно, эти предложения должны возвращать сохраненные ответы, не входя в систему.

:::image type="content" source="../../assets/images/bots/bot-personal-welcome.png" alt-text="В примере показано введение в личное приложение." border="false":::

### <a name="introductions-in-group-chats-and-channels"></a>Введение в групповых беседах и каналах

Введение в групповые беседы и каналы в сравнении с персональным контекстом (например, личное приложение) должно быть немного отличаться. В реальной жизни, если вы ввели комнату, заполненную пользователями; Вы не велкоминг всех пользователей, которые уже есть. Подумаем, что вы подумываете в своем botном дизайне.

:::image type="content" source="../../assets/images/bots/bot-group-welcome.png" alt-text="В примере показано введение в контексте для коллективной работы." border="false":::

### <a name="bot-authentication-with-single-sign-on"></a>Однократная проверка подлинности с единым входом

Когда пользователь почтовы почтовых роботов, для входа может потребоваться использовать все его функции. Вы можете упростить процесс проверки подлинности с помощью единого входа (SSO).

Не забывайте: в меню команд Bot (**что можно делать?**) также необходимо указать команду для выхода.

:::image type="content" source="../../assets/images/bots/bot-sso-example.png" alt-text="Пример: Bot с кнопкой входа." border="false":::

### <a name="tours"></a>Обзоры

Вы можете включить учебник с приветственными сообщениями и, если она отвечает на что-то вроде команды "Справка". Обзор — это наиболее эффективный способ описать действия, которые может выполнять Bot. Если это возможно, они также прекрасно подходят для описания других функций приложения (например, для включения снимков экрана расширения обмена сообщениями).

> [!IMPORTANT]
> Обзоры должны быть доступны без входа в систему.

#### <a name="one-on-one-chats"></a>Беседы "один к одному"

В персональном приложении обойма может быть эффективным обзором ленты и другими функциями приложения. В том числе кнопки Разрешить пользователям попытаться выполнить команды Bot (например, **создать задачу**).

:::image type="content" source="../../assets/images/bots/bot-tour-personal.png" alt-text="В примере показан обзор ленты в одном сеансе." border="false":::

#### <a name="channels-and-group-chats"></a>Каналы и беседы групп

В каналах и беседах групп обзор должен быть открыт в модальном (также называемом [модуле задачи](../../task-modules-and-cards/task-modules/design-teams-task-modules.md) ), чтобы не прерывать текущие беседы. Это также дает возможность реализовать представления, основанные на ролях, для обзора.

:::image type="content" source="../../assets/images/bots/bot-tour-channel.png" alt-text="В примере показан обзор канала." border="false":::

## <a name="chat-with-a-bot"></a>Чат с Bot

Боты интегрируются непосредственно в среду обмена сообщениями группы. Пользователи могут обмениваться сообщениями с помощью программы Bot, чтобы получить ответы на свои вопросы или команды ввода, чтобы они могли выполнять задачи с узким или определенным набором задач. Боты может заблаговременно уведомлять пользователей об изменениях и обновлениях приложения с помощью чата.

### <a name="chat-with-a-bot-in-different-contexts"></a>Чат с помощью программы Bot в различных контекстах

Боты можно использовать в следующих контекстах:

* **Персональные приложения**: в личном приложении у пользователя Bot есть выделенная вкладка Chat.
* **Беседа одним** из следующих пользователей: пользователь может инициировать частные беседы с помощью Bot. Это то же самое, что и использование программы Bot в личном приложении.
* **Групповой чат**: люди могут взаимодействовать с программой Bot в разделе chat, @mentioning с помощью ленты.
* **Канал**: люди могут взаимодействовать с роботом в канале. , @mentioning имя Bot в поле Создать. Помните, что в этом контексте Bot доступен для всей команды, а не только для канала.

### <a name="anatomy"></a>Составляющие

:::image type="content" source="../../assets/images/bots/bot-anatomy.png" alt-text="В примере показана структурная структура Bot." border="false":::

|Счетчик|Описание|
|----------|-----------|
|1|**Имя и значок приложения**|
|2 |**Вкладка "чат**": открывает пространство для взаимодействия с Bot (применяется только к личным приложениям).|
|3 |**Настраиваемые вкладки**: открывает другое содержимое, связанное с вашим приложением.|
|4 |**Сведения о вкладке**: отображение основных сведений о приложении.|
|5 |Подсистема **чата**: беседы в Bot используют платформу обмена сообщениями Teams.|
|6 |**Адаптивная карта**: Если в качестве ответов для ленты используются адаптивные карты, карточка занимает всю ширину пузырька.|
|7 |**Командное меню**: отображает стандартные команды ленты (определенные пользователем).

### <a name="command-menu"></a>Меню команд

Меню команд содержит список слов или фраз, на которые должен отвечать пользователь с помощью ленты. Меню команды отображается над полем "создание", когда кто-то работает с роботом. При выборе команды она вставляется в сообщение.

Список команд должен быть кратким. Меню предназначено только для выделения основных компонентов для ленты. Отследите, чтобы команды были краткими. Например, вместо того, **чтобы помочь вам**, создайте команду **Help** (Справка).
Меню команд всегда должно быть доступно независимо от состояния беседы.

:::image type="content" source="../../assets/images/bots/bot-command-menu.png" alt-text="В примере показана Командная меню Bot." border="false":::

## <a name="understand-what-people-are-saying"></a>Сведения о том, что говорят люди

Используйте тезаурус и получайте людей от максимально возможного количества фоновых рисунков, чтобы вы могли создавать различные интерпретации стандартных запросов.

:::row:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-understanding-hello.png" alt-text="Иллюстрация, на которой показано, как Bot может интерпретировать &quot;Hello&quot;." border="false":::
   :::column-end:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-understanding-help.png" alt-text="Иллюстрация, на которой показано, как робот может интерпретировать &quot;Help&quot;." border="false":::
   :::column-end:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-understanding-thanks.png" alt-text="Иллюстрация, на которой показано, как с помощью Bot можно интерпретировать &quot;Спасибо&quot;." border="false":::
   :::column-end:::
:::row-end:::

### <a name="extract-intent-and-data-from-messages"></a>Извлечение намерения и данных из сообщений

Разработайте Bot для распознавания намерения, в результате чего в ответе на сообщение или запрос записывается кто-то из них. Назначение классифицирует сообщение или запрос как одно действие с одним или несколькими объектами данных, на которые влияет действие. 

В приведенных ниже примерах описаны намерения пользователя и данные в сообщениях, отправляемых в Боты.

:::row:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-intent-1.png" alt-text="Пример, отображаемый в предложении &quot;Book a Flight to Сиэтл&quot;, цель пользователя — &quot;книга&quot;, а данные &quot;Москва&quot;." border="false":::
   :::column-end:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-intent-2.png" alt-text="Пример, отображаемый в предложении &quot;при открытии хранилища&quot;, цель пользователя — &quot;when&quot;, а данные — &quot;Open&quot;." border="false":::
   :::column-end:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-intent-3.png" alt-text="Пример, отображаемый в предложении &quot;планирование собрания на 1pm с Бобом в дистрибутиве&quot;, цель пользователя — &quot;планирование собрания&quot;, а данные — &quot;1pm&quot; и &quot;Bob в рассылке&quot;." border="false":::
   :::column-end:::
:::row-end:::

### <a name="analyze-and-improve"></a>Анализ и усовершенствование

Сведения о том, что говорят пользователи при разговоре с Bot. Это непрерывный, итеративный процесс, при котором пользовательская база растет в разных местах и организаций. Вы можете настроить распознавание языка и назначения языка для Bot с помощью средства понимания языка Майкрософт (Луис).

* [Общие сведения о Луис](https://docs.microsoft.com/azure/cognitive-services/luis/artificial-intelligence): сведения о том, как Луис использует AI для обеспечения естественного понимания языка (НЛУ) данных приложения.
* [Интеграция с Луис](https://www.luis.ai/): Добавление функций естественных языков в Bot без сложного процесса создания моделей машинного обучения.

## <a name="use-cases"></a>Варианты использования

### <a name="simple-queries"></a>Простые запросы

Боты может обеспечить точное соответствие запросу или группе связанных соответствий для упрощения устранения неоднозначности. Для связанных совпадений сгруппируйте контент с помощью карточки списка.

:::image type="content" source="../../assets/images/bots/bot-simple-query.png" alt-text="В примере показан простой запрос взаимодействия с роботом." border="false":::

### <a name="multi-turn-interactions"></a>Взаимодействие с несколькими переворотами

В то время как ваш робот может поддерживать полные запросы и вопросы, он также должен иметь возможность управлять несколькими интерактивными взаимодействиями. Ожидаемые дальнейшие действия значительно облегчают для людей весь рабочий процесс (а не предоставляя им исчерпывающий запрос).

В следующем примере Bot реагирует на каждое сообщение с вариантами, которые могут потребоваться далее.

:::image type="content" source="../../assets/images/bots/bot-multi-turn.png" alt-text="Пример многофакторного взаимодействия с Bot." border="false":::

### <a name="reach-out-to-users"></a>Доступ к пользователям

С помощью упреждающего обмена сообщениями Bot могут выполнять функции, которые отправляют уведомления, относящиеся к отдельному, групповому разговору или каналу с определенной частотой. С помощью ленты Bot можно отправить сообщение, когда в документе изменилось какое-либо изменение или закрыть рабочий элемент.

В следующем примере пользователь получает всплывающее уведомление о том, что в канале с сообщением Bot помещается в другом канале.

:::image type="content" source="../../assets/images/bots/bot-proactive-message-toast.png" alt-text="В примере показано всплывающее уведомление о неактивном обмене сообщениями с пользователем из другого канала." border="false":::

Теперь пользователь может прочитать сообщение из Bot-канала.

:::image type="content" source="../../assets/images/bots/bot-proactive-message.png" alt-text="Пример показывает, что пользователь просматривает упреждающее сообщение." border="false":::

### <a name="use-tabs-with-bots"></a>Использование вкладок с Боты

С помощью вкладки можно упростить использование ленты. Например, если ваш Bot может создавать рабочие элементы, было бы неплохо Показать все эти элементы в центральном расположении внутри вкладки. Подробнее о [проектировании вкладок](../../tabs/design/tabs.md).

:::image type="content" source="../../assets/images/bots/bot-with-tab.png" alt-text="В примере показано, как можно управлять контентом Bot с помощью вкладки." border="false":::

## <a name="manage-a-bot"></a>Управление Bot

Пользователи должны иметь возможность изменять параметры ленты. Вы можете предоставить эту функцию с помощью команд Bot, но обычно более эффективно включать все параметры в [модуль задач](../../task-modules-and-cards/task-modules/design-teams-task-modules.md) (как показано в следующем примере).

:::image type="content" source="../../assets/images/bots/manage-bot-task-module.png" alt-text="В примере показан модуль задачи для настройки параметров Bot." border="false":::

## <a name="best-practices"></a>Рекомендации

### <a name="content"></a>Содержимое

:::image type="content" source="../../assets/images/bots/bot-content-persona-do.png" alt-text="Пример, в котором показана рекомендуемая практика." border="false":::

#### <a name="do-establish-a-clear-persona"></a>Do: создание понятного пользователя

Является ли ваш Bot понятным и светлым, "только факты", или очень тонкой? Как он должен реагировать в различных сценариях? Планирование и документирование персонажа пользователя с пользовательским роботом упрощает написание откликов, которые кажутся естественными и взаимосвязаны.

Дополнительные сведения о написании для боты можно найти в <a href="https://www.figma.com/community/file/916836509871353159" target="_blank">наборе элементов Microsoft Teams Kit (фигма).</a>

:::row:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-content-convey-do.png" alt-text="Пример, в котором показана рекомендуемая практика." border="false":::

#### <a name="do-clearly-convey-what-your-bot-can-do"></a>Сделать: ясно укажите действия, которые может выполнять Bot

Приветственные сообщения и обзоры помогают людям узнать, что можно делать с помощью программы Bot.

   :::column-end:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-content-convey-dont.png" alt-text="Пример, в котором показана рекомендуемая практика." border="false":::

#### <a name="dont-obscure-your-bots-features"></a>Не закрывать функции для ленты.

Первое впечатление. Пользователи, скорее всего, будут путать или подозрительны, если вы увидите сообщение для входа в нондескрипт.

   :::column-end:::
:::row-end:::

:::row:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-content-understand-do.png" alt-text="Пример, в котором показана рекомендуемая практика." border="false":::

#### <a name="do-recognize-non-questions"></a>Do: распознать несвязанные вопросы

Ваш робот должен иметь возможность отвечать на такие сообщения, как "Привет", "Справка" и "Спасибо", а также учет типичных ошибок и коллокуиалисмс.

   :::column-end:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-content-understand-dont.png" alt-text="Пример, в котором показана рекомендуемая практика." border="false":::

#### <a name="dont-miss-out-on-opportunities-to-delight"></a>Не: пропустите возможности сведения

Некоторые люди ожидают, что беседы работают естественным образом с реальным человеком. Постарайтесь избежать ответов клумси на простые сообщения.

   :::column-end:::
:::row-end:::

### <a name="troubleshooting"></a>Устранение неполадок

:::row:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-help-do.png" alt-text="Пример, в котором показана рекомендуемая практика." border="false":::

#### <a name="do-provide-help"></a>Do: предоставление справки

Если ваш робот не может удовлетворить запрос, предоставьте пользователю способы взаимодействия с роботом.

   :::column-end:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-help-dont.png" alt-text="Пример, в котором показана рекомендуемая практика." border="false":::

#### <a name="dont-leave-users-stranded"></a>Не: оставляйте потерянных пользователей

Пользователи смогут быстро отказаться от работы с роботом, если они не могут устранить неполадки.

   :::column-end:::
:::row-end:::

### <a name="complex-interactions"></a>Сложные взаимодействия

:::row:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-interactions-do.png" alt-text="Пример, в котором показана рекомендуемая практика." border="false":::

#### <a name="do-use-task-modules-or-tabs"></a>Do: использование модулей задач или вкладок

Если у ленты есть ответ, требующий еще несколько действий, можно создать ссылку на модуль задачи или вкладку для завершения задачи или процесса.

   :::column-end:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-interactions-dont.png" alt-text="Пример, в котором показана рекомендуемая практика." border="false":::

#### <a name="dont-make-multi-turn-interactions-tedious"></a>Не: утомительные взаимодействия с несколькими переворотами

Обширная беседа для выполнения одной задачи очень мала и слишком сложна. Кроме того, необходимо, чтобы разработчик заменил изменения состояний (например, время ожидания беседы или отправка сообщения "Отмена").

   :::column-end:::
:::row-end:::

### <a name="privacy"></a>Конфиденциальность

:::row:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-privacy-do.png" alt-text="Пример, в котором показана рекомендуемая практика." border="false":::

#### <a name="do-only-show-sensitive-info-in-a-personal-context"></a>Do: показывать только конфиденциальные данные в личном контексте

Если в качестве ленты используется групповой чат или канал, рекомендуется направить пользователей в частное расположение (например, модуль задачи, вкладку или браузер) для просмотра конфиденциальной информации.

   :::column-end:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-privacy-dont.png" alt-text="Пример, в котором показана рекомендуемая практика." border="false":::

#### <a name="dont-some-content-isnt-meant-to-be-seen-by-everyone"></a>Не так: часть контента не должна отображаться для всех пользователей

Ваш робот не должен раскрывать конфиденциальную информацию группе людей.

   :::column-end:::
:::row-end:::

## <a name="learn-more"></a>Дополнительные сведения

Следующие рекомендации могут помочь вам в работе с Bot:

* [Разработка личного приложения](../../concepts/design/personal-apps.md)
* [Разработка адаптивных карточек](../../task-modules-and-cards/cards/design-effective-cards.md)
* [Разработка модулей задач](../../task-modules-and-cards/task-modules/design-teams-task-modules.md)

## <a name="validate-your-design"></a>Проверка проекта

Если вы планируете опубликовать свое приложение в AppSource, следует изучить проблемы, которые обычно приводят к сбою приложений во время отправки.

> [!div class="nextstepaction"]
> [Проверка рекомендаций по проверке макета](../../concepts/deploy-and-publish/appsource/prepare/frequently-failed-cases.md#validation-guidelines--most-failed-test-cases)
