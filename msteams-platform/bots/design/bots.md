---
title: Создание бота
description: Узнайте, как создать бот Teams, и получите комплект разработчика для пользовательского интерфейса Microsoft Teams.
author: heath-hamilton
ms.topic: conceptual
localization_priority: Normal
ms.author: lajanuar
ms.openlocfilehash: a52aa742d51ab637b850d8c55b15ab1305566e35
ms.sourcegitcommit: 306b6e8cb3aac8bfda10ef3999467a797d64539d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/20/2021
ms.locfileid: "58408673"
---
# <a name="designing-your-microsoft-teams-bot"></a>Создание бота Microsoft Teams

Боты — это приложения для бесед, которые выполняют определенный набор задач. Построенные на основе <a href="https://dev.botframework.com/" target="_blank">Microsoft Bot Framework</a>боты общаются с пользователями, отвечают на их вопросы и заблаговременно уведомляют их об изменениях и других событиях. Это отличный способ связи с пользователями.

> [!IMPORTANT]
> Боты доступны в облако сообщества для государственных организаций (GCC) средах, но не GCC среде high and Department of Defense (DoD).

Далее описано и показано, как люди могут добавлять ботов, использовать их и управлять ими в Teams. Это может помочь вам в создании приложения.

## <a name="microsoft-teams-ui-kit"></a>Комплект разработчика для пользовательского интерфейса Microsoft Teams

В комплекте разработчика для пользовательского интерфейса Microsoft Teams можно найти более полные рекомендации по проектированию ботов, в том числе элементы, которые можно взять и изменить так, как нужно вам.

> [!div class="nextstepaction"]
> [Получить комплект разработчика для пользовательского интерфейса Microsoft Teams (Figma)](https://www.figma.com/community/file/916836509871353159)

## <a name="add-a-bot"></a>Добавить бота

Боты доступны в чатах, каналах и личных приложениях.

### <a name="mobile"></a>Мобильные устройства

Пользователи могут получать доступ к ботам, добавленным на рабочем столе с помощью @mention.

:::image type="content" source="../../assets/images/bots/mobile-access-bot-chat-at-mention.png" alt-text="В примере показано, как получить доступ к мобильному боту в групповом чате с помощью @mention." border="false":::

### <a name="desktop"></a>Рабочий стол

Пользователи могут добавить бот один из следующих способов:

* В магазине Teams.
* Использовать всплывающее окно приложения. Для этого выберите значок **Дополнительные** в левой части экрана Teams.
* С помощью @упоминания в новом чате или поле "Создать" (в следующем примере показано, как это можно сделать в групповом чате).

    :::image type="content" source="../../assets/images/bots/add-bot-chat-at-mention.png" alt-text="В примере показано, как добавить бота в групповой чат с помощью @упоминания." border="false":::

## <a name="introduce-a-bot"></a>Представление бота

Очень важно, чтобы бот сам себя представлял и объяснял, что он умеет делать. Первоначальный обмен репликами с ботом помогает пользователям понять, что с ним делать, узнать его ограничения и, что самое важное, освоиться с ним.

### <a name="welcome-message-in-a-one-on-one-chat"></a>Приветствие в чате один на один

В личных контекстах приветствия задают тон бота. В сообщении содержится приветствие, то, что бот может сделать, и некоторые предложения по взаимодействию. Например, "Попробуйте спросить меня о ...". По возможности эти предложения должны возвращать готовые ответы, чтобы пользователю не обязательно было входить в систему.

#### <a name="mobile"></a>Мобильные устройства

:::image type="content" source="../../assets/images/bots/mobile-bot-personal-welcome.png" alt-text="В примере показано введение бота в личном приложении на мобильных устройствах." border="false":::

#### <a name="desktop"></a>Рабочий стол

:::image type="content" source="../../assets/images/bots/bot-personal-welcome.png" alt-text="В примере показано представление бота в личном приложении." border="false":::

### <a name="welcome-message-in-channels-and-group-chats"></a>Приветствие в каналах и групповых чатах

Введение бота должно немного отличаться в каналах и групповых чатах по сравнению с личным пространством (например, личным приложением). В реальной жизни, войдя в комнату, заполненную людьми, вы бы не стали приветствовать тех, кто там уже находится; вместо этого вы бы представились. То же самое надо воплотить в конструкции бота.

#### <a name="mobile"></a>Мобильные устройства

:::image type="content" source="../../assets/images/bots/mobile-bot-group-welcome.png" alt-text="В примере показано введение бота в контексте совместной работы на мобильных устройствах." border="false":::

#### <a name="desktop"></a>Рабочий стол

:::image type="content" source="../../assets/images/bots/bot-group-welcome.png" alt-text="В примере показано представление бота в контексте совместной работы." border="false":::

### <a name="bot-authentication-with-single-sign-on"></a>Проверка подлинности бота при едином входе

Когда человек посылает сообщение боту, для использования всех функций бота человеку может потребоваться войти в систему. Вы можете упростить процесс проверки подлинности, используя единый вход.

Не забывайте: в командном меню бота (**Что я умею делать?**) необходимо также предоставить команду для выхода из системы.

#### <a name="mobile"></a>Мобильные устройства

:::image type="content" source="../../assets/images/bots/mobile-bot-sso-example.png" alt-text="В примере показан бот с кнопкой вход на мобильный телефон." border="false":::

#### <a name="desktop"></a>Рабочий стол

:::image type="content" source="../../assets/images/bots/bot-sso-example.png" alt-text="В примере показан бот с кнопкой для входа в систему." border="false":::

### <a name="tours"></a>Обзоры

Вы можете включить обзорное видео с приветствиями и указать, отвечает ли бот на что-нибудь вроде команды "справка". Обзор — самый эффективный способ описать, что может сделать бот. Если применимо, они также отлично подходит для описания других функций приложения. Например, включите скриншоты расширения обмена сообщениями.

> [!IMPORTANT]
> Обзоры должны быть доступны пользователям без входа в систему.

### <a name="one-on-one-chats"></a>Чаты один на один

В личном приложении карусель может предоставить эффективный обзор бота и любых других функций приложения. Рекомендуется включить кнопки, которые пользователи могут попробовать команды ботов. Например, **создание задачи.**

#### <a name="mobile"></a>Мобильные устройства

:::image type="content" source="../../assets/images/bots/mobile-bot-tour-personal.png" alt-text="В примере показана экскурсия по ботам в чате один на один на мобильном телефоне." border="false":::

#### <a name="desktop"></a>Рабочий стол

:::image type="content" source="../../assets/images/bots/bot-tour-personal.png" alt-text="В примере показан видеообзор бота в чате с одним человеком." border="false":::

### <a name="channels-and-group-chats"></a>Каналы и групповые чаты

В каналах и групповых чатах видеообзор должен открываться в модальном режиме (также известном как [модуль задач](../../task-modules-and-cards/task-modules/design-teams-task-modules.md) чтобы не прерывать текущие беседы. Это также дает возможность реализовать в обзоре представления на основе ролей.

#### <a name="mobile"></a>Мобильные устройства

:::image type="content" source="../../assets/images/bots/mobile-bot-tour-channel.png" alt-text="В примере показана экскурсия бота в канале на мобильных устройствах." border="false":::

#### <a name="desktop"></a>Рабочий стол

:::image type="content" source="../../assets/images/bots/bot-tour-channel.png" alt-text="В примере показан видеообзор бота в канале." border="false":::

## <a name="chat-with-a-bot"></a>Чат с ботом

Боты интегрируются непосредственно в структуру обмена сообщениями Teams. Пользователи могут общаться с ботом, чтобы получать ответы на свои вопросы, или вводить с клавиатуры команды, чтобы бот выполнял узкий или определенный набор задач. Боты могут заблаговременно уведомлять пользователей об изменениях или обновлениях приложения через чат.

### <a name="chat-with-a-bot-in-different-contexts"></a>Чат с ботом в разных контекстах

Ботов можно использовать в следующих контекстах:

* **Личные приложения**. В личном приложении у бота есть специальная вкладка чата.
* **Приватный чат**: пользователь может начать приватную беседу с ботом. Это то же самое, что и использование бота в личном приложении.
* **Групповой чат**: люди могут взаимодействовать с ботом в групповом чате, @упоминая бота.
* **Канал**: люди могут взаимодействовать с ботом в канале. @упоминанием имени бота в поле "Создать". Помните, что в этом контексте бот доступен всей группе, а не только каналу.

### <a name="anatomy"></a>Анатомия

#### <a name="mobile"></a>Мобильные устройства

:::image type="content" source="../../assets/images/bots/mobile-bot-anatomy.png" alt-text="В примере показана структурная анатомия мобильного бота." border="false":::

|Счетчик|Описание|
|----------|-----------|
|1|**Имя и значок приложения**|
|2|**Вкладка чата**: открывает пространство для общения с ботом (только для личных приложений).|
|3|**Настраиваемые вкладки**: открывает другое содержимое, связанное с вашим приложением.|
|4 |**Пузырек чата**: беседы ботов используют структуру обмена сообщениями Teams.|
|5 |**Адаптивная карта.** Если ответы бота включают адаптивные карты, карта занимает полную ширину пузыря чата.|

#### <a name="desktop"></a>Рабочий стол

:::image type="content" source="../../assets/images/bots/bot-anatomy.png" alt-text="В примере показана структурная анатомия бота." border="false":::

|Счетчик|Описание|
|----------|-----------|
|1|**Имя и значок приложения**|
|2|**Вкладка чата**: открывает пространство для общения с ботом (только для личных приложений).|
|3|**Настраиваемые вкладки**: открывает другое содержимое, связанное с вашим приложением.|
|4 |**Сведения**: выводит на экран основные сведения о приложении.|
|5 |**Пузырек чата**: беседы ботов используют структуру обмена сообщениями Teams.|
|6 |**Адаптивная карта.** Если ответы бота включают адаптивные карты, карта занимает полную ширину пузыря чата.|
|7 |**Меню команд**: отображает стандартные команды бота (определенные вами).|

### <a name="command-menu"></a>Меню команд

В командном меню содержится список слов или фраз, на которые бот должен отвечать всегда. Меню команд отображается над полем "Создать", когда кто-нибудь беседует с ботом. При выборе команды она вставляется в сообщение.

Список команд должен быть кратким. Меню предназначено только для выделения основных функций бота. Команды также должны быть краткими. Например, создайте команду **Помоги** вместо **Вы бы не могли мне помочь?**

Меню команд должно всегда быть доступно независимо от состояния беседы.

:::image type="content" source="../../assets/images/bots/bot-command-menu.png" alt-text="В примере показано меню команд бота." border="false":::

## <a name="understand-what-people-are-saying"></a>Понимание того, что говорят люди

Используйте толковый словарь и попросите людей из разных слоев общества и с разным уровнем образования (столько, сколько удастся найти), чтобы помочь вам выработать различные интерпретации стандартных запросов.

:::row:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-understanding-hello.png" alt-text="Иллюстрация того, как бот может интерпретировать &quot;Привет&quot;." border="false":::
   :::column-end:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-understanding-help.png" alt-text="Иллюстрация того, как бот может интерпретировать &quot;Помоги&quot;." border="false":::
   :::column-end:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-understanding-thanks.png" alt-text="Иллюстрация того, как бот может интерпретировать &quot;Спасибо&quot;." border="false":::
   :::column-end:::
:::row-end:::

### <a name="extract-intent-and-data-from-messages"></a>Извлечение намерения и данных из сообщений

Разрабатывайте бот так, чтобы он умел понимать намерения, то есть понимать, чего хочет пользователь от бота в ответ на сообщение или запрос. Цель классифицирует сообщение или запрос как одно действие с одним или более объектами данных, на которые влияет это действие. 

В следующих примерах описаны намерения пользователя и данные в сообщениях, отправленных ботам:

:::row:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-intent-1.png" alt-text="В предложении &quot;Забронировать рейс в Сиэтл&quot; намерение пользователя — &quot;забронировать рейс&quot;, а данные — &quot;Сиэтл&quot;." border="false":::
   :::column-end:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-intent-2.png" alt-text="В предложении &quot;Когда открыт магазин&quot; намерение пользователя — &quot;когда&quot;, а данные — &quot;открыт&quot;." border="false":::
   :::column-end:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-intent-3.png" alt-text="В предложении &quot;Запланировать встречу с Бобом из отдела распространения на 13:00&quot;, намерение пользователя — &quot;запланировать встречу&quot;, а данные — &quot;13:00&quot; и &quot;Боб из отдела распространения&quot;." border="false":::
   :::column-end:::
:::row-end:::

### <a name="analyze-and-improve"></a>Анализируйте и совершенствуйте

Узнавайте, что говорят пользователи при чате с ботом. Это будет непрерывный итеративный процесс по мере роста пользовательской базы в разных расположениях и организациях. Оттачивать умение бота распознавать язык и намерения можно с помощью Microsoft Language Understanding (LUIS).

* [Понимание LUIS](/azure/cognitive-services/luis/artificial-intelligence). Узнайте, как LUIS использует ИИ для понимания естественного языка (NLU), чтобы оперировать данными приложения.
* [Интеграция с LUIS](https://www.luis.ai/). Вы можете добавлять боту возможности естественного языка, не создавая сложных моделей машинного обучения.

## <a name="use-cases"></a>Варианты использования

### <a name="simple-queries"></a>Простые запросы

Боты могут доставлять точное соответствие запросу или группе родственных соответствий, чтобы устранить двойственность. Для получения родственных соответствий группируйте содержимое с помощью карточки списка.

#### <a name="mobile"></a>Мобильные устройства

:::image type="content" source="../../assets/images/bots/mobile-bot-simple-query.png" alt-text="В примере показано простое взаимодействие запроса с ботом на мобильных устройствах." border="false":::

#### <a name="desktop"></a>Рабочий стол

:::image type="content" source="../../assets/images/bots/bot-simple-query.png" alt-text="В примере показано взаимодействие с ботом для выполнения простого запроса." border="false":::

### <a name="multi-turn-interactions"></a>Взаимодействие с несколькими поворотами

Бот может поддерживать выполнение запросов и отвечать вопросы, но он также должен уметь обрабатывать взаимодействия с несколькими поворотами. Если бот предугадывает возможные дальнейшие действия пользователя, людям будет намного проще выполнить задание. Для них это легче, чем сразу составить сложный запрос.

В следующих примерах бот отвечает на каждое сообщение с вариантами того, что может потребоваться сделать дальше.

#### <a name="mobile"></a>Мобильные устройства

:::image type="content" source="../../assets/images/bots/mobile-bot-multi-turn.png" alt-text="В примере показано многоступенчатое взаимодействие с ботом на мобильных устройствах." border="false":::

#### <a name="desktop"></a>Рабочий стол

:::image type="content" source="../../assets/images/bots/bot-multi-turn.png" alt-text="В примере показано взаимодействие с ботом с несколькими поворотами." border="false":::

### <a name="reach-out-to-users"></a>Инициируйте общение с пользователями

С помощью проактивных сообщений бот может действовать как дайджест, который с определенной периодичностью отправляет уведомления, актуальные для отдельного лица, группового чата или канала. Бот может отправить сообщение, если что-то изменилось в документе или когда завершено рабочее задание.

#### <a name="mobile"></a>Мобильные устройства

В следующем примере пользователь получает уведомление о том, что бот передает их в другом канале.

:::image type="content" source="../../assets/images/bots/mobile-bot-proactive-message-toast.png" alt-text="В примере показан тост бота, который активно передает сообщения пользователю из другого канала на мобильных устройствах." border="false":::

Теперь в этом канале пользователь может прочитать свое сообщение от бота.

:::image type="content" source="../../assets/images/bots/mobile-bot-proactive-message.png" alt-text="В примере показано, как пользователь смотрит на проактивное сообщение бота на мобильных устройствах." border="false":::

#### <a name="desktop"></a>Рабочий стол

В следующем примере пользователь получает всплывающее уведомление о том, что бот передает им сообщения в другом канале.

:::image type="content" source="../../assets/images/bots/bot-proactive-message-toast.png" alt-text="В примере показано всплывающее уведомление бота, который проактивно посылает сообщение пользователю из другого канала." border="false":::

Теперь в этом канале пользователь может прочитать свое сообщение от бота.

:::image type="content" source="../../assets/images/bots/bot-proactive-message.png" alt-text="В примере показано, как пользователь смотрит на проактивные сообщения бота." border="false":::

### <a name="use-tabs-with-bots"></a>Использование вкладок с ботами

В личных приложениях вкладка может дополнять то, что может сделать бот. Например, если бот может создавать рабочие элементы, хорошо показать все эти элементы в центре расположения на вкладке. Дополнительные новости о [разработке вкладок](../../tabs/design/tabs.md).

#### <a name="mobile"></a>Мобильные устройства

:::image type="content" source="../../assets/images/bots/mobile-bot-with-tab.png" alt-text="В примере показано, как вкладка может помочь организовать содержимое бота на мобильных устройствах." border="false":::

#### <a name="desktop"></a>Рабочий стол

:::image type="content" source="../../assets/images/bots/bot-with-tab.png" alt-text="В примере показано, как вкладка помогает упорядочизировать содержимое бота." border="false":::

## <a name="manage-a-bot"></a>Управление ботом

Пользователи должны иметь возможность менять настройки бота. Эту функцию можно предоставить с помощью команд бота, но обычно эффективнее включать все параметры в [модуль задач](../../task-modules-and-cards/task-modules/design-teams-task-modules.md) (как показано в следующем примере).

:::image type="content" source="../../assets/images/bots/manage-bot-task-module.png" alt-text="В примере показан модуль задач для настройки параметров бота." border="false":::

## <a name="best-practices"></a>Рекомендации

Используйте эти рекомендации для создания качественных приложений.

### <a name="content"></a>Контент

:::image type="content" source="../../assets/images/bots/bot-content-persona-do.png" alt-text="Пример, показывающий лучшую практику бота для создания четкого человека." border="false":::

#### <a name="do-establish-a-clear-persona"></a>Как надо: создать отчетливо выраженную личность

Как держится ваш бот? Разговаривает двружелюбно и легко? Сухо излагает факты? А может, он со странностями? Как он должен реагировать в различных сценариях? Если вы заранее продумаете и документируете личность бота, вам будет проще написать для него ответы, звучащие естественно и связно.

Узнайте больше о написании ботов в статье <a href="https://www.figma.com/community/file/916836509871353159" target="_blank">Комплект разработчика пользовательских интерфейсов Microsoft Teams (Figma).</a>

:::row:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-content-convey-do.png" alt-text="Пример, показывающий четкое отображение того, что может сделать бот." border="false":::

#### <a name="do-clearly-convey-what-your-bot-can-do"></a>Как надо: четко обозначьте, что умеет делать ваш бот

Приветствия и обзоры помогают пользователям понять, что они могут делать с вашим ботом.

   :::column-end:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-content-convey-dont.png" alt-text="Пример, показывающий, что функции бота не заслонятся." border="false":::

#### <a name="dont-obscure-your-bots-features"></a>Как не надо: скрывать функции бота

Первые впечатления очень важны. Увидев ничего не говорящее сообщение о входе, люди, скорее всего, растеряются или заподозрят неладное.

   :::column-end:::
:::row-end:::

:::row:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-content-understand-do.png" alt-text="Пример, показывающий, что бот должен распознавать не вопросы." border="false":::

#### <a name="do-recognize-non-questions"></a>Как надо: распознавать вопросы, которые не являются вопросами

Бот должен уметь отвечать на такие сообщения, как "Привет", "Помоги" и "Спасибо", а также вносить поправки на распространенные опечатки и разговорные выражения.

   :::column-end:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-content-understand-dont.png" alt-text="Пример, показывающий, что следует избегать неуклюжих ответов на простые сообщения ботов." border="false":::

#### <a name="dont-miss-out-on-opportunities-to-delight"></a>Как не надо: не упускайте случая порадовать пользователей

Некоторые люди ожидают, что беседы с ботом будут идти естественно, совсем как с живым человеком. Постарайтесь избежать неуклюжих ответов на простые сообщения.

   :::column-end:::
:::row-end:::

### <a name="troubleshooting"></a>Устранение неполадок

:::row:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-help-do.png" alt-text="Пример, в котором показаны боты, должен помочь пользователям понять, как использовать ботов." border="false":::

#### <a name="do-provide-help"></a>Как надо: предоставляйте помощь

Если ваш бот не может выполнить запрос, дайте пользователю возможность научиться взаимодействию с ботом.

   :::column-end:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-help-dont.png" alt-text="Пример, показывающий, что пользователь бота не должен прядить пользователей." border="false":::

#### <a name="dont-leave-users-stranded"></a>Как не надо: не бросайте пользователей в беде

Люди быстро перестанут общаться с ботом, если не смогут устранить его неполадки.

   :::column-end:::
:::row-end:::

### <a name="complex-interactions"></a>Сложные взаимодействия

:::row:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-interactions-do.png" alt-text="Пример, показывающий, что вы можете использовать модули задач или вкладки с ботом для сложных взаимодействий." border="false":::

#### <a name="do-use-task-modules-or-tabs"></a>Как надо: используйте модули задач или вкладки

Если бот предоставляет ответ, требующий выполнения еще нескольких действий, вы можете для завершения действия или последовательности действий предоставить ссылку на модуль задач или вкладку.

   :::column-end:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-interactions-dont.png" alt-text="Пример, показывающий, как бот должен избегать многовекового взаимодействия." border="false":::

#### <a name="dont-make-multi-turn-interactions-tedious"></a>Как не надо: не делайте взаимодействие с несколькими поворотами утомительными

Если пользователю для выполнения одной задачи приходится вести пространные беседы, это слишком долго и сложно. Кроме того, разработчик должен учитывать изменения состояния (например, когда время беседы истекло или пользователь отправил сообщение "Отмена").

   :::column-end:::
:::row-end:::

### <a name="privacy"></a>Конфиденциальность

:::row:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-privacy-do.png" alt-text="Пример, показывающий, как боты должны показывать закрытые сведения только в личном контексте." border="false":::

#### <a name="do-only-show-sensitive-info-in-a-personal-context"></a>Как надо: показывать конфиденциальную информацию только в личном контексте

Если бот находится в групповом чате или канале, для просмотра конфиденциальной информации рекомендуется направлять пользователей в приватное расположение (например, модуль задач, вкладку или браузер).

   :::column-end:::
   :::column span="":::
:::image type="content" source="../../assets/images/bots/bot-privacy-dont.png" alt-text="Пример, показывающий, как боты не должны раскрывать конфиденциальные сведения группе или людям." border="false":::

#### <a name="dont-some-content-isnt-meant-to-be-seen-by-everyone"></a>Как не надо: некоторые данные предназначены не для всех

Бот не должен раскрывать конфиденциальную информацию группе людей.

   :::column-end:::
:::row-end:::

## <a name="see-also"></a>См. также

Вот еще рекомендации, которые могут быть полезными при разработке бота:

* [Проектирование личного приложения](../../concepts/design/personal-apps.md)
* [Проектирование адаптивной карточки](../../task-modules-and-cards/cards/design-effective-cards.md)
* [Проектирование модулей задач](../../task-modules-and-cards/task-modules/design-teams-task-modules.md)
