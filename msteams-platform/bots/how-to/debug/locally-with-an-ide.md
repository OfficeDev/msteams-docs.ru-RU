---
title: Тестирование и отладка ленты на локальном компьютере
author: clearab
description: Тестирование и отладка ленты в локальной среде с интегрированной средой разработки
ms.topic: overview
ms.author: anclear
ms.openlocfilehash: 8494302b41e33910cb33f8c6889d82505b703577
ms.sourcegitcommit: 4329a94918263c85d6c65ff401f571556b80307b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/01/2020
ms.locfileid: "41675301"
---
# <a name="test-and-debug-your-bot-locally"></a><span data-ttu-id="a5ede-103">Тестирование и отладка ленты на локальном компьютере</span><span class="sxs-lookup"><span data-stu-id="a5ede-103">Test and debug your bot locally</span></span>

<span data-ttu-id="a5ede-104">При тестировании программы Bot необходимо принимать во внимание как те контексты, в которых должен работать Bot, так и любые функциональные возможности, которые могут быть добавлены в систему робота, требующие данных, относящихся к Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="a5ede-104">When testing your bot you need to take into consideration both the context(s) you want your bot to run in, as well as any functionality you may have added to your bot that requires data specific to Microsoft Teams.</span></span> <span data-ttu-id="a5ede-105">Убедитесь, что метод, выбранный для проверки поправки ленты, соответствует функциональным возможностям.</span><span class="sxs-lookup"><span data-stu-id="a5ede-105">Make sure that the method you chose to test your bot aligns with its functionality.</span></span>

## <a name="test-by-uploading-to-teams"></a><span data-ttu-id="a5ede-106">Тестирование при отправке в Teams</span><span class="sxs-lookup"><span data-stu-id="a5ede-106">Test by uploading to Teams</span></span>

<span data-ttu-id="a5ede-107">Наиболее полный способ тестирования программы Bot заключается в создании пакета приложения и его отправке в Teams.</span><span class="sxs-lookup"><span data-stu-id="a5ede-107">The most comprehensive way to test your bot is by creating an app package and uploading it to Teams.</span></span> <span data-ttu-id="a5ede-108">Это единственный способ протестировать все функции, доступные в интерфейсе Bot, во всех областях.</span><span class="sxs-lookup"><span data-stu-id="a5ede-108">This is the only method to test the full functionality available to your bot, across all scopes.</span></span>

<span data-ttu-id="a5ede-109">Существует два метода отправки приложения.</span><span class="sxs-lookup"><span data-stu-id="a5ede-109">There are two methods for uploading your app.</span></span> <span data-ttu-id="a5ede-110">Вы можете использовать [Приложение App Studio](~/concepts/build-and-test/app-studio-overview.md) , чтобы помочь вам, или вручную [создать пакет приложения](~/concepts/build-and-test/apps-package.md) и [отправить приложение](~/concepts/deploy-and-publish/apps-upload.md).</span><span class="sxs-lookup"><span data-stu-id="a5ede-110">You can either use [App Studio](~/concepts/build-and-test/app-studio-overview.md) to help you, or you can manually [create an app package](~/concepts/build-and-test/apps-package.md) and [upload your app](~/concepts/deploy-and-publish/apps-upload.md).</span></span> <span data-ttu-id="a5ede-111">Если требуется изменить манифест и повторно отправить приложение, необходимо [Удалить Bot](#deleting-a-bot-from-teams) перед отправкой измененного пакета приложений.</span><span class="sxs-lookup"><span data-stu-id="a5ede-111">If you need to alter your manifest and re-upload your app, you should [delete your bot](#deleting-a-bot-from-teams) before uploading your altered app package.</span></span>

## <a name="debug-your-bot-locally"></a><span data-ttu-id="a5ede-112">Отладка ленты на локальном компьютере</span><span class="sxs-lookup"><span data-stu-id="a5ede-112">Debug your bot locally</span></span>

<span data-ttu-id="a5ede-113">Если вы размещаете Bot на локальном этапе разработки, вам потребуется использовать службу туннелирования, такую как [ngrok](https://ngrok.com/) , чтобы протестировать ваш робот.</span><span class="sxs-lookup"><span data-stu-id="a5ede-113">If you are hosting your bot locally during development you'll need to use a tunneling service like [ngrok](https://ngrok.com/) in order to test your bot.</span></span> <span data-ttu-id="a5ede-114">После загрузки и установки ngrok выполните приведенную ниже команду, чтобы запустить службу туннелирования (возможно, потребуется добавить ngrok в ваш путь).</span><span class="sxs-lookup"><span data-stu-id="a5ede-114">Once you've downloaded and installed ngrok, run the below command to start the tunneling service (you may need to add ngrok to your path).</span></span>

```bash
ngrok http <port> -host-header=localhost:<port>
```

<span data-ttu-id="a5ede-115">Используйте конечную точку HTTPS, предоставленную ngrok, в манифесте приложения.</span><span class="sxs-lookup"><span data-stu-id="a5ede-115">Use the https endpoint provided by ngrok in your app manifest.</span></span> <span data-ttu-id="a5ede-116">Если вы закроете командное окно и перезапуститее, вы получите новый URL-адрес, и вам потребуется обновить адрес конечной точки ленты, чтобы использовать ее.</span><span class="sxs-lookup"><span data-stu-id="a5ede-116">If you close your command window and restart you'll get a new URL, and you'll need to update your bot endpoint address to use that one as well.</span></span>

## <a name="testing-your-bot-without-uploading-to-teams"></a><span data-ttu-id="a5ede-117">Тестирование ленты без отправки в Teams</span><span class="sxs-lookup"><span data-stu-id="a5ede-117">Testing your bot without uploading to Teams</span></span>

<span data-ttu-id="a5ede-118">Иногда может потребоваться тестирование программы Bot, не устанавливая ее как приложение в Teams.</span><span class="sxs-lookup"><span data-stu-id="a5ede-118">Occasionally it may be necessary to test your bot without installing it as an app in Teams.</span></span> <span data-ttu-id="a5ede-119">Мы предоставляем два способа, описанных ниже.</span><span class="sxs-lookup"><span data-stu-id="a5ede-119">We provide two methods for doing so below.</span></span> <span data-ttu-id="a5ede-120">Тестирование программы-робота без ее установки в качестве приложения может пригодиться для обеспечения доступности и ответа ленты, но не позволит вам протестировать все функции Microsoft Teams, которые могут быть добавлены в систему.</span><span class="sxs-lookup"><span data-stu-id="a5ede-120">Testing your bot without installing it as an app can be useful to ensure your bot is available and responding, however it will not allow you to test the full breadth of Microsoft Teams functionality you may have added to your bot.</span></span> <span data-ttu-id="a5ede-121">Если вам нужно полностью протестировать робот, следуйте инструкциям по [тестированию, выполнив отправку](#test-by-uploading-to-teams).</span><span class="sxs-lookup"><span data-stu-id="a5ede-121">If you need to fully test your bot, please follow the instructions for [testing by uploading](#test-by-uploading-to-teams).</span></span>

### <a name="use-the-bot-emulator"></a><span data-ttu-id="a5ede-122">Использование эмулятора ленты</span><span class="sxs-lookup"><span data-stu-id="a5ede-122">Use the Bot Emulator</span></span>

<span data-ttu-id="a5ede-123">Эмулятор ленты Bot является классом для настольных ПК, который позволяет разработчикам-роботам тестировать и отлаживать свои Боты, как локально, так и удаленно.</span><span class="sxs-lookup"><span data-stu-id="a5ede-123">The Bot Framework Emulator is a desktop application that allows bot developers to test and debug their bots, either locally or remotely.</span></span> <span data-ttu-id="a5ede-124">С помощью эмулятора можно общаться с программой Bot и проверять сообщения, отправляемые и получаемые с помощью ленты.</span><span class="sxs-lookup"><span data-stu-id="a5ede-124">Using the emulator, you can chat with your bot and inspect the messages that your bot sends and receives.</span></span> <span data-ttu-id="a5ede-125">Это может быть полезно для проверки доступности ленты и реагирования на них, но эмулятор не позволит вам протестировать все функции, которые вы добавили в интерфейс пользователя, а также не отправит ответ от робота к точному визуальному представлению того, как они будут отображаться в Teams.</span><span class="sxs-lookup"><span data-stu-id="a5ede-125">This can be useful for verifying that your bot is available and responding, however the emulator will not allow you to test any Teams-specific functionality you've added to your bot, nor will responses from your bot be an accurate visual representation of how they will be rendered in Teams.</span></span> <span data-ttu-id="a5ede-126">Если вам нужно протестировать любую из этих возможностей, лучше всего [загрузить робот](#test-by-uploading-to-teams).</span><span class="sxs-lookup"><span data-stu-id="a5ede-126">If you need to test either of those things it is best to [upload your bot](#test-by-uploading-to-teams).</span></span>

<span data-ttu-id="a5ede-127">Полные инструкции на эмуляторе Bot Framework можно найти [здесь](/azure/bot-service/bot-service-debug-emulator?view=azure-bot-service-4.0).</span><span class="sxs-lookup"><span data-stu-id="a5ede-127">Complete instructions on the Bot Framework Emulator can be found [here](/azure/bot-service/bot-service-debug-emulator?view=azure-bot-service-4.0).</span></span>

### <a name="talk-to-your-bot-directly-by-id"></a><span data-ttu-id="a5ede-128">Обращение к Bot непосредственно по идентификатору</span><span class="sxs-lookup"><span data-stu-id="a5ede-128">Talk to your bot directly by Id</span></span>

>[!Important]
><span data-ttu-id="a5ede-129">Обращение к Bot по идентификатору предназначено только для основных целей тестирования.</span><span class="sxs-lookup"><span data-stu-id="a5ede-129">Talking to your bot by Id is intended for basic testing purposes only.</span></span> <span data-ttu-id="a5ede-130">Все функции, связанные с Teams, которые вы добавили в Bot, не будут работать.</span><span class="sxs-lookup"><span data-stu-id="a5ede-130">Any Teams-specific functionality you've added to your bot will not work.</span></span>

<span data-ttu-id="a5ede-131">Кроме того, вы можете начать беседу с роботом с помощью идентификатора. Ниже приведены два способа.</span><span class="sxs-lookup"><span data-stu-id="a5ede-131">You can also initiate a conversation with your bot by using its Id. Two methods for doing so are given below.</span></span> <span data-ttu-id="a5ede-132">При добавлении ленты с помощью одного из этих методов он не будет поддерживаться в беседах канала, и вы не сможете использовать другие возможности приложений Microsoft Teams, такие как вкладки или расширения обмена сообщениями.</span><span class="sxs-lookup"><span data-stu-id="a5ede-132">When a bot has been added through one of these methods it will not be addressable in channel conversations, and you cannot take advantage of other Microsoft Teams app capabilities like tabs or messaging extensions.</span></span>

1. <span data-ttu-id="a5ede-133">На странице [панели мониторинга Bot](https://dev.botframework.com/bots) для ленты в разделе **каналы**выберите команду **Добавить в Microsoft Teams**.</span><span class="sxs-lookup"><span data-stu-id="a5ede-133">On the [Bot Dashboard](https://dev.botframework.com/bots) page for your bot, under **Channels**, select **Add to Microsoft Teams**.</span></span> <span data-ttu-id="a5ede-134">Microsoft Teams запустится с помощью персонального чата с помощью программы Bot.</span><span class="sxs-lookup"><span data-stu-id="a5ede-134">Microsoft Teams will launch with a personal chat with your bot.</span></span>
2. <span data-ttu-id="a5ede-135">Непосредственное обращение к ИДЕНТИФИКАТОРу приложения Bot в Microsoft teams:</span><span class="sxs-lookup"><span data-stu-id="a5ede-135">Directly reference your bot's app ID from within Microsoft Teams:</span></span>
   * <span data-ttu-id="a5ede-136">На странице [панели мониторинга Bot](https://dev.botframework.com/bots) для ленты в разделе **Details (сведения**) скопируйте **идентификатор приложения Microsoft** для ленты.</span><span class="sxs-lookup"><span data-stu-id="a5ede-136">On the [Bot Dashboard](https://dev.botframework.com/bots) page for your bot, under **Details**, copy the **Microsoft App ID** for your bot.</span></span>
  
     ![Извлечение AppID для Bot](~/assets/images/bots_appid_botframework.png)
  
   * <span data-ttu-id="a5ede-138">В области **чата** в Microsoft Teams выберите значок **Добавить чат** .</span><span class="sxs-lookup"><span data-stu-id="a5ede-138">From within Microsoft Teams, on the **Chat** pane, select the **Add chat** icon.</span></span> <span data-ttu-id="a5ede-139">**В папке кому:** вставьте идентификатор приложения для Bot.</span><span class="sxs-lookup"><span data-stu-id="a5ede-139">For **To:**, paste your bot's Microsoft App ID.</span></span>
  
     ![Извлечение AppID для Bot](~/assets/images/bots_uploading.png)

     <span data-ttu-id="a5ede-141">Идентификатор приложения должен разрешаться в имя пользователя Bot.</span><span class="sxs-lookup"><span data-stu-id="a5ede-141">The app ID should resolve to your bot name.</span></span>

   * <span data-ttu-id="a5ede-142">Выберите робота и отправьте сообщение, чтобы начать беседу.</span><span class="sxs-lookup"><span data-stu-id="a5ede-142">Select your bot and send a message to initiate a conversation.</span></span>
   * <span data-ttu-id="a5ede-143">Кроме того, вы можете вставить идентификатор приложения Bot в поле поиска в левом верхнем углу в Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="a5ede-143">Alternatively, you can paste your bot's app ID in the search box in the top left in Microsoft Teams.</span></span> <span data-ttu-id="a5ede-144">На странице результатов поиска перейдите на вкладку люди, чтобы увидеть свой робот и начать разговор с ним.</span><span class="sxs-lookup"><span data-stu-id="a5ede-144">In the search results page, navigate to the People tab to see your bot and to start chatting with it.</span></span>

<span data-ttu-id="a5ede-145">Ваш робот получит `conversationUpdate` событие, как боты, добавленный в команду, но без сведений о группе в `channelData` объекте.</span><span class="sxs-lookup"><span data-stu-id="a5ede-145">Your bot will receive the `conversationUpdate` event just like bots added to a team, but without the team information in the `channelData` object.</span></span>

## <a name="blocking-a-bot-in-personal-chat"></a><span data-ttu-id="a5ede-146">Блокировка ленты в личном чате</span><span class="sxs-lookup"><span data-stu-id="a5ede-146">Blocking a bot in personal chat</span></span>

<span data-ttu-id="a5ede-147">Обратите внимание, что пользователи могут блокировать отправку сообщений личного чата с ленты.</span><span class="sxs-lookup"><span data-stu-id="a5ede-147">Note that users can choose to block your bot from sending personal chat messages.</span></span> <span data-ttu-id="a5ede-148">Это можно сделать, щелкнув правой кнопкой мыши элемент Bot в канале чата и выбрав пункт **блокировать приразговор к началу ленты**.</span><span class="sxs-lookup"><span data-stu-id="a5ede-148">They may toggle this by right-clicking your bot in the chat channel and choosing **Block bot conversation**.</span></span> <span data-ttu-id="a5ede-149">Это означает, что ваш Боты будет продолжать отправлять сообщения, но пользователь не будет получать эти сообщения.</span><span class="sxs-lookup"><span data-stu-id="a5ede-149">This means your bots will continue to send messages but the user will not receive those messages.</span></span>

![Блокировка Bot](~/assets/images/bots/botdisable.png)

## <a name="removing-a-bot-from-a-team"></a><span data-ttu-id="a5ede-151">Удаление ленты из команды</span><span class="sxs-lookup"><span data-stu-id="a5ede-151">Removing a bot from a team</span></span>

<span data-ttu-id="a5ede-152">Пользователи могут удалить робота, выбрав значок корзины в списке боты в представлении Teams.</span><span class="sxs-lookup"><span data-stu-id="a5ede-152">Users can delete the bot by choosing the trash-can icon on the bots list in their teams view.</span></span> <span data-ttu-id="a5ede-153">Обратите внимание, что это только удаляет Bot из использования в этой команде; отдельные пользователи все еще смогут работать в личном контексте.</span><span class="sxs-lookup"><span data-stu-id="a5ede-153">Note that this only removes the bot from that team's use; individual users will still be able to interact in personal context.</span></span>

<span data-ttu-id="a5ede-154">Боты в личном контексте не может быть отключено или удалено пользователем. не удается полностью удалить Bot из Teams.</span><span class="sxs-lookup"><span data-stu-id="a5ede-154">Bots in personal context cannot be disabled or removed by a user, short of completely removing the bot from Teams.</span></span>

## <a name="disabling-a-bot-in-teams"></a><span data-ttu-id="a5ede-155">Отключение Bot в Teams</span><span class="sxs-lookup"><span data-stu-id="a5ede-155">Disabling a bot in Teams</span></span>

<span data-ttu-id="a5ede-156">Чтобы остановить получение сообщений от начала работы, перейдите на панель мониторинга Bot и измените канал Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="a5ede-156">To stop your bot receiving messages, go to your Bot Dashboard and edit the Microsoft Teams channel.</span></span> <span data-ttu-id="a5ede-157">Снимите флажок **включить в Microsoft Teams** .</span><span class="sxs-lookup"><span data-stu-id="a5ede-157">Clear the **Enable on Microsoft Teams** option.</span></span> <span data-ttu-id="a5ede-158">Это не позволяет пользователям взаимодействовать с Bot, но по-прежнему будет доступно для обнаружения и пользователи смогут добавить его в Teams.</span><span class="sxs-lookup"><span data-stu-id="a5ede-158">This prevents users from interacting with the bot, but it will still be discoverable and users will still be able to add it to teams.</span></span>

## <a name="deleting-a-bot-from-teams"></a><span data-ttu-id="a5ede-159">Удаление ленты из Teams</span><span class="sxs-lookup"><span data-stu-id="a5ede-159">Deleting a bot from Teams</span></span>

<span data-ttu-id="a5ede-160">Чтобы полностью удалить Bot из Teams, перейдите на панель управления Bot и измените канал Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="a5ede-160">To remove your bot completely from Teams, go to your Bot Dashboard and edit the Microsoft Teams channel.</span></span> <span data-ttu-id="a5ede-161">Нажмите кнопку **Удалить** в нижней части страницы.</span><span class="sxs-lookup"><span data-stu-id="a5ede-161">Choose the **Delete** button at the bottom.</span></span> <span data-ttu-id="a5ede-162">Это не позволяет пользователям обнаруживать, добавлять или взаимодействовать с роботом.</span><span class="sxs-lookup"><span data-stu-id="a5ede-162">This prevents users from discovering, adding, or interacting with your bot.</span></span> <span data-ttu-id="a5ede-163">Обратите внимание, что это не приводит к удалению ленты из экземпляров Teams других пользователей, хотя она перестанет работать и для них.</span><span class="sxs-lookup"><span data-stu-id="a5ede-163">Note that this does not remove the bot from other users' Teams instances, although it will cease functioning for them as well.</span></span>
