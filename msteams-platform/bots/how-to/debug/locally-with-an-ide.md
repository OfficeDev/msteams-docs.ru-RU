---
title: Тестирование и отлагивание бота локально
author: surbhigupta
description: Узнайте о тестировании и отладке бота локально с помощью IDE в Teams среде с помощью боковой загрузки, Teams с помощью эмулятора Bot и напрямую разговаривая с ботом.
ms.topic: overview
ms.localizationpriority: medium
ms.author: anclear
ms.openlocfilehash: 087c18998df0a24470da8059eb107343588c3aa0
ms.sourcegitcommit: a2d7d2bdf4b056b35f29c6fdb315bc7dc28b6f6f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/20/2021
ms.locfileid: "61569576"
---
# <a name="test-and-debug-your-bot-locally"></a>Тестирование и отлагивание бота локально

При тестировании бота необходимо учитывать как контексты, в которые требуется запустить бота, так и все функциональные возможности, которые вы могли добавить в бот, для чего требуются данные, Microsoft Teams. Убедитесь, что метод тестирования бота соответствует его функциональным возможностям.

## <a name="test-by-uploading-to-teams"></a>Проверьте, загрузив Teams

Наиболее полный способ тестирования бота — это создание пакета приложений и его загрузка в Teams. Это единственный способ тестирования всех функциональных возможностей, доступных вашему боту, во всех сферах.

Существует два метода для загрузки приложения:

* Используйте [App Studio](~/concepts/build-and-test/app-studio-overview.md).
* [Создайте пакет приложения](~/concepts/build-and-test/apps-package.md) вручную, а затем [загрузите приложение.](~/concepts/deploy-and-publish/apps-upload.md)

> [!NOTE]
> Чтобы изменить манифест и повторно загрузить приложение, [удалите](#delete-a-bot-from-teams) бот перед отправкой измененного пакета приложений.
> Чтобы протестировать бот, в Teams. См. [возможность загрузки побок.](/concepts/build-and-test/prepare-your-o365-tenant#enable-custom-teams-apps-and-turn-on-custom-app-uploading)

## <a name="debug-your-bot-locally"></a>Отламывка бота локально

Если во время разработки вы размещены локально, для тестирования бота необходимо использовать службу тоннелей, например [ngrok.](https://ngrok.com/) После загрузки и установки ngrok добавьте на свой путь и запустите следующую команду, `ngrok` чтобы запустить службу тоннелей:

```bash
ngrok http <port> -host-header=localhost:<port>
```

Используйте конечную точку https, предоставленную ngrok в манифесте приложения.

> [!NOTE]
> При закрытии окна команды и перезапуске создается новый URL-адрес, и для его использования необходимо обновить конечный адрес бота.

## <a name="test-your-bot-without-uploading-to-teams"></a>Тестирование бота без загрузки в Teams

Иногда может потребоваться протестировать бот, не установив его в качестве приложения в Teams. Мы предоставляем два метода тестирования бота. Тестирование бота без установки его в качестве приложения может быть полезным для обеспечения того, что бот доступен и отвечает, однако это не позволит вам проверить всю широту функциональных возможностей Microsoft Teams, которые вы, возможно, добавили в бот. Если вам нужно полностью протестировать бот, см. в этой ленте [тестирование, загрузив](#test-by-uploading-to-teams).

### <a name="use-the-bot-emulator"></a>Используйте бот-Emulator

The Bot Framework Emulator это настольное приложение, которое позволяет разработчикам-ботам тестировать и отлагировать их боты локально или удаленно. Эмулятор помогает вам общаться с ботом и проверять сообщения, которые отправляет и получает бот. Это может быть полезно для проверки того, что ваш бот доступен и отвечает. Однако эмулятор не позволяет проверить какие-либо функциональные возможности Teams которые вы добавили в бот, и ответы от бота не являются точным визуальным представлением того, как они отрисовываны в Teams. Если вам нужно проверить любой из этих вещей, лучше всего [загрузить бот](#test-by-uploading-to-teams).

Дополнительные сведения [см. в полных инструкциях по Bot Framework Emulator.](/azure/bot-service/bot-service-debug-emulator?view=azure-bot-service-4.0&preserve-view=true)

### <a name="talk-to-your-bot-directly-by-id"></a>Поговорите с ботом напрямую по ID

> [!Important]
> Беседа с ботом по ID предназначена только для основных целей тестирования. Все Teams, которые вы добавили в бот, не работают.

Вы также можете инициировать беседу с ботом с помощью его ID. Когда бот был добавлен с помощью одного из этих методов, он не может быть адресоварен в беседах с каналами, и вы не можете воспользоваться другими возможностями Microsoft Teams приложения, такими как вкладки или расширения обмена сообщениями. Вы можете инициировать беседу одним из следующих способов:

* На странице [Панель мониторинга](https://dev.botframework.com/bots) бота для бота в **статье Channels** выберите **Добавить Microsoft Teams**. Microsoft Teams запускает личный чат с ботом.

* Непосредственно ссылаться на ID приложения вашего бота из Microsoft Teams:
   1. На странице [Панель мониторинга бота](https://dev.botframework.com/bots) для бота в **статье Details** скопируйте **ID приложения Microsoft для** бота.
  
      ![Получение приложения для бота](~/assets/images/bots_appid_botframework.png)
  
   2. Откройте Microsoft Teams на области **чата** выберите значок **Добавить чат.** В **To:** вклейте iD Microsoft App вашего бота.
  
      ![Загрузка ботов](~/assets/images/bots_uploading.png)

      ID приложения должен разрешить имя бота.

   3. Выберите бот и отправьте сообщение для начала беседы.
      Кроме того, вы можете вклеить ID приложения вашего бота в поле поиска в верхнем левом Microsoft Teams. На странице результаты поиска перейдите на вкладку **People,** чтобы увидеть бота и начать с ним общаться в чате.

Ваш бот получает событие при добавлении ботов в команду без сведений о команде `conversationUpdate` в `channelData` объекте.

## <a name="block-a-bot-in-personal-chat"></a>Блокировка бота в личном чате

Пользователи могут заблокировать ваш бот от отправки личных сообщений чата. Они могут переметнуть это, щелкнув бот правой кнопкой мыши в канале чата и выбрав **блок-бот-беседу.** Это означает, что ваши боты продолжают отправлять сообщения, однако пользователь не получает сообщения.

![Блокировка бота](~/assets/images/bots/botdisable.png)

## <a name="remove-a-bot-from-a-team"></a>Удаление бота из группы

Пользователи могут удалить бот, выбрав значок корзины в списке ботов в представлении команды. Это только удаляет бот из использования этой группы, отдельные пользователи по-прежнему могут взаимодействовать в личном контексте. Боты в личном контексте не могут быть отключены или удалены пользователями.

## <a name="disable-a-bot-in-teams"></a>Отключить бот в Teams

Чтобы остановить получение сообщений ботом,  перейдите на панель мониторинга бота и отредактировать канал Microsoft Teams. Очистка **параметра Включить Microsoft Teams.** Это не позволяет пользователям взаимодействовать с ботом, однако он по-прежнему будет обнаруживаемым, и пользователи по-прежнему смогут добавлять его в Teams.

## <a name="delete-a-bot-from-teams"></a>Удаление бота из Teams

Чтобы полностью удалить бот из Teams,  перейдите к панели мониторинга ботов и отредактировать Microsoft Teams канал. Выберите **кнопку Удалить** в нижней части. Это не позволяет пользователям открывать, добавлять и взаимодействовать с вашим ботом. Это не удаляет бота из других экземпляров Teams, однако он перестает функционировать и для них.

## <a name="see-also"></a>См. также

* [Отладка бота с помощью ПО промежуточного слоя для проверки](/azure/bot-service/bot-service-debug-inspection-middleware)
* [Локальная отладка бота для звонков и собраний](~/bots/calls-and-meetings/debugging-local-testing-calling-meeting-bots.md)
