---
title: Что такое модули задач?
author: clearab
description: Добавление модальных контекстных окон для сбора и отображения информации для пользователей из приложений Microsoft Teams.
ms.topic: overview
ms.author: anclear
ms.openlocfilehash: 22fdc7a9dab1ff6f27e2b0d144e54676b6cca50e
ms.sourcegitcommit: 4329a94918263c85d6c65ff401f571556b80307b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/01/2020
ms.locfileid: "41675603"
---
# <a name="what-are-task-modules"></a><span data-ttu-id="feb26-103">Что такое модули задач?</span><span class="sxs-lookup"><span data-stu-id="feb26-103">What are task modules?</span></span>

<span data-ttu-id="feb26-104">Модули задач позволяют создавать Модальные всплывающие окна в приложении Teams.</span><span class="sxs-lookup"><span data-stu-id="feb26-104">Task modules allow you to create modal popup experiences in your Teams application.</span></span> <span data-ttu-id="feb26-105">Во всплывающем окне можно запустить собственный код HTML/JavaScript, показать мини-приложение `<iframe>`, такое как YouTube или Microsoft Stream, или отобразить [адаптивную карту](/adaptive-cards/).</span><span class="sxs-lookup"><span data-stu-id="feb26-105">Inside the popup you can run your own custom HTML/JavaScript code, show an `<iframe>`-based widget such as a YouTube or Microsoft Stream video or display an [Adaptive card](/adaptive-cards/).</span></span> <span data-ttu-id="feb26-106">Они особенно удобны для инициализации и выполнения задач, а также для отображения обширных сведений, таких как видео или панели мониторинга Power BI.</span><span class="sxs-lookup"><span data-stu-id="feb26-106">They are especially useful for initiating and completing tasks or displaying rich information like videos or Power BI dashboards.</span></span> <span data-ttu-id="feb26-107">Часто всплывающие окна часто более естественны для пользователей, инициирующих и завершающих задачи по сравнению с вкладкой или интерфейсом робота на основе бесед.</span><span class="sxs-lookup"><span data-stu-id="feb26-107">A popup experience is often more natural for users initiating and completing tasks compared to a tab or a conversation-based bot experience.</span></span>

<span data-ttu-id="feb26-108">Модули задач строится на основах вкладок Microsoft Teams; по сути, это вкладка в всплывающем окне.</span><span class="sxs-lookup"><span data-stu-id="feb26-108">Task modules build on the foundation of Microsoft Teams tabs; they are essentially a tab inside a popup window.</span></span> <span data-ttu-id="feb26-109">Они используют один и тот же пакет SDK, поэтому если вы создали вкладку, вы уже 90% от способа создания модуля задачи.</span><span class="sxs-lookup"><span data-stu-id="feb26-109">They use the same SDK, so if you've built a tab you are already 90% of the way to being able to create a task module.</span></span>

<span data-ttu-id="feb26-110">Модули задач можно вызывать тремя способами:</span><span class="sxs-lookup"><span data-stu-id="feb26-110">Task modules can be invoked in three ways:</span></span>

* <span data-ttu-id="feb26-111">**Вкладки "маркетинг" и "личные".**</span><span class="sxs-lookup"><span data-stu-id="feb26-111">**Channel or personal tabs.**</span></span> <span data-ttu-id="feb26-112">С помощью пакета SDK для вкладок Microsoft Teams вы можете вызывать модули задач с помощью кнопок, ссылок или меню на вкладке. [здесь рассказывается подробно.](~/task-modules-and-cards/task-modules/task-modules-tabs.md)</span><span class="sxs-lookup"><span data-stu-id="feb26-112">Using the Microsoft Teams Tabs SDK you can invoke task modules from buttons, links or menus on your tab. [This is covered in detail here.](~/task-modules-and-cards/task-modules/task-modules-tabs.md)</span></span>
* <span data-ttu-id="feb26-113">**Боты.**</span><span class="sxs-lookup"><span data-stu-id="feb26-113">**Bots.**</span></span> <span data-ttu-id="feb26-114">Кнопки на [карточках](~/task-modules-and-cards/cards/cards-reference.md) , отправленных с ленты.</span><span class="sxs-lookup"><span data-stu-id="feb26-114">Buttons on [cards](~/task-modules-and-cards/cards/cards-reference.md) sent from your bot.</span></span> <span data-ttu-id="feb26-115">Это особенно полезно, если вы не хотите, чтобы все участники в канале видели, что происходит с Bot.</span><span class="sxs-lookup"><span data-stu-id="feb26-115">This is particularly useful when you don't need everyone in a channel to see what you are doing with a bot.</span></span> <span data-ttu-id="feb26-116">Например, когда пользователи отвечают на опрос в канале, он не очень полезен для просмотра записи создаваемого опроса.</span><span class="sxs-lookup"><span data-stu-id="feb26-116">For example, when having users respond to a poll in a channel it's not terribly useful to see a record of that poll being created.</span></span> [<span data-ttu-id="feb26-117">Это подробно описано в этой статье.</span><span class="sxs-lookup"><span data-stu-id="feb26-117">This is covered in detail here.</span></span>](~/task-modules-and-cards/task-modules/task-modules-bots.md)
* <span data-ttu-id="feb26-118">**В Microsoft Teams из глубокой ссылки.**</span><span class="sxs-lookup"><span data-stu-id="feb26-118">**Outside of Teams from a deep link.**</span></span> <span data-ttu-id="feb26-119">Кроме того, можно создавать URL-адреса для вызова модуля задач из любого места.</span><span class="sxs-lookup"><span data-stu-id="feb26-119">You can also create URLs to invoke a task module from anywhere.</span></span> [<span data-ttu-id="feb26-120">Это подробно описано в этой статье.</span><span class="sxs-lookup"><span data-stu-id="feb26-120">This is covered in detail here.</span></span>](#task-module-deep-link-syntax)

## <a name="what-a-task-module-looks-like"></a><span data-ttu-id="feb26-121">Как выглядит модуль задачи</span><span class="sxs-lookup"><span data-stu-id="feb26-121">What a task module looks like</span></span>

<span data-ttu-id="feb26-122">Ниже показано, как выглядит модуль задачи при вызове из Bot (без использования цветных прямоугольников и пронумерованных кругов):</span><span class="sxs-lookup"><span data-stu-id="feb26-122">Here's what a task module looks like when invoked from a bot (without the colored rectangles and numbered circles, of course):</span></span>

![Пример модуля задачи](~/assets/images/task-module/task-module-example.png)

<span data-ttu-id="feb26-124">Давайте проанализируем его:</span><span class="sxs-lookup"><span data-stu-id="feb26-124">Let's walk through it:</span></span>

1. <span data-ttu-id="feb26-125">[ `color` Значок](~/resources/schema/manifest-schema.md#icons)приложения.</span><span class="sxs-lookup"><span data-stu-id="feb26-125">Your app's [`color` icon](~/resources/schema/manifest-schema.md#icons).</span></span>
2. <span data-ttu-id="feb26-126">Имя своего приложения. [ `short` ](~/resources/schema/manifest-schema.md#name)</span><span class="sxs-lookup"><span data-stu-id="feb26-126">Your app's [`short` name](~/resources/schema/manifest-schema.md#name).</span></span>
3. <span data-ttu-id="feb26-127">Заголовок модуля задачи, указанный в `title` свойстве [объекта таскинфо](#the-taskinfo-object).</span><span class="sxs-lookup"><span data-stu-id="feb26-127">The task module's title specified in the `title` property of the [TaskInfo object](#the-taskinfo-object).</span></span>
4. <span data-ttu-id="feb26-128">Кнопка закрытия и отмены модуля задачи.</span><span class="sxs-lookup"><span data-stu-id="feb26-128">The task module's close/cancel button.</span></span> <span data-ttu-id="feb26-129">Если пользователь нажмет это, ваше приложение получит `err` событие, как описано [здесь](~/task-modules-and-cards/task-modules/task-modules-tabs.md#example-submitting-the-result-of-a-task-module).</span><span class="sxs-lookup"><span data-stu-id="feb26-129">If the user presses this, your app will receive an `err` event as described [here](~/task-modules-and-cards/task-modules/task-modules-tabs.md#example-submitting-the-result-of-a-task-module).</span></span> <span data-ttu-id="feb26-130">(**Примечание:** в настоящее время это событие невозможно определить при вызове модуля задачи из Bot.)</span><span class="sxs-lookup"><span data-stu-id="feb26-130">(**Note:** It is currently not possible to detect this event when a task module is invoked from a bot.)</span></span>
5. <span data-ttu-id="feb26-131">Синий прямоугольник — это место, где отображается веб-страница при загрузке собственной веб-страницы с помощью `url` свойства [объекта таскинфо](#the-taskinfo-object).</span><span class="sxs-lookup"><span data-stu-id="feb26-131">The blue rectangle is the where your web page appears if you are loading your own web page using the `url` property of the [TaskInfo object](#the-taskinfo-object).</span></span> <span data-ttu-id="feb26-132">Дополнительные сведения находятся в разделе " [изменение размера модуля задачи](#task-module-sizing) " ниже.</span><span class="sxs-lookup"><span data-stu-id="feb26-132">More detail is in the [task module sizing](#task-module-sizing) section below.</span></span>
6. <span data-ttu-id="feb26-133">При отображении адаптивной карточки с помощью `card` свойства [объекта таскинфо](#the-taskinfo-object) дополнение добавляется для пользователя, в противном случае вам потребуется [самостоятельно справиться](#task-module-css-for-htmljavascript-task-modules).</span><span class="sxs-lookup"><span data-stu-id="feb26-133">If you are displaying an Adaptive card via the `card` property of the [TaskInfo object](#the-taskinfo-object) the padding is added for you, otherwise you'll need to [handle this yourself](#task-module-css-for-htmljavascript-task-modules).</span></span>
7. <span data-ttu-id="feb26-134">Кнопки адаптивной карточки отображаются здесь.</span><span class="sxs-lookup"><span data-stu-id="feb26-134">Adaptive card buttons will render here.</span></span> <span data-ttu-id="feb26-135">Если вы используете собственную страницу, необходимо создать собственные кнопки.</span><span class="sxs-lookup"><span data-stu-id="feb26-135">If you're using your own page you must create your own buttons.</span></span>

## <a name="overview-of-invoking-and-dismissing-task-modules"></a><span data-ttu-id="feb26-136">Обзор модулей задач вызова и закрытия</span><span class="sxs-lookup"><span data-stu-id="feb26-136">Overview of invoking and dismissing task modules</span></span>

<span data-ttu-id="feb26-137">Модули задач можно вызывать из вкладок, боты или глубокими ссылками, а также в одной из них могут быть HTML или адаптивной картой, поэтому существует множество гибкости с точки зрения того, как они вызываются, и как работать с результатом взаимодействия с пользователем.</span><span class="sxs-lookup"><span data-stu-id="feb26-137">Task modules can be invoked from tabs, bots or deep links and what appears in one can be either HTML or an Adaptive card, so there's a lot of flexibility in terms of how they are invoked and how to deal with the result of a user's interaction.</span></span> <span data-ttu-id="feb26-138">В таблице ниже показано, как это работает.</span><span class="sxs-lookup"><span data-stu-id="feb26-138">The table below summarizes how this works:</span></span>

| <span data-ttu-id="feb26-139">**Вызывается с помощью...**</span><span class="sxs-lookup"><span data-stu-id="feb26-139">**Invoked via...**</span></span> | <span data-ttu-id="feb26-140">**Модуль задачи — HTML/JavaScript**</span><span class="sxs-lookup"><span data-stu-id="feb26-140">**Task module is HTML/JavaScript**</span></span> | <span data-ttu-id="feb26-141">**Модуль задачи является адаптивной картой**</span><span class="sxs-lookup"><span data-stu-id="feb26-141">**Task module is Adaptive card**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="feb26-142">**JavaScript на вкладке**</span><span class="sxs-lookup"><span data-stu-id="feb26-142">**JavaScript in a tab**</span></span> | <span data-ttu-id="feb26-143">1. Использование функции `tasks.startTask()` клиентского пакета SDK Teams с необязательной `submitHandler(err, result)` функцией обратного вызова</span><span class="sxs-lookup"><span data-stu-id="feb26-143">1. Use the Teams client SDK function `tasks.startTask()` with an optional `submitHandler(err, result)` callback function</span></span> <br/><br/> <span data-ttu-id="feb26-144">2. в коде модуля задачи после завершения работы пользователя вызовите функцию `tasks.submitTask()` пакета SDK Teams с `result` объектом в качестве параметра.</span><span class="sxs-lookup"><span data-stu-id="feb26-144">2. In the task module code, when the user is finished, call the Teams SDK function `tasks.submitTask()` with a `result` object as a parameter.</span></span> <span data-ttu-id="feb26-145">Если был `submitHandler` указан обратный вызов `tasks.startTask()`, Teams вызывает его в `result` качестве параметра.</span><span class="sxs-lookup"><span data-stu-id="feb26-145">If a `submitHandler` callback was specified in `tasks.startTask()`, Teams calls it with `result` as a parameter.</span></span><br/><br/> <span data-ttu-id="feb26-146">3. Если при вызове возникла ошибка `tasks.startTask()`, `submitHandler` функция вызывается с использованием `err` строки.</span><span class="sxs-lookup"><span data-stu-id="feb26-146">3. If there was an error when invoking `tasks.startTask()`, the `submitHandler` function is called with an `err` string instead.</span></span> <br/><br/> <span data-ttu-id="feb26-147">4. Вы также можете указать, `completionBotId` когда вы `teams.startTask()` направляете вызов `result` , если вместо этого он отправляется в Bot.</span><span class="sxs-lookup"><span data-stu-id="feb26-147">4. You can also specify a `completionBotId` when calling `teams.startTask()` - in that case `result` is sent to the bot instead.</span></span> | <span data-ttu-id="feb26-148">1. вызовите клиентский пакет SDK `tasks.startTask()` Teams с [объектом ТАСКИНФО](#the-taskinfo-object) и `TaskInfo.card` содержащим JSON для адаптивной карточки, которая будет отображаться в всплывающем окне модуля задачи.</span><span class="sxs-lookup"><span data-stu-id="feb26-148">1. Call the Teams client SDK function `tasks.startTask()` with a [TaskInfo object](#the-taskinfo-object) and `TaskInfo.card` containing the JSON for the Adaptive card to show in the task module popup.</span></span> <br/><br/> <span data-ttu-id="feb26-149">2. Если был `submitHandler` указан обратный вызов `tasks.startTask()`, Teams вызывает его с помощью `err` строки, если при вызове возникла ошибка `tasks.startTask()` , или если пользователь закрыл всплывающее окно модуля задач с помощью X в правом верхнем углу.</span><span class="sxs-lookup"><span data-stu-id="feb26-149">2. If a `submitHandler` callback was specified in `tasks.startTask()`, Teams calls it with an `err` string if there was an error when invoking `tasks.startTask()` or if the user closes the task module popup using the X at the upper right.</span></span> <br/><br/> <span data-ttu-id="feb26-150">3. Если пользователь нажмет кнопку Action. оправить, `data` объект возвращается в виде значения. `result`</span><span class="sxs-lookup"><span data-stu-id="feb26-150">3. If the user presses an Action.Submit button then its `data` object is returned as the value of `result`.</span></span> |
| <span data-ttu-id="feb26-151">**Кнопка "почтовые карточки"**</span><span class="sxs-lookup"><span data-stu-id="feb26-151">**Bot card button**</span></span> | <span data-ttu-id="feb26-152">1. кнопки открыткной карточки, в зависимости от типа кнопки, могут вызывать модули задач двумя способами: URL-адрес глубокой ссылки или отправка `task/fetch` сообщения.</span><span class="sxs-lookup"><span data-stu-id="feb26-152">1. Bot card buttons, depending on the type of button, can invoke task modules in two ways: a deep link URL or by sending a `task/fetch` message.</span></span> <span data-ttu-id="feb26-153">Ниже показано, как работают URL-адреса глубокой связи.</span><span class="sxs-lookup"><span data-stu-id="feb26-153">See below for how deep link URLs work.</span></span> <br/><br/> <span data-ttu-id="feb26-154">2. Если для кнопки `type` задано значение `task/fetch` (`Action.Submit` тип кнопки для адаптивных карточек), `task/fetch invoke` то событие (POST HTTP) отправляется в Bot, а Bot реагирует на POST с помощью HTTP 200 и текст отклика, содержащий обертку для [объекта таскинфо](#the-taskinfo-object).</span><span class="sxs-lookup"><span data-stu-id="feb26-154">2. If the button's action `type` is `task/fetch` (`Action.Submit` button type for Adaptive cards), a `task/fetch invoke` event (an HTTP POST under the covers) is sent to the bot, and the bot responds to the POST with HTTP 200 and the response body containing a wrapper around the [TaskInfo object](#the-taskinfo-object).</span></span> <span data-ttu-id="feb26-155">Это подробно объясняется в [вызове модуля задачи с помощью задачи/извлечения](~/task-modules-and-cards/task-modules/task-modules-bots.md#invoking-a-task-module-via-taskfetch).</span><span class="sxs-lookup"><span data-stu-id="feb26-155">This is explained in detail in [invoking a task module via task/fetch](~/task-modules-and-cards/task-modules/task-modules-bots.md#invoking-a-task-module-via-taskfetch).</span></span><br/><br/> <span data-ttu-id="feb26-156">3. Teams отображает модуль задач; по завершении работы пользователя вызовите функцию `tasks.submitTask()` пакета SDK Teams с `result` объектом в качестве параметра.</span><span class="sxs-lookup"><span data-stu-id="feb26-156">3. Teams displays the task module; when the user is finished, call the Teams SDK function `tasks.submitTask()` with a `result` object as a parameter.</span></span> <br/><br/> <span data-ttu-id="feb26-157">4. Bot получает `task/submit invoke` сообщение, содержащее `result` объект.</span><span class="sxs-lookup"><span data-stu-id="feb26-157">4. The bot receives a `task/submit invoke` message that contains the `result` object.</span></span> <span data-ttu-id="feb26-158">Ответ на `task/submit` сообщение можно получить тремя разными способами:, не выполнив ничего (задача выполнена успешно), отображая сообщение пользователю во всплывающем окне или вызывая другое окно модуля задачи (например, создавая интерфейс, подобный мастеру).</span><span class="sxs-lookup"><span data-stu-id="feb26-158">You have three different ways to respond to the `task/submit` message: by doing nothing (the task completed successfully), by displaying a message to the user in a popup window, or by invoking another task module window (i.e. creating a wizard-like experience).</span></span> <span data-ttu-id="feb26-159">Эти три варианта подробно обсуждаются в [подробном рассказе о задачах и отправляйте](~/task-modules-and-cards/task-modules/task-modules-bots.md#the-flexibility-of-tasksubmit).</span><span class="sxs-lookup"><span data-stu-id="feb26-159">These three options are discussed more [in the detailed discussion on task/submit](~/task-modules-and-cards/task-modules/task-modules-bots.md#the-flexibility-of-tasksubmit).</span></span> | <span data-ttu-id="feb26-160">1. кнопки на адаптивных карточках, например, поддерживают два способа вызова модулей задач: URL-адреса с глубокими ссылками `Action.openUrl` с кнопками и `task/fetch` с `Action.Submit` помощью кнопок.</span><span class="sxs-lookup"><span data-stu-id="feb26-160">1. Like buttons on Bot Framework cards, buttons on Adaptive cards support two ways of invoking task modules: deep link URLs with `Action.openUrl` buttons, and via `task/fetch` using `Action.Submit` buttons.</span></span> <br/><br/> <span data-ttu-id="feb26-161">2. модули задач со адаптивными картами работают точно так же, как и в случае сценария HTML/JavaScript (см. слева).</span><span class="sxs-lookup"><span data-stu-id="feb26-161">2. Task modules with Adaptive cards work very similarly to the HTML/JavaScript case (see left).</span></span> <span data-ttu-id="feb26-162">Основное отличие заключается в том, что при использовании адаптивных карт нет JavaScript, но не существует способа позвонить `tasks.submitTask()`.</span><span class="sxs-lookup"><span data-stu-id="feb26-162">The major difference is that since there's no JavaScript when you're using Adaptive cards, there's no way to call `tasks.submitTask()`.</span></span> <span data-ttu-id="feb26-163">Вместо этого Teams берет `data` объект из `Action.Submit` и возвращает его в качестве полезных данных `task/submit` события, как описано [ниже](~/task-modules-and-cards/task-modules/task-modules-bots.md#the-flexibility-of-tasksubmit).</span><span class="sxs-lookup"><span data-stu-id="feb26-163">Instead, Teams takes the `data` object from `Action.Submit` and returns it as the payload of in the `task/submit` event, as described [here](~/task-modules-and-cards/task-modules/task-modules-bots.md#the-flexibility-of-tasksubmit).</span></span> |
| <span data-ttu-id="feb26-164">**URL-адрес глубокой ссылки**</span><span class="sxs-lookup"><span data-stu-id="feb26-164">**Deep link URL**</span></span> <br/>[<span data-ttu-id="feb26-165">синтаксис URL-адреса</span><span class="sxs-lookup"><span data-stu-id="feb26-165">URL syntax</span></span>](#task-module-deep-link-syntax) | <span data-ttu-id="feb26-166">1. Teams вызывает модуль задач; URL-адрес, который отображается `<iframe>` в указанном `url` параметре глубокой ссылки.</span><span class="sxs-lookup"><span data-stu-id="feb26-166">1. Teams invokes the task module; the URL that appears inside the `<iframe>` specified in the `url` parameter of the deep link.</span></span> <span data-ttu-id="feb26-167">`submitHandler` Обратный вызов отсутствует.</span><span class="sxs-lookup"><span data-stu-id="feb26-167">There is no `submitHandler` callback.</span></span> <br/><br/> <span data-ttu-id="feb26-168">2. в коде JavaScript страницы в модуле задач вызовите `tasks.submitTask()` его, чтобы закрыть с помощью `result` объекта в качестве параметра, то же, что при вызове этого метода из вкладки или кнопки "применяет".</span><span class="sxs-lookup"><span data-stu-id="feb26-168">2. Within the JavaScript of the page in the task module, call `tasks.submitTask()` to close it with a `result` object as a parameter, the same as when invoking it from a tab or a bot card button.</span></span> <span data-ttu-id="feb26-169">Тем не менее, логика выполнения немного отличается.</span><span class="sxs-lookup"><span data-stu-id="feb26-169">Completion logic is slightly different, however.</span></span> <span data-ttu-id="feb26-170">Если логика выполнения находится на клиенте (например, если отсутствует Bot), `submitHandler` обратный вызов отсутствует, поэтому любая логика завершения должна находиться в коде, предшествующем вызову. `tasks.submitTask()`</span><span class="sxs-lookup"><span data-stu-id="feb26-170">If your completion logic resides on the client (i.e. if there is no bot) there is no `submitHandler` callback, so any completion logic must be in the code preceding the call to `tasks.submitTask()`.</span></span> <span data-ttu-id="feb26-171">Ошибки вызовов выводятся только с помощью консоли.</span><span class="sxs-lookup"><span data-stu-id="feb26-171">Invocation errors are only reported via the console.</span></span> <span data-ttu-id="feb26-172">Если у вас есть Bot, вы можете указать `completionBotId` параметр в ссылке Deep, чтобы отправить `result` объект через `task/submit` событие.</span><span class="sxs-lookup"><span data-stu-id="feb26-172">If you have a bot, then you can specify a `completionBotId` parameter in the deep link to send the `result` object via a `task/submit` event.</span></span> | <span data-ttu-id="feb26-173">1. Teams вызывает модуль задач; текст карты JSON адаптивной карточки указывается как значение `card` параметра глубокой ссылки, закодированное как URL-адрес.</span><span class="sxs-lookup"><span data-stu-id="feb26-173">1. Teams invokes the task module; the JSON card body of the Adaptive card is specified as a URL-encoded value of the `card` parameter of the deep link.</span></span> <br/><br/> <span data-ttu-id="feb26-174">2. пользователь закрывает модуль задач, щелкнув X в правом верхнем углу модуля задач или нажав `Action.Submit` кнопку на карточке.</span><span class="sxs-lookup"><span data-stu-id="feb26-174">2. The user closes the task module by clicking on the X at the upper right of the task module or by pressing an `Action.Submit` button on the card.</span></span> <span data-ttu-id="feb26-175">Так как нет `submitHandler` необходимости в вызове, вам необходим робот, чтобы отправить значение поля адаптивной карточки в.</span><span class="sxs-lookup"><span data-stu-id="feb26-175">Since there is no `submitHandler` to call, you must have a bot to send the value of the Adaptive card fields to.</span></span> <span data-ttu-id="feb26-176">Используйте `completionBotId` параметр в ссылке Deep, чтобы указать Bot для отправки данных с помощью `task/submit invoke` события.</span><span class="sxs-lookup"><span data-stu-id="feb26-176">You use the `completionBotId` parameter in the deep link to specify the bot to send the data to via a `task/submit invoke` event.</span></span> |

> [!NOTE]
> <span data-ttu-id="feb26-177">Вызов модуля задачи из JavaScript не поддерживается на мобильных устройствах.</span><span class="sxs-lookup"><span data-stu-id="feb26-177">Invoking a task module from JavaScript is not supported on mobile.</span></span>

## <a name="the-taskinfo-object"></a><span data-ttu-id="feb26-178">Объект Таскинфо</span><span class="sxs-lookup"><span data-stu-id="feb26-178">The TaskInfo object</span></span>

<span data-ttu-id="feb26-179">`TaskInfo` Объект содержит метаданные для модуля задачи.</span><span class="sxs-lookup"><span data-stu-id="feb26-179">The `TaskInfo` object contains the metadata for a task module.</span></span> <span data-ttu-id="feb26-180">Ниже указано определение объекта.</span><span class="sxs-lookup"><span data-stu-id="feb26-180">The object definition is below.</span></span> <span data-ttu-id="feb26-181">**Необходимо** определить либо `url` (для встроенного IFRAME), либо `card` (для адаптивной карты).</span><span class="sxs-lookup"><span data-stu-id="feb26-181">You **must** define either `url` (for en embedded iFrame) or `card` (for an Adaptive Card).</span></span>

| <span data-ttu-id="feb26-182">Атрибут</span><span class="sxs-lookup"><span data-stu-id="feb26-182">Attribute</span></span> | <span data-ttu-id="feb26-183">Тип</span><span class="sxs-lookup"><span data-stu-id="feb26-183">Type</span></span> | <span data-ttu-id="feb26-184">Описание</span><span class="sxs-lookup"><span data-stu-id="feb26-184">Description</span></span> |
| --- | --- | --- |
| `title` | <span data-ttu-id="feb26-185">string</span><span class="sxs-lookup"><span data-stu-id="feb26-185">string</span></span> | <span data-ttu-id="feb26-186">Отображается под именем приложения и справа от значка приложения.</span><span class="sxs-lookup"><span data-stu-id="feb26-186">Appears below the app name and to the right of the app icon</span></span> |
| `height` | <span data-ttu-id="feb26-187">number или string</span><span class="sxs-lookup"><span data-stu-id="feb26-187">number or string</span></span> | <span data-ttu-id="feb26-188">Это может быть число, представляющее высоту модуля задачи в пикселях, или `small`, `medium`или `large`.</span><span class="sxs-lookup"><span data-stu-id="feb26-188">This can be a number representing the task module's height in pixels, or `small`, `medium`, or `large`.</span></span> <span data-ttu-id="feb26-189">[Ниже показано, как обрабатываются высота и ширина](#task-module-sizing).</span><span class="sxs-lookup"><span data-stu-id="feb26-189">[See below for how height and width are handled](#task-module-sizing).</span></span> |
| `width` | <span data-ttu-id="feb26-190">number или string</span><span class="sxs-lookup"><span data-stu-id="feb26-190">number or string</span></span> | <span data-ttu-id="feb26-191">Это может быть число, представляющее ширину модуля задачи в пикселях, или `small`, `medium`или `large`.</span><span class="sxs-lookup"><span data-stu-id="feb26-191">This can be a number representing the task module's width in pixels, or `small`, `medium`, or `large`.</span></span> <span data-ttu-id="feb26-192">[Ниже показано, как обрабатываются высота и ширина](#task-module-sizing).</span><span class="sxs-lookup"><span data-stu-id="feb26-192">[See below for how height and width are handled](#task-module-sizing).</span></span> |
| `url` | <span data-ttu-id="feb26-193">строка</span><span class="sxs-lookup"><span data-stu-id="feb26-193">string</span></span> | <span data-ttu-id="feb26-194">URL-адрес страницы, `<iframe>` загруженной в модуль задачи.</span><span class="sxs-lookup"><span data-stu-id="feb26-194">The URL of the page loaded as an `<iframe>` inside the task module.</span></span> <span data-ttu-id="feb26-195">Домен URL-адреса должен находиться в [массиве валиддомаинс](~/resources/schema/manifest-schema.md#validdomains) приложения в манифесте приложения.</span><span class="sxs-lookup"><span data-stu-id="feb26-195">The URL's domain must be in the app's [validDomains array](~/resources/schema/manifest-schema.md#validdomains) in your app's manifest.</span></span> |
| `card` | <span data-ttu-id="feb26-196">Вложенная карта или вложенная карта с подплатой</span><span class="sxs-lookup"><span data-stu-id="feb26-196">Adaptive card or an Adaptive card bot card attachment</span></span> | <span data-ttu-id="feb26-197">JSON для адаптивной карточки, отображаемой в модуле задачи.</span><span class="sxs-lookup"><span data-stu-id="feb26-197">The JSON for the Adaptive card to appear in the task module.</span></span> <span data-ttu-id="feb26-198">Если вы вызываете из Bot, вам потребуется использовать формат JSON для адаптивной карточки в объекте Bot Framework `attachment` .</span><span class="sxs-lookup"><span data-stu-id="feb26-198">If you're invoking from a bot, you'll need to use the Adaptive card JSON in a Bot Framework `attachment` object.</span></span> <span data-ttu-id="feb26-199">На вкладке вы будете использовать только адаптивную карточку.</span><span class="sxs-lookup"><span data-stu-id="feb26-199">From a tab you'll use just an Adaptive Card.</span></span> [<span data-ttu-id="feb26-200">Ниже приведен пример.</span><span class="sxs-lookup"><span data-stu-id="feb26-200">Here's an example.</span></span>](#adaptive-card-or-adaptive-card-bot-card-attachment) |
| `fallbackUrl` | <span data-ttu-id="feb26-201">строка</span><span class="sxs-lookup"><span data-stu-id="feb26-201">string</span></span> | <span data-ttu-id="feb26-202">Если клиент не поддерживает функцию модуля задач, этот URL-адрес открывается на вкладке браузера.</span><span class="sxs-lookup"><span data-stu-id="feb26-202">If a client does not support the task module feature, this URL is opened in a browser tab.</span></span> |
| `completionBotId` | <span data-ttu-id="feb26-203">строка</span><span class="sxs-lookup"><span data-stu-id="feb26-203">string</span></span> | <span data-ttu-id="feb26-204">Указывает идентификатор приложения с идентификатором почтовых роботов, который отправляет результат взаимодействия пользователя с модулем задачи.</span><span class="sxs-lookup"><span data-stu-id="feb26-204">Specifies a bot App ID to send the result of the user's interaction with the task module to.</span></span> <span data-ttu-id="feb26-205">Если этот параметр указан, Bot получит `task/submit invoke` событие с объектом JSON в полезных данных события.</span><span class="sxs-lookup"><span data-stu-id="feb26-205">If specified, the bot will receive a `task/submit invoke` event with a JSON object in the event payload.</span></span> |

> [!NOTE]
> <span data-ttu-id="feb26-206">Функция модуля задач требует, чтобы домены всех URL-адресов, которые требуется загрузить, были включены `validDomains` в массив манифеста приложения.</span><span class="sxs-lookup"><span data-stu-id="feb26-206">The task module feature requires that the domains of any URLs you want to load are included in the `validDomains` array in your app's manifest.</span></span>

## <a name="task-module-sizing"></a><span data-ttu-id="feb26-207">Изменение размера модуля задачи</span><span class="sxs-lookup"><span data-stu-id="feb26-207">Task module sizing</span></span>

<span data-ttu-id="feb26-208">С помощью целых чисел `TaskInfo.width` `TaskInfo.height` в пикселях задается высота и ширина.</span><span class="sxs-lookup"><span data-stu-id="feb26-208">Using integers for `TaskInfo.width` and `TaskInfo.height` will set the height and width in pixels.</span></span> <span data-ttu-id="feb26-209">Однако в зависимости от размера окна команды и разрешения экрана они будут уменьшены пропорционально, сохраняя пропорции (ширину и высоту).</span><span class="sxs-lookup"><span data-stu-id="feb26-209">However, depending on the size of the Team's window and screen resolution they will be reduced proportionally while maintaining the aspect ratio (width/height).</span></span>

<span data-ttu-id="feb26-210">Если `TaskInfo.width` вы `TaskInfo.height` и `"small"`есть `"medium"` , `"large"` или размер красного прямоугольника на рисунке выше, пропорции доступного места: 20%, 50%, 60% для `width` и 20%, 50%, 66% для. `height`</span><span class="sxs-lookup"><span data-stu-id="feb26-210">If `TaskInfo.width` and `TaskInfo.height` are `"small"`, `"medium"` or `"large"` the size of the red rectangle in the picture above is a proportion of the available space: 20%, 50%, 60% for `width` and 20%, 50%, 66% for `height`.</span></span>

<span data-ttu-id="feb26-211">Можно динамически изменить размер модулей задач, вызываемых из вкладки.</span><span class="sxs-lookup"><span data-stu-id="feb26-211">Task modules invoked from a tab can be dynamically resized.</span></span> <span data-ttu-id="feb26-212">После вызова `tasks.startTask()` можно вызвать `tasks.updateTask(newSize)` , где свойства Height и Width объекта невсизе соответствуют спецификации таскинфо (ex.</span><span class="sxs-lookup"><span data-stu-id="feb26-212">After calling `tasks.startTask()` you can call `tasks.updateTask(newSize)` where height and width properties on the newSize object conform to the TaskInfo spec (ex.</span></span> <span data-ttu-id="feb26-213">`{ height: 'medium', width: 'medium' }`).</span><span class="sxs-lookup"><span data-stu-id="feb26-213">`{ height: 'medium', width: 'medium' }`).</span></span>

## <a name="task-module-css-for-htmljavascript-task-modules"></a><span data-ttu-id="feb26-214">CSS модуля задач для модулей задач HTML/JavaScript</span><span class="sxs-lookup"><span data-stu-id="feb26-214">Task module CSS for HTML/JavaScript task modules</span></span>

<span data-ttu-id="feb26-215">Модули задач на основе HTML/JavaScript имеют доступ ко всей области модуля задач под заголовком.</span><span class="sxs-lookup"><span data-stu-id="feb26-215">HTML/JavaScript-based task modules have access to the entire area of the task module below the header.</span></span> <span data-ttu-id="feb26-216">Несмотря на то, что в этом случае необходимо, чтобы заполнение вокруг краев было выровнено с элементами заголовка и не излишними полосами прокрутки, необходимо предоставить правильный CSS.</span><span class="sxs-lookup"><span data-stu-id="feb26-216">While that offers a great deal of flexibility, if you want padding around the edges to align with the header elements and avoid unnecessary scrollbars you'll need to provide the right CSS.</span></span> <span data-ttu-id="feb26-217">Ниже приведено несколько примеров для нескольких вариантов использования.</span><span class="sxs-lookup"><span data-stu-id="feb26-217">Here are some examples for a few use cases.</span></span>

### <a name="example-1---youtube-video"></a><span data-ttu-id="feb26-218">Пример 1 – YouTube Video</span><span class="sxs-lookup"><span data-stu-id="feb26-218">Example 1 - YouTube video</span></span>

<span data-ttu-id="feb26-219">YouTube позволяет внедрять видеоролики на веб-страницы.</span><span class="sxs-lookup"><span data-stu-id="feb26-219">YouTube offers the ability to embed videos on web pages.</span></span> <span data-ttu-id="feb26-220">С помощью простой веб-страницы-заглушки это легко отобразить в модуле задач:</span><span class="sxs-lookup"><span data-stu-id="feb26-220">Using a simple stub web page it's easy to show this in a task module:</span></span>

![Видео YouTube](~/assets/images/task-module/youtube-example.png)

<span data-ttu-id="feb26-222">Вот HTML-код для этой страницы без CSS:</span><span class="sxs-lookup"><span data-stu-id="feb26-222">Here's the HTML for this page, without the CSS:</span></span>

```html
<!DOCTYPE html>
<html lang="en">
<head>
  ⋮
</head>
<body>
  <div id="embed-container">
    <iframe width="1000" height="700" src="https://www.youtube.com/embed/rd0Rd8w3FZ0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen=""></iframe>
  </div>
</body>
</html>
```

<span data-ttu-id="feb26-223">CSS выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="feb26-223">The CSS looks like this:</span></span>

```css
#embed-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 95%;
    height: 95%;
    padding-left: 20px;
    padding-right: 20px;
    padding-top: 10px;
    padding-bottom: 10px;
    border-style: none;
}
```

### <a name="example-2---powerapp"></a><span data-ttu-id="feb26-224">Пример 2 — Поверапп</span><span class="sxs-lookup"><span data-stu-id="feb26-224">Example 2 - PowerApp</span></span>

<span data-ttu-id="feb26-225">Вы также можете использовать такой же подход для встраивания Поверапп.</span><span class="sxs-lookup"><span data-stu-id="feb26-225">You can use the same approach to embed a PowerApp as well.</span></span> <span data-ttu-id="feb26-226">Так как ширина и ширина любого отдельного Поверапп настраивается, может потребоваться изменить высоту и ширину для достижения необходимой презентации.</span><span class="sxs-lookup"><span data-stu-id="feb26-226">As the height/width of any individual PowerApp is customizable, you may need to adjust the height and width to achieve your desired presentation.</span></span>

![Поверапп управления активами](~/assets/images/task-module/powerapp-example.png)

```html
<iframe width="720" height="520" src="https://web.powerapps.com/webplayer/iframeapp?source=iframe&screenColor=rgba(104,101,171,1)&appId=/providers/Microsoft.PowerApps/apps/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"></iframe>
```

<span data-ttu-id="feb26-228">CSS:</span><span class="sxs-lookup"><span data-stu-id="feb26-228">And the CSS is:</span></span>

```css
#embed-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 94%;
    height: 95%;
    padding-left: 20px;
    padding-right: 20px;
    padding-top: 10px;
    padding-bottom: 10px;
    border-style: none;
}
```

## <a name="adaptive-card-or-adaptive-card-bot-card-attachment"></a><span data-ttu-id="feb26-229">Вложение карты с адаптивной картой или адаптивной карты</span><span class="sxs-lookup"><span data-stu-id="feb26-229">Adaptive card or Adaptive card bot card attachment</span></span>

<span data-ttu-id="feb26-230">Как было сказано выше, в зависимости от того, как вы выдаете `card` вам, вам потребуется использовать адаптивную карту или вложенную карту с нежелательной картой, которая является только адаптивной картой, упакованной в объект вложения.</span><span class="sxs-lookup"><span data-stu-id="feb26-230">As we noted above, depending on how you're invoking your `card` you'll need to use either an Adaptive card, or an Adaptive card bot card attachment (which is just an Adaptive card wrapped in an attachment object).</span></span>

<span data-ttu-id="feb26-231">При вызове со вкладки вам потребуется использовать адаптивную карточку.</span><span class="sxs-lookup"><span data-stu-id="feb26-231">When you're invoking from a tab, you'll need to use an adaptive card.</span></span> <span data-ttu-id="feb26-232">Вот очень простой пример:</span><span class="sxs-lookup"><span data-stu-id="feb26-232">Here's a very simple example:</span></span>

```json
{
    "type": "AdaptiveCard",
    "body": [
        {
            "type": "TextBlock",
            "text": "Here is a ninja cat:"
        },
        {
            "type": "Image",
            "url": "http://adaptivecards.io/content/cats/1.png",
            "size": "Medium"
        }
    ],
    "version": "1.0"
}
```

<span data-ttu-id="feb26-233">При вызове из Bot необходимо использовать вложение с адаптивной картой с картой, как показано ниже:</span><span class="sxs-lookup"><span data-stu-id="feb26-233">When you're invoking from a bot you'll need to use an Adaptive card bot card attachment as in the example below:</span></span>

```json
{
    "contentType": "application/vnd.microsoft.card.adaptive",
    "content": {
        "type": "AdaptiveCard",
        "body": [
            {
                "type": "TextBlock",
                "text": "Here is a ninja cat:"
            },
            {
                "type": "Image",
                "url": "http://adaptivecards.io/content/cats/1.png",
                "size": "Medium"
            }
        ],
        "version": "1.0"
    }
}
```

<span data-ttu-id="feb26-234">Необходимо помнить, будет ли вызываться модуль задачи, содержащий адаптивную карточку, из ленты или с вкладки.</span><span class="sxs-lookup"><span data-stu-id="feb26-234">You'll need to remember whether you are invoking a task module containing an Adaptive card from a bot or a tab.</span></span>

## <a name="task-module-deep-link-syntax"></a><span data-ttu-id="feb26-235">Синтаксис глубокой ссылки для модуля задачи</span><span class="sxs-lookup"><span data-stu-id="feb26-235">Task module deep link syntax</span></span>

<span data-ttu-id="feb26-236">Глубокая ссылка модуля задачи — это просто сериализация [объекта таскинфо](#the-taskinfo-object) с двумя другими сведениями, `APP_ID` а также при необходимости: `BOT_APP_ID`</span><span class="sxs-lookup"><span data-stu-id="feb26-236">A task module deep link is just a serialization of the [TaskInfo object](#the-taskinfo-object) with two other pieces of information, `APP_ID` and optionally the `BOT_APP_ID`:</span></span>

`https://teams.microsoft.com/l/task/APP_ID?url=<TaskInfo.url>&height=<TaskInfo.height>&width=<TaskInfo.width>&title=<TaskInfo.title>&completionBotId=BOT_APP_ID`

`https://teams.microsoft.com/l/task/APP_ID?card=<TaskInfo.card>&height=<TaskInfo.height>&width=<TaskInfo.width>&title=<TaskInfo.title>&completionBotId=BOT_APP_ID`

<span data-ttu-id="feb26-237">Просмотрите [объект таскинфо](#the-taskinfo-object) для типов данных и допустимых значений для `<TaskInfo.url>`, `<TaskInfo.card>`, `<TaskInfo.height>`, `<TaskInfo.width>`и. `<TaskInfo.title>`</span><span class="sxs-lookup"><span data-stu-id="feb26-237">See [TaskInfo object](#the-taskinfo-object) for the data types and allowable values for `<TaskInfo.url>`, `<TaskInfo.card>`, `<TaskInfo.height>`, `<TaskInfo.width>`, and `<TaskInfo.title>`.</span></span>

> [!TIP]
> <span data-ttu-id="feb26-238">Убедитесь, что URL-адрес кодирует глубокую ссылку, особенно при `card` использовании параметра (например, [ `encodeURI()` функция](https://www.w3schools.com/jsref/jsref_encodeURI.asp)JavaScript).</span><span class="sxs-lookup"><span data-stu-id="feb26-238">Be sure to URL encode the deep link, especially when using the `card` parameter (for example, JavaScript's [`encodeURI()` function](https://www.w3schools.com/jsref/jsref_encodeURI.asp)).</span></span>

<span data-ttu-id="feb26-239">Ниже приведены сведения о следующих `APP_ID` возможностях и `BOT_APP_ID`:</span><span class="sxs-lookup"><span data-stu-id="feb26-239">Here's the information on `APP_ID` and `BOT_APP_ID`:</span></span>

| <span data-ttu-id="feb26-240">Значение</span><span class="sxs-lookup"><span data-stu-id="feb26-240">Value</span></span> | <span data-ttu-id="feb26-241">Тип</span><span class="sxs-lookup"><span data-stu-id="feb26-241">Type</span></span> | <span data-ttu-id="feb26-242">Обязательный?</span><span class="sxs-lookup"><span data-stu-id="feb26-242">Required?</span></span> | <span data-ttu-id="feb26-243">Описание</span><span class="sxs-lookup"><span data-stu-id="feb26-243">Description</span></span> |
| --- | --- | --- | --- |
| `APP_ID` | <span data-ttu-id="feb26-244">string</span><span class="sxs-lookup"><span data-stu-id="feb26-244">string</span></span> | <span data-ttu-id="feb26-245">Да</span><span class="sxs-lookup"><span data-stu-id="feb26-245">Yes</span></span> | <span data-ttu-id="feb26-246">[Идентификатор](~/resources/schema/manifest-schema.md#id) приложения, вызывающего модуль задачи.</span><span class="sxs-lookup"><span data-stu-id="feb26-246">The [id](~/resources/schema/manifest-schema.md#id) of the app invoking the task module.</span></span> <span data-ttu-id="feb26-247">[Массив валиддомаинс](~/resources/schema/manifest-schema.md#validdomains) в `APP_ID` манифесте должен содержать домен для `url` if `url` в URL-адресе.</span><span class="sxs-lookup"><span data-stu-id="feb26-247">The [validDomains array](~/resources/schema/manifest-schema.md#validdomains) in the manifest for `APP_ID` must contain the domain for `url` if `url` is in the URL.</span></span> <span data-ttu-id="feb26-248">(Идентификатор приложения уже известен, когда модуль задач вызывается с вкладки или с ленты, поэтому он не включен в `TaskInfo`.)</span><span class="sxs-lookup"><span data-stu-id="feb26-248">(The app ID is already known when a task module is invoked from a tab or a bot, which is why it's not included in `TaskInfo`.)</span></span> |
| `BOT_APP_ID` | <span data-ttu-id="feb26-249">string</span><span class="sxs-lookup"><span data-stu-id="feb26-249">string</span></span> | <span data-ttu-id="feb26-250">Нет</span><span class="sxs-lookup"><span data-stu-id="feb26-250">No</span></span> | <span data-ttu-id="feb26-251">Если указано значение для `completionBotId` , `result` объект отправляется через `task/submit invoke` сообщение для указанного элемента Bot.</span><span class="sxs-lookup"><span data-stu-id="feb26-251">If a value for `completionBotId` is specified, the `result` object is sent via a a `task/submit invoke` message to the specified bot.</span></span> <span data-ttu-id="feb26-252">`BOT_APP_ID`должен быть указан в манифесте приложения в качестве Bot, то есть невозможно просто отправить его на любой робот.</span><span class="sxs-lookup"><span data-stu-id="feb26-252">`BOT_APP_ID` must be specified as a bot in the app's manifest, i.e. you can't just send it to any bot.</span></span> |

<span data-ttu-id="feb26-253">Обратите внимание на то, `APP_ID` что `BOT_APP_ID` оно является допустимым и должно быть одинаковым, а во многих случаях — в том случае, если приложение использует Bot, поэтому рекомендуется использовать его в качестве идентификатора приложения, если таковой имеется.</span><span class="sxs-lookup"><span data-stu-id="feb26-253">Note that it's valid for `APP_ID` and `BOT_APP_ID` to be the same, and in many cases will be if an app has a bot since it's recommended to use that as an app's ID if there is one.</span></span>

## <a name="keyboard-and-accessibility-guidelines"></a><span data-ttu-id="feb26-254">Рекомендации по использованию клавиатуры и специальных возможностей</span><span class="sxs-lookup"><span data-stu-id="feb26-254">Keyboard and accessibility guidelines</span></span>

<span data-ttu-id="feb26-255">С помощью модулей задач на основе HTML/JavaScript вы отвечаете за обеспечение возможности использования модуля задач приложения с клавиатурой.</span><span class="sxs-lookup"><span data-stu-id="feb26-255">With HTML/JavaScript-based task modules it is your responsibility to ensure your app's task module can be used with a keyboard.</span></span> <span data-ttu-id="feb26-256">Программы чтения с экрана также зависят от возможности навигации с помощью клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="feb26-256">Screen reader programs also depend on the ability to navigate using the keyboard.</span></span> <span data-ttu-id="feb26-257">В частности, это означает две вещи:</span><span class="sxs-lookup"><span data-stu-id="feb26-257">As a practical matter this means two things:</span></span>

1. <span data-ttu-id="feb26-258">Использование [атрибута TabIndex](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex) в HTML-тегах для управления элементами, которые могут быть отсортированы, а также если он участвует в последовательной навигации с клавиатуры (как правило, с помощью клавиш <kbd>Tab</kbd> и <kbd>SHIFT-TAB</kbd> ).</span><span class="sxs-lookup"><span data-stu-id="feb26-258">Using the [tabindex attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex) in your HTML tags to control which elements can be focused and if/where it participates in sequential keyboard navigation (usually with the <kbd>Tab</kbd> and <kbd>Shift-Tab</kbd> keys).</span></span>
2. <span data-ttu-id="feb26-259">Обработка клавиши <kbd>ESC</kbd> в коде JavaScript для модуля задачи.</span><span class="sxs-lookup"><span data-stu-id="feb26-259">Handling the <kbd>Esc</kbd> key in the JavaScript for your task module.</span></span> <span data-ttu-id="feb26-260">Ниже приведен пример кода, демонстрирующий выполнение этого действия.</span><span class="sxs-lookup"><span data-stu-id="feb26-260">Here's a code sample showing how to do this:</span></span>

  ```javascript
  // Handle the Esc key
  document.onkeyup = function(event) {
  if ((event.key === 27) || (event.key === "Escape")) {
    microsoftTeams.submitTask(null); // this will return an err object to the completionHandler()
    }
  }
  ```

<span data-ttu-id="feb26-261">Microsoft Teams обеспечит правильную работу клавиатурных переходов из заголовка модуля задач в HTML-коде и наоборот.</span><span class="sxs-lookup"><span data-stu-id="feb26-261">Microsoft Teams will ensure that keyboard navigation works properly from the task module header into your HTML and vice-versa.</span></span>

## <a name="task-module-samples"></a><span data-ttu-id="feb26-262">Примеры модулей задач</span><span class="sxs-lookup"><span data-stu-id="feb26-262">Task module samples</span></span>

* [<span data-ttu-id="feb26-263">Пример Node. js/TypeScript</span><span class="sxs-lookup"><span data-stu-id="feb26-263">Node.js/TypeScript sample</span></span>](https://github.com/OfficeDev/microsoft-teams-sample-task-module-nodejs)
* [<span data-ttu-id="feb26-264">Пример кода на языке C#/.нет</span><span class="sxs-lookup"><span data-stu-id="feb26-264">C#/.NET sample</span></span>](https://github.com/OfficeDev/microsoft-teams-sample-task-module-csharp)
