---
title: Что такое модули задач?
author: surbhigupta
description: Добавьте модули всплывающих приложений для сбора или отображения данных пользователям из Microsoft Teams приложений
localization_priority: Normal
ms.topic: overview
ms.author: anclear
ms.openlocfilehash: e4937fc4909535506c61b4ac353283322d5f3631
ms.sourcegitcommit: 623d81eb079d1842813265746a5fe0fe6311b196
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/22/2021
ms.locfileid: "53068605"
---
# <a name="task-modules"></a><span data-ttu-id="0e5a8-103">Модули задач</span><span class="sxs-lookup"><span data-stu-id="0e5a8-103">Task modules</span></span>

<span data-ttu-id="0e5a8-104">Модули задач позволяют создавать модальные всплывающие окна в приложении Teams.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-104">Task modules allow you to create modal popup experiences in your Teams application.</span></span> <span data-ttu-id="0e5a8-105">В всплывающее всплывающее представление можно запустить собственный пользовательский код HTML/JavaScript, показать виджет на основе, например видео YouTube или Microsoft Stream, или отобразить `<iframe>` [адаптивную карту.](/adaptive-cards/)</span><span class="sxs-lookup"><span data-stu-id="0e5a8-105">Inside the popup you can run your own custom HTML/JavaScript code, show an `<iframe>`-based widget such as a YouTube or Microsoft Stream video or display an [Adaptive card](/adaptive-cards/).</span></span> <span data-ttu-id="0e5a8-106">Они особенно полезны для инициа-ния и выполнения задач или отображения богатой информации, например видео или Power BI панелей мониторинга.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-106">They are especially useful for initiating and completing tasks or displaying rich information like videos or Power BI dashboards.</span></span> <span data-ttu-id="0e5a8-107">Всплывающее впечатление часто более естественно для пользователей, которые инициировали и завершали задачи по сравнению с вкладками или ботами на основе беседы.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-107">A popup experience is often more natural for users initiating and completing tasks compared to a tab or a conversation-based bot experience.</span></span>

<span data-ttu-id="0e5a8-108">Модули задач строятся на основе вкладок Microsoft Teams; по сути это вкладка в окне всплывающее окно.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-108">Task modules build on the foundation of Microsoft Teams tabs; they are essentially a tab inside a popup window.</span></span> <span data-ttu-id="0e5a8-109">Они используют один и тот же SDK, поэтому если вы создали вкладку, вы уже на 90% сможете создать модуль задач.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-109">They use the same SDK, so if you've built a tab you are already 90% of the way to being able to create a task module.</span></span>

<span data-ttu-id="0e5a8-110">Модули задач можно вызывать тремя способами:</span><span class="sxs-lookup"><span data-stu-id="0e5a8-110">Task modules can be invoked in three ways:</span></span>

* <span data-ttu-id="0e5a8-111">**Вкладки** каналов или личных данных. С помощью Microsoft Teams tabs SDK можно вызвать модули задач из кнопок, ссылок или меню на вкладке. Это подробно [здесь.](~/task-modules-and-cards/task-modules/task-modules-tabs.md)</span><span class="sxs-lookup"><span data-stu-id="0e5a8-111">**Channel or personal tabs**: Using the Microsoft Teams Tabs SDK you can invoke task modules from buttons, links or menus on your tab. [This is covered in detail here.](~/task-modules-and-cards/task-modules/task-modules-tabs.md)</span></span>
* <span data-ttu-id="0e5a8-112">**Bots:** Кнопки на [карточках,](~/task-modules-and-cards/cards/cards-reference.md) отправленных с вашего бота.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-112">**Bots**: Buttons on [cards](~/task-modules-and-cards/cards/cards-reference.md) sent from your bot.</span></span> <span data-ttu-id="0e5a8-113">Это особенно полезно, если вам не нужно, чтобы все в канале видели, что вы делаете с ботом.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-113">This is particularly useful when you don't need everyone in a channel to see what you are doing with a bot.</span></span> <span data-ttu-id="0e5a8-114">Например, когда вам нужно собрать ответы пользователей на опрос в канале, нет никакой необходимости отображать пошаговые действия по созданию этого опроса. </span><span class="sxs-lookup"><span data-stu-id="0e5a8-114">For example, when having users respond to a poll in a channel it's not terribly useful to see a record of that poll being created.</span></span> [<span data-ttu-id="0e5a8-115">Это подробно повеяно здесь.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-115">This is covered in detail here.</span></span>](~/task-modules-and-cards/task-modules/task-modules-bots.md)
* <span data-ttu-id="0e5a8-116">**За пределами Teams** из глубокой ссылки: можно также создавать URL-адреса для вызова модуля задач из любой точки.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-116">**Outside of Teams from a deep link**: You can also create URLs to invoke a task module from anywhere.</span></span> [<span data-ttu-id="0e5a8-117">Это подробно повеяно здесь.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-117">This is covered in detail here.</span></span>](#task-module-deep-link-syntax)

## <a name="task-module-looks-like"></a><span data-ttu-id="0e5a8-118">Модуль задач выглядит так</span><span class="sxs-lookup"><span data-stu-id="0e5a8-118">Task module looks like</span></span>

<span data-ttu-id="0e5a8-119">Вот как выглядит модуль задач при вызове из бота (без цветных прямоугольников и нудных кругов, конечно):</span><span class="sxs-lookup"><span data-stu-id="0e5a8-119">Here's what a task module looks like when invoked from a bot (without the colored rectangles and numbered circles, of course):</span></span>

![Пример модуля задач](~/assets/images/task-module/task-module-example.png)

<span data-ttu-id="0e5a8-121">Давайте пройдитесь по ней:</span><span class="sxs-lookup"><span data-stu-id="0e5a8-121">Let's walk through it:</span></span>

1. <span data-ttu-id="0e5a8-122">Значок [ `color` приложения](~/resources/schema/manifest-schema.md#icons).</span><span class="sxs-lookup"><span data-stu-id="0e5a8-122">Your app's [`color` icon](~/resources/schema/manifest-schema.md#icons).</span></span>
1. <span data-ttu-id="0e5a8-123">Имя [ `short` приложения.](~/resources/schema/manifest-schema.md#name)</span><span class="sxs-lookup"><span data-stu-id="0e5a8-123">Your app's [`short` name](~/resources/schema/manifest-schema.md#name).</span></span>
1. <span data-ttu-id="0e5a8-124">Название модуля задач, указанное в `title` свойстве объекта [TaskInfo.](#the-taskinfo-object)</span><span class="sxs-lookup"><span data-stu-id="0e5a8-124">The task module's title specified in the `title` property of the [TaskInfo object](#the-taskinfo-object).</span></span>
1. <span data-ttu-id="0e5a8-125">Кнопка закрыть или отменить модуль задач.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-125">The task module's close/cancel button.</span></span> <span data-ttu-id="0e5a8-126">Если пользователь нажал это, ваше приложение получит `err` событие, как описано [здесь](~/task-modules-and-cards/task-modules/task-modules-tabs.md#example-submitting-the-result-of-a-task-module).</span><span class="sxs-lookup"><span data-stu-id="0e5a8-126">If the user presses this, your app will receive an `err` event as described [here](~/task-modules-and-cards/task-modules/task-modules-tabs.md#example-submitting-the-result-of-a-task-module).</span></span>
    > [!Note]
    > <span data-ttu-id="0e5a8-127">В настоящее время невозможно обнаружить это событие при вызове модуля задач из бота.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-127">It is currently not possible to detect this event when a task module is invoked from a bot.</span></span>
1. <span data-ttu-id="0e5a8-128">Синий прямоугольник — это место, на котором отображается веб-страница при загрузке собственной веб-страницы с помощью свойства объекта `url` [TaskInfo.](#the-taskinfo-object)</span><span class="sxs-lookup"><span data-stu-id="0e5a8-128">The blue rectangle is the where your web page appears if you are loading your own web page using the `url` property of the [TaskInfo object](#the-taskinfo-object).</span></span> <span data-ttu-id="0e5a8-129">Дополнительные подробности приведены в [разделе размеров модуля задач](#task-module-sizing) ниже.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-129">More detail is in the [task module sizing](#task-module-sizing) section below.</span></span>
1. <span data-ttu-id="0e5a8-130">Если вы отображаете адаптивную карту с помощью свойства объекта `card` [TaskInfo,](#the-taskinfo-object) для вас добавляется обивка, в противном случае вам потребуется самостоятельно справиться [с этим.](#task-module-css-for-htmljavascript-task-modules)</span><span class="sxs-lookup"><span data-stu-id="0e5a8-130">If you are displaying an Adaptive card via the `card` property of the [TaskInfo object](#the-taskinfo-object) the padding is added for you, otherwise you'll need to [handle this yourself](#task-module-css-for-htmljavascript-task-modules).</span></span>
1. <span data-ttu-id="0e5a8-131">Здесь будут отрисовываться кнопки адаптивной карты.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-131">Adaptive card buttons will render here.</span></span> <span data-ttu-id="0e5a8-132">Если вы используете собственную страницу, необходимо создать собственные кнопки.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-132">If you're using your own page you must create your own buttons.</span></span>

## <a name="overview-of-invoking-and-dismissing-task-modules"></a><span data-ttu-id="0e5a8-133">Обзор наводки и увольнения модулей задач</span><span class="sxs-lookup"><span data-stu-id="0e5a8-133">Overview of invoking and dismissing task modules</span></span>

<span data-ttu-id="0e5a8-134">Модули задач могут вызываться из вкладок, ботов или глубоких ссылок, а то, что появляется в одном, может быть HTML или адаптивной картой, поэтому существует большая гибкость с точки зрения того, как они вызываются и как справляться с результатом взаимодействия пользователя.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-134">Task modules can be invoked from tabs, bots or deep links and what appears in one can be either HTML or an Adaptive card, so there's a lot of flexibility in terms of how they are invoked and how to deal with the result of a user's interaction.</span></span> <span data-ttu-id="0e5a8-135">В приведенной ниже таблице кратко излагается, как это работает:</span><span class="sxs-lookup"><span data-stu-id="0e5a8-135">The table below summarizes how this works:</span></span>

| <span data-ttu-id="0e5a8-136">**Вызывается с помощью...**</span><span class="sxs-lookup"><span data-stu-id="0e5a8-136">**Invoked via...**</span></span> | <span data-ttu-id="0e5a8-137">**Модуль задач — HTML/JavaScript**</span><span class="sxs-lookup"><span data-stu-id="0e5a8-137">**Task module is HTML/JavaScript**</span></span> | <span data-ttu-id="0e5a8-138">**Модуль задач — это адаптивная карта**</span><span class="sxs-lookup"><span data-stu-id="0e5a8-138">**Task module is Adaptive card**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="0e5a8-139">**JavaScript на вкладке**</span><span class="sxs-lookup"><span data-stu-id="0e5a8-139">**JavaScript in a tab**</span></span> | <span data-ttu-id="0e5a8-140">1. Используйте функцию Teams SDK с необязательной функцией `tasks.startTask()` `submitHandler(err, result)` вызова.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-140">1. Use the Teams client SDK function `tasks.startTask()` with an optional `submitHandler(err, result)` callback function.</span></span> <br/><br/> <span data-ttu-id="0e5a8-141">2. В коде модуля задач по завершению пользователя вызываем функцию Teams SDK с объектом `tasks.submitTask()` `result` в качестве параметра.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-141">2. In the task module code, when the user is finished, call the Teams SDK function `tasks.submitTask()` with a `result` object as a parameter.</span></span> <span data-ttu-id="0e5a8-142">Если был указан вызов, Teams вызывает его `submitHandler` в качестве `tasks.startTask()` `result` параметра.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-142">If a `submitHandler` callback was specified in `tasks.startTask()`, Teams calls it with `result` as a parameter.</span></span><br/><br/> <span data-ttu-id="0e5a8-143">3. Если при призыве произошла ошибка, функция `tasks.startTask()` `submitHandler` называется `err` строкой.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-143">3. If there was an error when invoking `tasks.startTask()`, the `submitHandler` function is called with an `err` string instead.</span></span> <br/><br/> <span data-ttu-id="0e5a8-144">4. Вы также можете указать при вызове — в этом `completionBotId` `teams.startTask()` случае `result` отправляется боту.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-144">4. You can also specify a `completionBotId` when calling `teams.startTask()` - in that case `result` is sent to the bot instead.</span></span> | <span data-ttu-id="0e5a8-145">1. Вызов Teams клиентской функции SDK с объектом TaskInfo и содержащим JSON для адаптивной карты, чтобы показать в всплывающее всплывающее представление модуля `tasks.startTask()` [](#the-taskinfo-object) `TaskInfo.card` задач.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-145">1. Call the Teams client SDK function `tasks.startTask()` with a [TaskInfo object](#the-taskinfo-object) and `TaskInfo.card` containing the JSON for the Adaptive card to show in the task module popup.</span></span> <br/><br/> <span data-ttu-id="0e5a8-146">2. Если вызов был указан в , Teams вызывает его строкой, если произошла ошибка при вызове или если пользователь закрывает всплывающее всплывающее сообщение модуля задач с помощью X в правом верхнем `submitHandler` `tasks.startTask()` `err` `tasks.startTask()` ряду.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-146">2. If a `submitHandler` callback was specified in `tasks.startTask()`, Teams calls it with an `err` string if there was an error when invoking `tasks.startTask()` or if the user closes the task module popup using the X at the upper right.</span></span> <br/><br/> <span data-ttu-id="0e5a8-147">3. Если пользователь нажал кнопку Action.Submit, его объект возвращается в качестве `data` значения `result` .</span><span class="sxs-lookup"><span data-stu-id="0e5a8-147">3. If the user presses an Action.Submit button then its `data` object is returned as the value of `result`.</span></span> |
| <span data-ttu-id="0e5a8-148">**Кнопка карточки бота**</span><span class="sxs-lookup"><span data-stu-id="0e5a8-148">**Bot card button**</span></span> | <span data-ttu-id="0e5a8-149">1. Кнопки бот-карты в зависимости от типа кнопки могут вызывать модули задач двумя способами: URL-адресом глубокой ссылки или отправкой `task/fetch` сообщения.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-149">1. Bot card buttons, depending on the type of button, can invoke task modules in two ways: a deep link URL or by sending a `task/fetch` message.</span></span> <span data-ttu-id="0e5a8-150">См. ниже, как работают URL-адреса глубоких ссылок.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-150">See below for how deep link URLs work.</span></span> <br/><br/> <span data-ttu-id="0e5a8-151">2. Если действие кнопки (тип кнопки для адаптивных карт), событие (HTTP POST под крышками) отправляется боту, и бот отвечает на СООБЩЕНИЕ с `type` `task/fetch` HTTP `Action.Submit` `task/fetch invoke` 200 и телом ответа, содержащим оболочку вокруг объекта [TaskInfo](#the-taskinfo-object).</span><span class="sxs-lookup"><span data-stu-id="0e5a8-151">2. If the button's action `type` is `task/fetch` (`Action.Submit` button type for Adaptive cards), a `task/fetch invoke` event (an HTTP POST under the covers) is sent to the bot, and the bot responds to the POST with HTTP 200 and the response body containing a wrapper around the [TaskInfo object](#the-taskinfo-object).</span></span> <span data-ttu-id="0e5a8-152">Это подробно объясняется при взводе модуля задач [через задачу/извлечение](~/task-modules-and-cards/task-modules/task-modules-bots.md#invoking-a-task-module-through-taskfetch).</span><span class="sxs-lookup"><span data-stu-id="0e5a8-152">This is explained in detail in [invoking a task module via task/fetch](~/task-modules-and-cards/task-modules/task-modules-bots.md#invoking-a-task-module-through-taskfetch).</span></span><br/><br/> <span data-ttu-id="0e5a8-153">3. Teams отображает модуль задач; Когда пользователь закончит работу, позвоните Teams SDK с `tasks.submitTask()` `result` объектом в качестве параметра.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-153">3. Teams displays the task module; when the user is finished, call the Teams SDK function `tasks.submitTask()` with a `result` object as a parameter.</span></span> <br/><br/> <span data-ttu-id="0e5a8-154">4. Бот получает `task/submit invoke` сообщение, содержаное `result` объект.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-154">4. The bot receives a `task/submit invoke` message that contains the `result` object.</span></span> <span data-ttu-id="0e5a8-155">У вас есть три различных способа ответа на сообщение: ничего не делать (задача выполнена успешно), отобразив сообщение пользователю в всплывающее окно, или путем ссылки на другое окно модуля задач (например, создание мастера, как `task/submit` опыт).</span><span class="sxs-lookup"><span data-stu-id="0e5a8-155">You have three different ways to respond to the `task/submit` message: by doing nothing (the task completed successfully), by displaying a message to the user in a popup window, or by invoking another task module window (i.e. creating a wizard-like experience).</span></span> <span data-ttu-id="0e5a8-156">Эти три варианта более подробно обсуждаются [в подробном обсуждении задачи/отправки.](~/task-modules-and-cards/task-modules/task-modules-bots.md#the-flexibility-of-tasksubmit)</span><span class="sxs-lookup"><span data-stu-id="0e5a8-156">These three options are discussed more [in the detailed discussion on task/submit](~/task-modules-and-cards/task-modules/task-modules-bots.md#the-flexibility-of-tasksubmit).</span></span> | <span data-ttu-id="0e5a8-157">1. Как и кнопки на картах Bot Framework, кнопки на адаптивных картах поддерживают два способа вызова модулей задач: глубокие ссылки URL-адресов с кнопками и с помощью `Action.openUrl` `task/fetch` `Action.Submit` кнопок.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-157">1. Like buttons on Bot Framework cards, buttons on Adaptive cards support two ways of invoking task modules: deep link URLs with `Action.openUrl` buttons, and via `task/fetch` using `Action.Submit` buttons.</span></span> <br/><br/> <span data-ttu-id="0e5a8-158">2. Модули задач с адаптивными картами работают очень аналогично делу HTML/JavaScript (см. слева).</span><span class="sxs-lookup"><span data-stu-id="0e5a8-158">2. Task modules with Adaptive cards work very similarly to the HTML/JavaScript case (see left).</span></span> <span data-ttu-id="0e5a8-159">Главное отличие состоит в том, что, поскольку JavaScript не используется при использовании адаптивных карт, звонить `tasks.submitTask()` нельзя.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-159">The major difference is that since there's no JavaScript when you're using Adaptive cards, there's no way to call `tasks.submitTask()`.</span></span> <span data-ttu-id="0e5a8-160">Вместо этого Teams принимает объект и возвращает его в качестве полезной нагрузки в `data` `Action.Submit` событии, как `task/submit` описано [здесь](~/task-modules-and-cards/task-modules/task-modules-bots.md#the-flexibility-of-tasksubmit).</span><span class="sxs-lookup"><span data-stu-id="0e5a8-160">Instead, Teams takes the `data` object from `Action.Submit` and returns it as the payload of in the `task/submit` event, as described [here](~/task-modules-and-cards/task-modules/task-modules-bots.md#the-flexibility-of-tasksubmit).</span></span> |
| <span data-ttu-id="0e5a8-161">**URL-адрес глубокой ссылки**</span><span class="sxs-lookup"><span data-stu-id="0e5a8-161">**Deep link URL**</span></span> <br/>[<span data-ttu-id="0e5a8-162">синтаксис URL-адреса</span><span class="sxs-lookup"><span data-stu-id="0e5a8-162">URL syntax</span></span>](#task-module-deep-link-syntax) | <span data-ttu-id="0e5a8-163">1. Teams вызывает модуль задач; URL-адрес, который отображается внутри `<iframe>` указанного в `url` параметре глубокой ссылки.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-163">1. Teams invokes the task module; the URL that appears inside the `<iframe>` specified in the `url` parameter of the deep link.</span></span> <span data-ttu-id="0e5a8-164">Нет `submitHandler` вызова.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-164">There is no `submitHandler` callback.</span></span> <br/><br/> <span data-ttu-id="0e5a8-165">2. В JavaScript страницы в модуле задач позвоните, чтобы закрыть его с объектом в качестве параметра, так же, как при вызове его с вкладки или кнопки карты `tasks.submitTask()` `result` бота.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-165">2. Within the JavaScript of the page in the task module, call `tasks.submitTask()` to close it with a `result` object as a parameter, the same as when invoking it from a tab or a bot card button.</span></span> <span data-ttu-id="0e5a8-166">Однако логика завершения несколько отличается.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-166">Completion logic is slightly different, however.</span></span> <span data-ttu-id="0e5a8-167">Если логика завершения находится на клиенте (например, если бота нет) не будет вызова, поэтому любая логика завершения должна быть в коде, предшествующего `submitHandler` `tasks.submitTask()` вызову.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-167">If your completion logic resides on the client (i.e. if there is no bot) there is no `submitHandler` callback, so any completion logic must be in the code preceding the call to `tasks.submitTask()`.</span></span> <span data-ttu-id="0e5a8-168">О ошибках вызовов сообщается только через консоль.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-168">Invocation errors are only reported via the console.</span></span> <span data-ttu-id="0e5a8-169">Если у вас есть бот, можно указать параметр в глубокой ссылке, чтобы `completionBotId` отправить объект с помощью `result` `task/submit` события.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-169">If you have a bot, then you can specify a `completionBotId` parameter in the deep link to send the `result` object via a `task/submit` event.</span></span> | <span data-ttu-id="0e5a8-170">1. Teams вызывает модуль задач; Тело карточки JSON адаптивной карты указывается как url-кодированное значение параметра `card` глубокой ссылки.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-170">1. Teams invokes the task module; the JSON card body of the Adaptive card is specified as a URL-encoded value of the `card` parameter of the deep link.</span></span> <br/><br/> <span data-ttu-id="0e5a8-171">2. Пользователь закрывает модуль задач, щелкнув X в правом верхнем справа от модуля задачи или нажав кнопку `Action.Submit` на карточке.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-171">2. The user closes the task module by clicking on the X at the upper right of the task module or by pressing an `Action.Submit` button on the card.</span></span> <span data-ttu-id="0e5a8-172">Так как нет вызова, необходимо иметь бота для отправки значения полей `submitHandler` адаптивной карты.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-172">Since there is no `submitHandler` to call, you must have a bot to send the value of the Adaptive card fields to.</span></span> <span data-ttu-id="0e5a8-173">Параметр в глубокой ссылке используется для указания бота для отправки данных `completionBotId` через `task/submit invoke` событие.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-173">You use the `completionBotId` parameter in the deep link to specify the bot to send the data to via a `task/submit invoke` event.</span></span> |

## <a name="the-taskinfo-object"></a><span data-ttu-id="0e5a8-174">Объект TaskInfo</span><span class="sxs-lookup"><span data-stu-id="0e5a8-174">The TaskInfo object</span></span>

<span data-ttu-id="0e5a8-175">Объект `TaskInfo` содержит метаданные для модуля задач.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-175">The `TaskInfo` object contains the metadata for a task module.</span></span> <span data-ttu-id="0e5a8-176">Определение объекта приведено ниже.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-176">The object definition is below.</span></span> <span data-ttu-id="0e5a8-177">Необходимо **определить** для `url` встроенного iFrame или `card` адаптивной карты.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-177">You **must** define either `url` for an embedded iFrame or `card` for an Adaptive Card.</span></span>

| <span data-ttu-id="0e5a8-178">Атрибут</span><span class="sxs-lookup"><span data-stu-id="0e5a8-178">Attribute</span></span> | <span data-ttu-id="0e5a8-179">Тип</span><span class="sxs-lookup"><span data-stu-id="0e5a8-179">Type</span></span> | <span data-ttu-id="0e5a8-180">Описание</span><span class="sxs-lookup"><span data-stu-id="0e5a8-180">Description</span></span> |
| --- | --- | --- |
| `title` | <span data-ttu-id="0e5a8-181">string</span><span class="sxs-lookup"><span data-stu-id="0e5a8-181">string</span></span> | <span data-ttu-id="0e5a8-182">Отображается ниже имени приложения и справа от значка приложения.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-182">Appears below the app name and to the right of the app icon.</span></span> |
| `height` | <span data-ttu-id="0e5a8-183">number или string</span><span class="sxs-lookup"><span data-stu-id="0e5a8-183">number or string</span></span> | <span data-ttu-id="0e5a8-184">Это может быть число, представляющее высоту модуля задач в пикселях, или `small` `medium` , или `large` .</span><span class="sxs-lookup"><span data-stu-id="0e5a8-184">This can be a number representing the task module's height in pixels, or `small`, `medium`, or `large`.</span></span> <span data-ttu-id="0e5a8-185">[См. ниже, как обрабатываются высота и ширина.](#task-module-sizing)</span><span class="sxs-lookup"><span data-stu-id="0e5a8-185">[See below for how height and width are handled](#task-module-sizing).</span></span> |
| `width` | <span data-ttu-id="0e5a8-186">number или string</span><span class="sxs-lookup"><span data-stu-id="0e5a8-186">number or string</span></span> | <span data-ttu-id="0e5a8-187">Это может быть число, представляющее ширину модуля задач в пикселях, или `small` `medium` , или `large` .</span><span class="sxs-lookup"><span data-stu-id="0e5a8-187">This can be a number representing the task module's width in pixels, or `small`, `medium`, or `large`.</span></span> <span data-ttu-id="0e5a8-188">[См. ниже, как обрабатываются высота и ширина.](#task-module-sizing)</span><span class="sxs-lookup"><span data-stu-id="0e5a8-188">[See below for how height and width are handled](#task-module-sizing).</span></span> |
| `url` | <span data-ttu-id="0e5a8-189">Строка</span><span class="sxs-lookup"><span data-stu-id="0e5a8-189">string</span></span> | <span data-ttu-id="0e5a8-190">URL-адрес страницы, загруженной как `<iframe>` внутри модуля задач.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-190">The URL of the page loaded as an `<iframe>` inside the task module.</span></span> <span data-ttu-id="0e5a8-191">Домен URL-адреса должен быть в массиве [validDomains](~/resources/schema/manifest-schema.md#validdomains) приложения в манифесте приложения.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-191">The URL's domain must be in the app's [validDomains array](~/resources/schema/manifest-schema.md#validdomains) in your app's manifest.</span></span> |
| `card` | <span data-ttu-id="0e5a8-192">Адаптивная карта или вложение бот-карты адаптивной карты</span><span class="sxs-lookup"><span data-stu-id="0e5a8-192">Adaptive card or an Adaptive card bot card attachment</span></span> | <span data-ttu-id="0e5a8-193">JSON для адаптивной карты, которая появится в модуле задач.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-193">The JSON for the Adaptive card to appear in the task module.</span></span> <span data-ttu-id="0e5a8-194">Если вы назовете бота, вам потребуется использовать адаптивную карту JSON в объекте Bot `attachment` Framework.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-194">If you're invoking from a bot, you'll need to use the Adaptive card JSON in a Bot Framework `attachment` object.</span></span> <span data-ttu-id="0e5a8-195">На вкладке вы будете использовать только адаптивную карту.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-195">From a tab you'll use just an Adaptive Card.</span></span> [<span data-ttu-id="0e5a8-196">Вот пример.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-196">Here's an example.</span></span>](#adaptive-card-or-adaptive-card-bot-card-attachment) |
| `fallbackUrl` | <span data-ttu-id="0e5a8-197">Строка</span><span class="sxs-lookup"><span data-stu-id="0e5a8-197">string</span></span> | <span data-ttu-id="0e5a8-198">Если клиент не поддерживает функцию модуля задач, этот URL-адрес открывается на вкладке браузера.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-198">If a client does not support the task module feature, this URL is opened in a browser tab.</span></span> |
| `completionBotId` | <span data-ttu-id="0e5a8-199">Строка</span><span class="sxs-lookup"><span data-stu-id="0e5a8-199">string</span></span> | <span data-ttu-id="0e5a8-200">Указывает ID приложения-бота для отправки результатов взаимодействия пользователя с модулем задач.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-200">Specifies a bot App ID to send the result of the user's interaction with the task module to.</span></span> <span data-ttu-id="0e5a8-201">Если указано, бот получит событие с объектом `task/submit invoke` JSON в полезной нагрузке события.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-201">If specified, the bot will receive a `task/submit invoke` event with a JSON object in the event payload.</span></span> |

> [!NOTE]
> <span data-ttu-id="0e5a8-202">Функция модуля задач требует, чтобы домены всех URL-адресов, которые необходимо загрузить, были включены в массив `validDomains` манифеста приложения.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-202">The task module feature requires that the domains of any URLs you want to load are included in the `validDomains` array in your app's manifest.</span></span>

## <a name="task-module-sizing"></a><span data-ttu-id="0e5a8-203">Размер модуля задач</span><span class="sxs-lookup"><span data-stu-id="0e5a8-203">Task module sizing</span></span>

<span data-ttu-id="0e5a8-204">Использование integers для `TaskInfo.width` и `TaskInfo.height` будет устанавливать высоту и ширину в пикселях.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-204">Using integers for `TaskInfo.width` and `TaskInfo.height` will set the height and width in pixels.</span></span> <span data-ttu-id="0e5a8-205">Однако в зависимости от размера окна и разрешения экрана группы они будут уменьшаться пропорционально при сохранении соотношения аспектов (ширина и высота).</span><span class="sxs-lookup"><span data-stu-id="0e5a8-205">However, depending on the size of the Team's window and screen resolution they will be reduced proportionally while maintaining the aspect ratio (width/height).</span></span>

<span data-ttu-id="0e5a8-206">Если и являются, или размер красного прямоугольника на рисунке выше, это доля доступного `TaskInfo.width` `TaskInfo.height` `"small"` `"medium"` `"large"` пространства: 20%, 50%, 60% для и `width` 20%, 50%, 66% для `height` .</span><span class="sxs-lookup"><span data-stu-id="0e5a8-206">If `TaskInfo.width` and `TaskInfo.height` are `"small"`, `"medium"` or `"large"` the size of the red rectangle in the picture above is a proportion of the available space: 20%, 50%, 60% for `width` and 20%, 50%, 66% for `height`.</span></span>

<span data-ttu-id="0e5a8-207">Модули задач, вызываемые со вкладки, можно динамически реамизировать.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-207">Task modules invoked from a tab can be dynamically resized.</span></span> <span data-ttu-id="0e5a8-208">После вызова можно вызвать, где свойства высоты и ширины объекта newSize соответствуют спецификации `tasks.startTask()` `tasks.updateTask(newSize)` TaskInfo (например.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-208">After calling `tasks.startTask()` you can call `tasks.updateTask(newSize)` where height and width properties on the newSize object conform to the TaskInfo spec (ex.</span></span> <span data-ttu-id="0e5a8-209">`{ height: 'medium', width: 'medium' }`).</span><span class="sxs-lookup"><span data-stu-id="0e5a8-209">`{ height: 'medium', width: 'medium' }`).</span></span>

## <a name="task-module-css-for-htmljavascript-task-modules"></a><span data-ttu-id="0e5a8-210">Модуль задач CSS для модулей задач HTML/JavaScript</span><span class="sxs-lookup"><span data-stu-id="0e5a8-210">Task module CSS for HTML/JavaScript task modules</span></span>

<span data-ttu-id="0e5a8-211">Модули задач на основе HTML/JavaScript имеют доступ ко всей области модуля задач под заголовщиком.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-211">HTML/JavaScript-based task modules have access to the entire area of the task module below the header.</span></span> <span data-ttu-id="0e5a8-212">Хотя это обеспечивает большую гибкость, если вы хотите, чтобы обивка по краям совпадала с элементами загона и избегала ненужных прокруток, необходимо предоставить правильный CSS.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-212">While that offers a great deal of flexibility, if you want padding around the edges to align with the header elements and avoid unnecessary scrollbars you'll need to provide the right CSS.</span></span> <span data-ttu-id="0e5a8-213">Вот несколько примеров для нескольких случаев использования.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-213">Here are some examples for a few use cases.</span></span>

### <a name="example-1---youtube-video"></a><span data-ttu-id="0e5a8-214">Пример 1 — видео На YouTube</span><span class="sxs-lookup"><span data-stu-id="0e5a8-214">Example 1 - YouTube video</span></span>

<span data-ttu-id="0e5a8-215">YouTube предлагает возможность встраить видео на веб-страницах.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-215">YouTube offers the ability to embed videos on web pages.</span></span> <span data-ttu-id="0e5a8-216">С помощью простой веб-страницы забоя это легко показать в модуле задач:</span><span class="sxs-lookup"><span data-stu-id="0e5a8-216">Using a simple stub web page it's easy to show this in a task module:</span></span>

![Видео YouTube](~/assets/images/task-module/youtube-example.png)

<span data-ttu-id="0e5a8-218">Вот HTML для этой страницы без CSS:</span><span class="sxs-lookup"><span data-stu-id="0e5a8-218">Here's the HTML for this page, without the CSS:</span></span>

```html
<!DOCTYPE html>
<html lang="en">
<head>
  ⋮
</head>
<body>
  <div id="embed-container">
    <iframe width="1000" height="700" src="https://www.youtube.com/embed/rd0Rd8w3FZ0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen=""></iframe>
  </div>
</body>
</html>
```

<span data-ttu-id="0e5a8-219">CSS выглядит так:</span><span class="sxs-lookup"><span data-stu-id="0e5a8-219">The CSS looks like this:</span></span>

```css
#embed-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 95%;
    height: 95%;
    padding-left: 20px;
    padding-right: 20px;
    padding-top: 10px;
    padding-bottom: 10px;
    border-style: none;
}
```

### <a name="example-2---powerapp"></a><span data-ttu-id="0e5a8-220">Пример 2 . PowerApp</span><span class="sxs-lookup"><span data-stu-id="0e5a8-220">Example 2 - PowerApp</span></span>

<span data-ttu-id="0e5a8-221">Такой же подход можно использовать и для встраить PowerApp.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-221">You can use the same approach to embed a PowerApp as well.</span></span> <span data-ttu-id="0e5a8-222">Поскольку высота и ширина каждого отдельного PowerApp настраиваются, может потребоваться изменить высоту и ширину, чтобы достичь желаемой презентации.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-222">As the height/width of any individual PowerApp is customizable, you may need to adjust the height and width to achieve your desired presentation.</span></span>

![PowerApp управления активами](~/assets/images/task-module/powerapp-example.png)

```html
<iframe width="720" height="520" src="https://web.powerapps.com/webplayer/iframeapp?source=iframe&screenColor=rgba(104,101,171,1)&appId=/providers/Microsoft.PowerApps/apps/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"></iframe>
```

<span data-ttu-id="0e5a8-224">И CSS:</span><span class="sxs-lookup"><span data-stu-id="0e5a8-224">And the CSS is:</span></span>

```css
#embed-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 94%;
    height: 95%;
    padding-left: 20px;
    padding-right: 20px;
    padding-top: 10px;
    padding-bottom: 10px;
    border-style: none;
}
```

## <a name="adaptive-card-or-adaptive-card-bot-card-attachment"></a><span data-ttu-id="0e5a8-225">Адаптивная карта или вложение бот-карты адаптивной карты</span><span class="sxs-lookup"><span data-stu-id="0e5a8-225">Adaptive card or Adaptive card bot card attachment</span></span>

<span data-ttu-id="0e5a8-226">Как мы уже отмечали выше, в зависимости от того, как вы назовете свою, вам потребуется использовать либо адаптивную карту, либо вложение бота-бота адаптивной карты (это всего лишь адаптивная карта, завернутая в объект `card` вложения).</span><span class="sxs-lookup"><span data-stu-id="0e5a8-226">As we noted above, depending on how you're invoking your `card` you'll need to use either an Adaptive card, or an Adaptive card bot card attachment (which is just an Adaptive card wrapped in an attachment object).</span></span>

<span data-ttu-id="0e5a8-227">При наводке со вкладки необходимо использовать адаптивную карточку.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-227">When you're invoking from a tab, you'll need to use an adaptive card.</span></span> <span data-ttu-id="0e5a8-228">Вот очень простой пример:</span><span class="sxs-lookup"><span data-stu-id="0e5a8-228">Here's a very simple example:</span></span>

```json
{
    "type": "AdaptiveCard",
    "body": [
        {
            "type": "TextBlock",
            "text": "Here is a ninja cat:"
        },
        {
            "type": "Image",
            "url": "http://adaptivecards.io/content/cats/1.png",
            "size": "Medium"
        }
    ],
    "version": "1.0"
}
```

<span data-ttu-id="0e5a8-229">При наложении на бота необходимо использовать вложение бота-бота адаптивной карты, как в примере ниже:</span><span class="sxs-lookup"><span data-stu-id="0e5a8-229">When you're invoking from a bot you'll need to use an Adaptive card bot card attachment as in the example below:</span></span>

```json
{
    "contentType": "application/vnd.microsoft.card.adaptive",
    "content": {
        "type": "AdaptiveCard",
        "body": [
            {
                "type": "TextBlock",
                "text": "Here is a ninja cat:"
            },
            {
                "type": "Image",
                "url": "http://adaptivecards.io/content/cats/1.png",
                "size": "Medium"
            }
        ],
        "version": "1.0"
    }
}
```

<span data-ttu-id="0e5a8-230">Вам необходимо помнить, является ли вы ссылкой на модуль задач, содержащий адаптивную карту от бота или вкладки.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-230">You'll need to remember whether you are invoking a task module containing an Adaptive card from a bot or a tab.</span></span>

## <a name="task-module-deep-link-syntax"></a><span data-ttu-id="0e5a8-231">Синтаксис глубокой ссылки модуля задач</span><span class="sxs-lookup"><span data-stu-id="0e5a8-231">Task module deep link syntax</span></span>

<span data-ttu-id="0e5a8-232">Глубокая ссылка модуля задач — это просто сериализация объекта [TaskInfo](#the-taskinfo-object) с двумя другими частями информации и `APP_ID` `BOT_APP_ID` необязательно:</span><span class="sxs-lookup"><span data-stu-id="0e5a8-232">A task module deep link is just a serialization of the [TaskInfo object](#the-taskinfo-object) with two other pieces of information, `APP_ID` and optionally the `BOT_APP_ID`:</span></span>

`https://teams.microsoft.com/l/task/APP_ID?url=<TaskInfo.url>&height=<TaskInfo.height>&width=<TaskInfo.width>&title=<TaskInfo.title>&completionBotId=BOT_APP_ID`

`https://teams.microsoft.com/l/task/APP_ID?card=<TaskInfo.card>&height=<TaskInfo.height>&width=<TaskInfo.width>&title=<TaskInfo.title>&completionBotId=BOT_APP_ID`

<span data-ttu-id="0e5a8-233">См. [объект TaskInfo](#the-taskinfo-object) для типов данных и допустимых значений `<TaskInfo.url>` для , , , и `<TaskInfo.card>` `<TaskInfo.height>` `<TaskInfo.width>` `<TaskInfo.title>` .</span><span class="sxs-lookup"><span data-stu-id="0e5a8-233">See [TaskInfo object](#the-taskinfo-object) for the data types and allowable values for `<TaskInfo.url>`, `<TaskInfo.card>`, `<TaskInfo.height>`, `<TaskInfo.width>`, and `<TaskInfo.title>`.</span></span>

> [!TIP]
> <span data-ttu-id="0e5a8-234">Убедитесь, что URL-адрес кодирует глубокую ссылку, особенно при использовании параметра (например, функции `card` JavaScript). [ `encodeURI()` ](https://www.w3schools.com/jsref/jsref_encodeURI.asp)</span><span class="sxs-lookup"><span data-stu-id="0e5a8-234">Be sure to URL encode the deep link, especially when using the `card` parameter (for example, JavaScript's [`encodeURI()` function](https://www.w3schools.com/jsref/jsref_encodeURI.asp)).</span></span>

<span data-ttu-id="0e5a8-235">Ниже данная `APP_ID` информация. `BOT_APP_ID`</span><span class="sxs-lookup"><span data-stu-id="0e5a8-235">Here's the information on `APP_ID` and `BOT_APP_ID`:</span></span>

| <span data-ttu-id="0e5a8-236">Значение</span><span class="sxs-lookup"><span data-stu-id="0e5a8-236">Value</span></span> | <span data-ttu-id="0e5a8-237">Тип</span><span class="sxs-lookup"><span data-stu-id="0e5a8-237">Type</span></span> | <span data-ttu-id="0e5a8-238">Обязательный?</span><span class="sxs-lookup"><span data-stu-id="0e5a8-238">Required?</span></span> | <span data-ttu-id="0e5a8-239">Описание</span><span class="sxs-lookup"><span data-stu-id="0e5a8-239">Description</span></span> |
| --- | --- | --- | --- |
| `APP_ID` | <span data-ttu-id="0e5a8-240">string</span><span class="sxs-lookup"><span data-stu-id="0e5a8-240">string</span></span> | <span data-ttu-id="0e5a8-241">Да</span><span class="sxs-lookup"><span data-stu-id="0e5a8-241">Yes</span></span> | <span data-ttu-id="0e5a8-242">ID [приложения,](~/resources/schema/manifest-schema.md#id) на который выдают ссылку на модуль задач.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-242">The [id](~/resources/schema/manifest-schema.md#id) of the app invoking the task module.</span></span> <span data-ttu-id="0e5a8-243">Массив [validDomains в](~/resources/schema/manifest-schema.md#validdomains) манифесте для должен содержать домен, если `APP_ID` находится в `url` `url` URL-адресе.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-243">The [validDomains array](~/resources/schema/manifest-schema.md#validdomains) in the manifest for `APP_ID` must contain the domain for `url` if `url` is in the URL.</span></span> <span data-ttu-id="0e5a8-244">(ID приложения уже известен при вызове модуля задач со вкладки или бота, поэтому он не включен `TaskInfo` в .)</span><span class="sxs-lookup"><span data-stu-id="0e5a8-244">(The app ID is already known when a task module is invoked from a tab or a bot, which is why it's not included in `TaskInfo`.)</span></span> |
| `BOT_APP_ID` | <span data-ttu-id="0e5a8-245">string</span><span class="sxs-lookup"><span data-stu-id="0e5a8-245">string</span></span> | <span data-ttu-id="0e5a8-246">Нет</span><span class="sxs-lookup"><span data-stu-id="0e5a8-246">No</span></span> | <span data-ttu-id="0e5a8-247">Если задано значение, объект отправляется через `completionBotId` `result` сообщение `task/submit invoke` указанному боту.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-247">If a value for `completionBotId` is specified, the `result` object is sent via a a `task/submit invoke` message to the specified bot.</span></span> <span data-ttu-id="0e5a8-248">`BOT_APP_ID` должно быть указано как бот в манифесте приложения, т. е. вы не можете просто отправить его любому боту.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-248">`BOT_APP_ID` must be specified as a bot in the app's manifest, i.e. you can't just send it to any bot.</span></span> |

<span data-ttu-id="0e5a8-249">Обратите внимание, что он действителен для одного и того же и во многих случаях будет иметь бот, так как рекомендуется использовать его в качестве удостоверения приложения, если он `APP_ID` `BOT_APP_ID` есть.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-249">Note that it's valid for `APP_ID` and `BOT_APP_ID` to be the same, and in many cases will be if an app has a bot since it's recommended to use that as an app's ID if there is one.</span></span>

## <a name="keyboard-and-accessibility-guidelines"></a><span data-ttu-id="0e5a8-250">Рекомендации по клавиатуре и доступности</span><span class="sxs-lookup"><span data-stu-id="0e5a8-250">Keyboard and accessibility guidelines</span></span>

<span data-ttu-id="0e5a8-251">С помощью модулей задач на основе HTML/JavaScript вы несете ответственность за то, чтобы модуль задач вашего приложения можно было использовать с помощью клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-251">With HTML/JavaScript-based task modules it is your responsibility to ensure your app's task module can be used with a keyboard.</span></span> <span data-ttu-id="0e5a8-252">Программы чтения с экрана также зависят от возможности навигации с помощью клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-252">Screen reader programs also depend on the ability to navigate using the keyboard.</span></span> <span data-ttu-id="0e5a8-253">На практике это означает две вещи:</span><span class="sxs-lookup"><span data-stu-id="0e5a8-253">As a practical matter this means two things:</span></span>

1. <span data-ttu-id="0e5a8-254">Использование атрибута [tabindex](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex) в тегах HTML для управления элементами, которые могут быть сфокусированы и если/где он участвует в последовательной навигации клавиатуры (обычно с клавишами <kbd>Tab</kbd> и <kbd>Shift-Tab).</kbd></span><span class="sxs-lookup"><span data-stu-id="0e5a8-254">Using the [tabindex attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex) in your HTML tags to control which elements can be focused and if/where it participates in sequential keyboard navigation (usually with the <kbd>Tab</kbd> and <kbd>Shift-Tab</kbd> keys).</span></span>
2. <span data-ttu-id="0e5a8-255">Обработка <kbd>ключа Esc</kbd> в JavaScript для модуля задач.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-255">Handling the <kbd>Esc</kbd> key in the JavaScript for your task module.</span></span> <span data-ttu-id="0e5a8-256">Вот пример кода, показывающий, как это сделать:</span><span class="sxs-lookup"><span data-stu-id="0e5a8-256">Here's a code sample showing how to do this:</span></span>

  ```javascript
  // Handle the Esc key
  document.onkeyup = function(event) {
  if ((event.key === 27) || (event.key === "Escape")) {
    microsoftTeams.submitTask(null); // this will return an err object to the completionHandler()
    }
  }
  ```

<span data-ttu-id="0e5a8-257">Microsoft Teams обеспечит правильную работу навигации по клавиатуре из заголовка модуля задач в HTML и наоборот.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-257">Microsoft Teams will ensure that keyboard navigation works properly from the task module header into your HTML and vice-versa.</span></span>

## <a name="code-sample"></a><span data-ttu-id="0e5a8-258">Пример кода</span><span class="sxs-lookup"><span data-stu-id="0e5a8-258">Code sample</span></span>
|<span data-ttu-id="0e5a8-259">**Пример имени**</span><span class="sxs-lookup"><span data-stu-id="0e5a8-259">**Sample name**</span></span> | <span data-ttu-id="0e5a8-260">**Описание**</span><span class="sxs-lookup"><span data-stu-id="0e5a8-260">**Description**</span></span> | <span data-ttu-id="0e5a8-261">**.NET**</span><span class="sxs-lookup"><span data-stu-id="0e5a8-261">**.NET**</span></span> | <span data-ttu-id="0e5a8-262">**Node.js**</span><span class="sxs-lookup"><span data-stu-id="0e5a8-262">**Node.js**</span></span>|
|----------------|-----------------|--------------|----------------|
|<span data-ttu-id="0e5a8-263">Пример модуля задач (Bots-V4)</span><span class="sxs-lookup"><span data-stu-id="0e5a8-263">Task module sample (Bots-V4)</span></span> | <span data-ttu-id="0e5a8-264">Примеры для создания модулей задач.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-264">Samples for creating task modules.</span></span> |[<span data-ttu-id="0e5a8-265">View</span><span class="sxs-lookup"><span data-stu-id="0e5a8-265">View</span></span>](https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/app-task-module/csharp)|[<span data-ttu-id="0e5a8-266">View</span><span class="sxs-lookup"><span data-stu-id="0e5a8-266">View</span></span>](https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/app-task-module/nodejs)| 
|<span data-ttu-id="0e5a8-267">Пример модуля задач (Tabs + Bots-V3)</span><span class="sxs-lookup"><span data-stu-id="0e5a8-267">Task module sample (Tabs + Bots-V3)</span></span> | <span data-ttu-id="0e5a8-268">Примеры для создания модулей задач.</span><span class="sxs-lookup"><span data-stu-id="0e5a8-268">Samples for creating task modules.</span></span> |[<span data-ttu-id="0e5a8-269">View</span><span class="sxs-lookup"><span data-stu-id="0e5a8-269">View</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/main/samples/csharp_dotnetcore/54.teams-task-module)|[<span data-ttu-id="0e5a8-270">View</span><span class="sxs-lookup"><span data-stu-id="0e5a8-270">View</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/main/samples/javascript_nodejs/54.teams-task-module)|

## <a name="see-also"></a><span data-ttu-id="0e5a8-271">Дополнительные материалы</span><span class="sxs-lookup"><span data-stu-id="0e5a8-271">See also</span></span>

* [<span data-ttu-id="0e5a8-272">Запрос разрешений устройства</span><span class="sxs-lookup"><span data-stu-id="0e5a8-272">Request device permissions</span></span>](../concepts/device-capabilities/native-device-permissions.md)
* [<span data-ttu-id="0e5a8-273">Интеграция возможностей мультимедиа</span><span class="sxs-lookup"><span data-stu-id="0e5a8-273">Integrate media capabilities</span></span>](../concepts/device-capabilities/mobile-camera-image-permissions.md)
* [<span data-ttu-id="0e5a8-274">Интеграция возможностей сканера QR или штрихкодов в Teams</span><span class="sxs-lookup"><span data-stu-id="0e5a8-274">Integrate QR or barcode scanner capability in Teams</span></span>](../concepts/device-capabilities/qr-barcode-scanner-capability.md)
* [<span data-ttu-id="0e5a8-275">Интеграция возможностей расположения в Teams</span><span class="sxs-lookup"><span data-stu-id="0e5a8-275">Integrate location capabilities in Teams</span></span>](../concepts/device-capabilities/location-capability.md)
