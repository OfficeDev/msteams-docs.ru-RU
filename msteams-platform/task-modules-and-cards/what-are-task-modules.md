---
title: Что такое модули задач?
author: clearab
description: Добавление модальных всплывающих приложений для сбора или отображения информации пользователям из ваших Microsoft Teams приложений
localization_priority: Normal
ms.topic: overview
ms.author: anclear
ms.openlocfilehash: 23157e30ce25c2dfa1c21e7f5c4ddd4f735b660f
ms.sourcegitcommit: 51e4a1464ea58c254ad6bd0317aca03ebf6bf1f6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/19/2021
ms.locfileid: "52566845"
---
# <a name="task-modules"></a><span data-ttu-id="f94fa-103">Модули задач</span><span class="sxs-lookup"><span data-stu-id="f94fa-103">Task modules</span></span>

<span data-ttu-id="f94fa-104">Модули задач позволяют создавать модальные всплывающие окна в приложении Teams.</span><span class="sxs-lookup"><span data-stu-id="f94fa-104">Task modules allow you to create modal popup experiences in your Teams application.</span></span> <span data-ttu-id="f94fa-105">Внутри всплывающего окна вы можете запустить свой собственный пользовательский HTML/ JavaScript `<iframe>` код, показать на основе виджета, таких как YouTube или Microsoft Stream видео или отображения [адаптивной карты](/adaptive-cards/).</span><span class="sxs-lookup"><span data-stu-id="f94fa-105">Inside the popup you can run your own custom HTML/JavaScript code, show an `<iframe>`-based widget such as a YouTube or Microsoft Stream video or display an [Adaptive card](/adaptive-cards/).</span></span> <span data-ttu-id="f94fa-106">Они особенно полезны для инициирования и выполнения задач или отображения богатой информации, такой как видео или Power BI мониторинга.</span><span class="sxs-lookup"><span data-stu-id="f94fa-106">They are especially useful for initiating and completing tasks or displaying rich information like videos or Power BI dashboards.</span></span> <span data-ttu-id="f94fa-107">Всплывающее окно часто более естественно для пользователей, инициируя и выполняя задачи по сравнению с вкладкой или разговор на основе опыта бота.</span><span class="sxs-lookup"><span data-stu-id="f94fa-107">A popup experience is often more natural for users initiating and completing tasks compared to a tab or a conversation-based bot experience.</span></span>

<span data-ttu-id="f94fa-108">Модули задач строятся на основе Microsoft Teams вкладок; они по существу вкладка внутри всплывающего окна.</span><span class="sxs-lookup"><span data-stu-id="f94fa-108">Task modules build on the foundation of Microsoft Teams tabs; they are essentially a tab inside a popup window.</span></span> <span data-ttu-id="f94fa-109">Они используют тот же SDK, так что если вы создали вкладку вы уже 90% пути к возможности создать модуль задач.</span><span class="sxs-lookup"><span data-stu-id="f94fa-109">They use the same SDK, so if you've built a tab you are already 90% of the way to being able to create a task module.</span></span>

<span data-ttu-id="f94fa-110">Модули задач можно вызывать тремя способами:</span><span class="sxs-lookup"><span data-stu-id="f94fa-110">Task modules can be invoked in three ways:</span></span>

* <span data-ttu-id="f94fa-111">**Канал или личные вкладки**: Использование Microsoft Teams Tabs SDK вы можете вызвать модули задач из кнопок, ссылок или меню на [вкладке. Это подробно описано здесь.](~/task-modules-and-cards/task-modules/task-modules-tabs.md)</span><span class="sxs-lookup"><span data-stu-id="f94fa-111">**Channel or personal tabs**: Using the Microsoft Teams Tabs SDK you can invoke task modules from buttons, links or menus on your tab. [This is covered in detail here.](~/task-modules-and-cards/task-modules/task-modules-tabs.md)</span></span>
* <span data-ttu-id="f94fa-112">**Боты :** Кнопки на [картах, отправленных](~/task-modules-and-cards/cards/cards-reference.md) с вашего бота.</span><span class="sxs-lookup"><span data-stu-id="f94fa-112">**Bots**: Buttons on [cards](~/task-modules-and-cards/cards/cards-reference.md) sent from your bot.</span></span> <span data-ttu-id="f94fa-113">Это особенно полезно, когда вам не нужно все в канале, чтобы увидеть, что вы делаете с ботом.</span><span class="sxs-lookup"><span data-stu-id="f94fa-113">This is particularly useful when you don't need everyone in a channel to see what you are doing with a bot.</span></span> <span data-ttu-id="f94fa-114">Например, когда вам нужно собрать ответы пользователей на опрос в канале, нет никакой необходимости отображать пошаговые действия по созданию этого опроса. </span><span class="sxs-lookup"><span data-stu-id="f94fa-114">For example, when having users respond to a poll in a channel it's not terribly useful to see a record of that poll being created.</span></span> [<span data-ttu-id="f94fa-115">Это подробно описано здесь.</span><span class="sxs-lookup"><span data-stu-id="f94fa-115">This is covered in detail here.</span></span>](~/task-modules-and-cards/task-modules/task-modules-bots.md)
* <span data-ttu-id="f94fa-116">**Вне Teams ссылки: Вы также можете** создавать URL-адреса для вызова модуля задач из любого места.</span><span class="sxs-lookup"><span data-stu-id="f94fa-116">**Outside of Teams from a deep link**: You can also create URLs to invoke a task module from anywhere.</span></span> [<span data-ttu-id="f94fa-117">Это подробно описано здесь.</span><span class="sxs-lookup"><span data-stu-id="f94fa-117">This is covered in detail here.</span></span>](#task-module-deep-link-syntax)

## <a name="task-module-looks-like"></a><span data-ttu-id="f94fa-118">Модуль задачи выглядит как</span><span class="sxs-lookup"><span data-stu-id="f94fa-118">Task module looks like</span></span>

<span data-ttu-id="f94fa-119">Вот как выглядит модуль задач при вызовах бота (без цветных прямоугольников и проумереных кругов, конечно):</span><span class="sxs-lookup"><span data-stu-id="f94fa-119">Here's what a task module looks like when invoked from a bot (without the colored rectangles and numbered circles, of course):</span></span>

![Пример модуля задач](~/assets/images/task-module/task-module-example.png)

<span data-ttu-id="f94fa-121">Давайте пройдите через него:</span><span class="sxs-lookup"><span data-stu-id="f94fa-121">Let's walk through it:</span></span>

1. <span data-ttu-id="f94fa-122">Значок вашего [ `color` приложения](~/resources/schema/manifest-schema.md#icons).</span><span class="sxs-lookup"><span data-stu-id="f94fa-122">Your app's [`color` icon](~/resources/schema/manifest-schema.md#icons).</span></span>
1. <span data-ttu-id="f94fa-123">Имя вашего [ `short` приложения](~/resources/schema/manifest-schema.md#name).</span><span class="sxs-lookup"><span data-stu-id="f94fa-123">Your app's [`short` name](~/resources/schema/manifest-schema.md#name).</span></span>
1. <span data-ttu-id="f94fa-124">Название модуля задачи указано в `title` свойстве объекта [TaskInfo.](#the-taskinfo-object)</span><span class="sxs-lookup"><span data-stu-id="f94fa-124">The task module's title specified in the `title` property of the [TaskInfo object](#the-taskinfo-object).</span></span>
1. <span data-ttu-id="f94fa-125">Кнопка закрытия/отмены модуля задач.</span><span class="sxs-lookup"><span data-stu-id="f94fa-125">The task module's close/cancel button.</span></span> <span data-ttu-id="f94fa-126">Если пользователь нажимает на это, ваше приложение получит событие, `err` описанное [здесь.](~/task-modules-and-cards/task-modules/task-modules-tabs.md#example-submitting-the-result-of-a-task-module)</span><span class="sxs-lookup"><span data-stu-id="f94fa-126">If the user presses this, your app will receive an `err` event as described [here](~/task-modules-and-cards/task-modules/task-modules-tabs.md#example-submitting-the-result-of-a-task-module).</span></span>
    > [!Note]
    > <span data-ttu-id="f94fa-127">В настоящее время невозможно обнаружить это событие при вызываемом модуле задачи от бота.</span><span class="sxs-lookup"><span data-stu-id="f94fa-127">It is currently not possible to detect this event when a task module is invoked from a bot.</span></span>
1. <span data-ttu-id="f94fa-128">Синий прямоугольник является местом, где ваша веб-страница появляется, если вы загружаете свою собственную `url` веб-страницу, используя [свойство объекта TaskInfo.](#the-taskinfo-object)</span><span class="sxs-lookup"><span data-stu-id="f94fa-128">The blue rectangle is the where your web page appears if you are loading your own web page using the `url` property of the [TaskInfo object](#the-taskinfo-object).</span></span> <span data-ttu-id="f94fa-129">Более подробная информация приведена [в разделе размеров модуля задач](#task-module-sizing) ниже.</span><span class="sxs-lookup"><span data-stu-id="f94fa-129">More detail is in the [task module sizing](#task-module-sizing) section below.</span></span>
1. <span data-ttu-id="f94fa-130">Если вы отображаете адаптивную карту `card` через свойство [объекта TaskInfo,](#the-taskinfo-object) обивка добавляется для вас, в противном случае вам нужно будет [справиться с этим самостоятельно.](#task-module-css-for-htmljavascript-task-modules)</span><span class="sxs-lookup"><span data-stu-id="f94fa-130">If you are displaying an Adaptive card via the `card` property of the [TaskInfo object](#the-taskinfo-object) the padding is added for you, otherwise you'll need to [handle this yourself](#task-module-css-for-htmljavascript-task-modules).</span></span>
1. <span data-ttu-id="f94fa-131">Кнопки адаптивной карты будут отрисовывайте здесь.</span><span class="sxs-lookup"><span data-stu-id="f94fa-131">Adaptive card buttons will render here.</span></span> <span data-ttu-id="f94fa-132">Если вы используете свою собственную страницу, вы должны создать свои собственные кнопки.</span><span class="sxs-lookup"><span data-stu-id="f94fa-132">If you're using your own page you must create your own buttons.</span></span>

## <a name="overview-of-invoking-and-dismissing-task-modules"></a><span data-ttu-id="f94fa-133">Обзор модулей задач вызова и увольнения</span><span class="sxs-lookup"><span data-stu-id="f94fa-133">Overview of invoking and dismissing task modules</span></span>

<span data-ttu-id="f94fa-134">Модули задач могут быть вызваны из вкладок, ботов или глубоких ссылок, и то, что появляется в одном может быть либо HTML или адаптивной карты, так что есть много гибкости с точки зрения того, как они вызываются и как бороться с результатом взаимодействия пользователя.</span><span class="sxs-lookup"><span data-stu-id="f94fa-134">Task modules can be invoked from tabs, bots or deep links and what appears in one can be either HTML or an Adaptive card, so there's a lot of flexibility in terms of how they are invoked and how to deal with the result of a user's interaction.</span></span> <span data-ttu-id="f94fa-135">В таблице ниже кратко излагается, как это работает:</span><span class="sxs-lookup"><span data-stu-id="f94fa-135">The table below summarizes how this works:</span></span>

| <span data-ttu-id="f94fa-136">**Вызывается через...**</span><span class="sxs-lookup"><span data-stu-id="f94fa-136">**Invoked via...**</span></span> | <span data-ttu-id="f94fa-137">**Модуль задач HTML/JavaScript**</span><span class="sxs-lookup"><span data-stu-id="f94fa-137">**Task module is HTML/JavaScript**</span></span> | <span data-ttu-id="f94fa-138">**Модуль задачи - Адаптивная карта**</span><span class="sxs-lookup"><span data-stu-id="f94fa-138">**Task module is Adaptive card**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f94fa-139">**JavaScript во вкладке**</span><span class="sxs-lookup"><span data-stu-id="f94fa-139">**JavaScript in a tab**</span></span> | <span data-ttu-id="f94fa-140">1. Используйте функцию Teams SDK клиента с `tasks.startTask()` дополнительной `submitHandler(err, result)` функцией обратного вызова.</span><span class="sxs-lookup"><span data-stu-id="f94fa-140">1. Use the Teams client SDK function `tasks.startTask()` with an optional `submitHandler(err, result)` callback function.</span></span> <br/><br/> <span data-ttu-id="f94fa-141">2. В коде модуля задачи, когда пользователь закончен, позвоните Teams функцию SDK `tasks.submitTask()` с `result` объектом в качестве параметра.</span><span class="sxs-lookup"><span data-stu-id="f94fa-141">2. In the task module code, when the user is finished, call the Teams SDK function `tasks.submitTask()` with a `result` object as a parameter.</span></span> <span data-ttu-id="f94fa-142">Если `submitHandler` обратный вызов был указан `tasks.startTask()` в, Teams называет его `result` в качестве параметра.</span><span class="sxs-lookup"><span data-stu-id="f94fa-142">If a `submitHandler` callback was specified in `tasks.startTask()`, Teams calls it with `result` as a parameter.</span></span><br/><br/> <span data-ttu-id="f94fa-143">3. Если была ошибка при вызове `tasks.startTask()` , функция `submitHandler` называется со строкой `err` вместо.</span><span class="sxs-lookup"><span data-stu-id="f94fa-143">3. If there was an error when invoking `tasks.startTask()`, the `submitHandler` function is called with an `err` string instead.</span></span> <br/><br/> <span data-ttu-id="f94fa-144">4. Вы также можете указать `completionBotId` при вызове `teams.startTask()` - в этом `result` случае отправляется бот вместо.</span><span class="sxs-lookup"><span data-stu-id="f94fa-144">4. You can also specify a `completionBotId` when calling `teams.startTask()` - in that case `result` is sent to the bot instead.</span></span> | <span data-ttu-id="f94fa-145">1. Позвоните Teams SDK с `tasks.startTask()` [объектом TaskInfo](#the-taskinfo-object) и `TaskInfo.card` содержащий JSON для адаптивной карты, чтобы показать в всплывающем модуле задачи.</span><span class="sxs-lookup"><span data-stu-id="f94fa-145">1. Call the Teams client SDK function `tasks.startTask()` with a [TaskInfo object](#the-taskinfo-object) and `TaskInfo.card` containing the JSON for the Adaptive card to show in the task module popup.</span></span> <br/><br/> <span data-ttu-id="f94fa-146">2. Если обратный вызов был указан в , Teams вызывает его со строкой, если была ошибка при `submitHandler` `tasks.startTask()` `err` вызове `tasks.startTask()` или если пользователь закрывает всплывающее окно модуля задачи с помощью X в правом верхнем.</span><span class="sxs-lookup"><span data-stu-id="f94fa-146">2. If a `submitHandler` callback was specified in `tasks.startTask()`, Teams calls it with an `err` string if there was an error when invoking `tasks.startTask()` or if the user closes the task module popup using the X at the upper right.</span></span> <br/><br/> <span data-ttu-id="f94fa-147">3. Если пользователь нажимает кнопку Action.Submit, `data` то его объект возвращается как значение `result` .</span><span class="sxs-lookup"><span data-stu-id="f94fa-147">3. If the user presses an Action.Submit button then its `data` object is returned as the value of `result`.</span></span> |
| <span data-ttu-id="f94fa-148">**Кнопка карты Бот**</span><span class="sxs-lookup"><span data-stu-id="f94fa-148">**Bot card button**</span></span> | <span data-ttu-id="f94fa-149">1. Кнопки карты Bot, в зависимости от типа кнопки, могут вызывать модули задач двумя способами: URL-адресом глубокой ссылки или отправкой `task/fetch` сообщения.</span><span class="sxs-lookup"><span data-stu-id="f94fa-149">1. Bot card buttons, depending on the type of button, can invoke task modules in two ways: a deep link URL or by sending a `task/fetch` message.</span></span> <span data-ttu-id="f94fa-150">Ниже приведены тем, как работают URL-адреса с глубокими ссылками.</span><span class="sxs-lookup"><span data-stu-id="f94fa-150">See below for how deep link URLs work.</span></span> <br/><br/> <span data-ttu-id="f94fa-151">2. Если действие `type` кнопки `task/fetch` `Action.Submit` (тип кнопки для адаптивных карт), событие `task/fetch invoke` (HTTP POST под крышкой) отправляется боту, и бот реагирует на POST с HTTP 200 и органом реагирования, содержащим обертку вокруг [объекта TaskInfo.](#the-taskinfo-object)</span><span class="sxs-lookup"><span data-stu-id="f94fa-151">2. If the button's action `type` is `task/fetch` (`Action.Submit` button type for Adaptive cards), a `task/fetch invoke` event (an HTTP POST under the covers) is sent to the bot, and the bot responds to the POST with HTTP 200 and the response body containing a wrapper around the [TaskInfo object](#the-taskinfo-object).</span></span> <span data-ttu-id="f94fa-152">Это подробно объясняется [вызовом модуля задачи с помощью задачи/извлечения.](~/task-modules-and-cards/task-modules/task-modules-bots.md#invoking-a-task-module-through-taskfetch)</span><span class="sxs-lookup"><span data-stu-id="f94fa-152">This is explained in detail in [invoking a task module via task/fetch](~/task-modules-and-cards/task-modules/task-modules-bots.md#invoking-a-task-module-through-taskfetch).</span></span><br/><br/> <span data-ttu-id="f94fa-153">3. Teams отображает модуль задачи; когда пользователь закончит, позвоните в Teams функцию SDK `tasks.submitTask()` с `result` объектом в качестве параметра.</span><span class="sxs-lookup"><span data-stu-id="f94fa-153">3. Teams displays the task module; when the user is finished, call the Teams SDK function `tasks.submitTask()` with a `result` object as a parameter.</span></span> <br/><br/> <span data-ttu-id="f94fa-154">4. Бот получает `task/submit invoke` сообщение, которое содержит `result` объект.</span><span class="sxs-lookup"><span data-stu-id="f94fa-154">4. The bot receives a `task/submit invoke` message that contains the `result` object.</span></span> <span data-ttu-id="f94fa-155">У вас есть три различных способа ответа на `task/submit` сообщение: ничего не делать (задача успешно выполнена), отображая сообщение пользователю в всплывающем окне, или ссылаясь на другое окно модуля задач (т.е. создавая мастер-как опыт).</span><span class="sxs-lookup"><span data-stu-id="f94fa-155">You have three different ways to respond to the `task/submit` message: by doing nothing (the task completed successfully), by displaying a message to the user in a popup window, or by invoking another task module window (i.e. creating a wizard-like experience).</span></span> <span data-ttu-id="f94fa-156">Эти три варианта обсуждаются более [подробно в подробном обсуждении задачи / представить](~/task-modules-and-cards/task-modules/task-modules-bots.md#the-flexibility-of-tasksubmit).</span><span class="sxs-lookup"><span data-stu-id="f94fa-156">These three options are discussed more [in the detailed discussion on task/submit](~/task-modules-and-cards/task-modules/task-modules-bots.md#the-flexibility-of-tasksubmit).</span></span> | <span data-ttu-id="f94fa-157">1. Как и кнопки на картах Bot Framework, кнопки на адаптивных картах поддерживают два способа вызова модулей задач: url-адреса с кнопками `Action.openUrl` и с `task/fetch` помощью `Action.Submit` кнопок.</span><span class="sxs-lookup"><span data-stu-id="f94fa-157">1. Like buttons on Bot Framework cards, buttons on Adaptive cards support two ways of invoking task modules: deep link URLs with `Action.openUrl` buttons, and via `task/fetch` using `Action.Submit` buttons.</span></span> <br/><br/> <span data-ttu-id="f94fa-158">2. Модули задач с адаптивными картами работают очень похоже на html/JavaScript (см. слева).</span><span class="sxs-lookup"><span data-stu-id="f94fa-158">2. Task modules with Adaptive cards work very similarly to the HTML/JavaScript case (see left).</span></span> <span data-ttu-id="f94fa-159">Основное различие заключается в том, что, поскольку при использовании адаптивных карт JavaScript нет, нет никакого способа `tasks.submitTask()` позвонить.</span><span class="sxs-lookup"><span data-stu-id="f94fa-159">The major difference is that since there's no JavaScript when you're using Adaptive cards, there's no way to call `tasks.submitTask()`.</span></span> <span data-ttu-id="f94fa-160">Вместо Teams, вы `data` принимаете объект `Action.Submit` от и возвращает его в качестве полезной нагрузки в `task/submit` случае, как описано [здесь](~/task-modules-and-cards/task-modules/task-modules-bots.md#the-flexibility-of-tasksubmit).</span><span class="sxs-lookup"><span data-stu-id="f94fa-160">Instead, Teams takes the `data` object from `Action.Submit` and returns it as the payload of in the `task/submit` event, as described [here](~/task-modules-and-cards/task-modules/task-modules-bots.md#the-flexibility-of-tasksubmit).</span></span> |
| <span data-ttu-id="f94fa-161">**Глубокая ссылка URL**</span><span class="sxs-lookup"><span data-stu-id="f94fa-161">**Deep link URL**</span></span> <br/>[<span data-ttu-id="f94fa-162">синтаксис URL-адреса</span><span class="sxs-lookup"><span data-stu-id="f94fa-162">URL syntax</span></span>](#task-module-deep-link-syntax) | <span data-ttu-id="f94fa-163">1. Teams вызывает модуль задачи; URL-адрес, который `<iframe>` отображается внутри указанного `url` параметра глубокой ссылки.</span><span class="sxs-lookup"><span data-stu-id="f94fa-163">1. Teams invokes the task module; the URL that appears inside the `<iframe>` specified in the `url` parameter of the deep link.</span></span> <span data-ttu-id="f94fa-164">Обратного вызова `submitHandler` нет.</span><span class="sxs-lookup"><span data-stu-id="f94fa-164">There is no `submitHandler` callback.</span></span> <br/><br/> <span data-ttu-id="f94fa-165">2. В JavaScript страницы в модуле задачи, вызов, чтобы закрыть его с объектом `tasks.submitTask()` `result` в качестве параметра, так же, как при вызове его из вкладки или кнопки карты бота.</span><span class="sxs-lookup"><span data-stu-id="f94fa-165">2. Within the JavaScript of the page in the task module, call `tasks.submitTask()` to close it with a `result` object as a parameter, the same as when invoking it from a tab or a bot card button.</span></span> <span data-ttu-id="f94fa-166">Однако логика завершения несколько иная.</span><span class="sxs-lookup"><span data-stu-id="f94fa-166">Completion logic is slightly different, however.</span></span> <span data-ttu-id="f94fa-167">Если ваша логика завершения находится на клиенте (т.е. если нет бота) нет `submitHandler` обратного вызова, поэтому любая логика завершения должна быть в коде, предшествующем вызову `tasks.submitTask()` .</span><span class="sxs-lookup"><span data-stu-id="f94fa-167">If your completion logic resides on the client (i.e. if there is no bot) there is no `submitHandler` callback, so any completion logic must be in the code preceding the call to `tasks.submitTask()`.</span></span> <span data-ttu-id="f94fa-168">Ошибки вызова сообщаются только через консоль.</span><span class="sxs-lookup"><span data-stu-id="f94fa-168">Invocation errors are only reported via the console.</span></span> <span data-ttu-id="f94fa-169">Если у вас есть бот, то вы можете `completionBotId` указать параметр в глубокой ссылке, чтобы `result` отправить объект через `task/submit` событие.</span><span class="sxs-lookup"><span data-stu-id="f94fa-169">If you have a bot, then you can specify a `completionBotId` parameter in the deep link to send the `result` object via a `task/submit` event.</span></span> | <span data-ttu-id="f94fa-170">1. Teams вызывает модуль задачи; Корпус карты JSON адаптивной карты указан как URL-закодированное значение `card` параметра глубокой ссылки.</span><span class="sxs-lookup"><span data-stu-id="f94fa-170">1. Teams invokes the task module; the JSON card body of the Adaptive card is specified as a URL-encoded value of the `card` parameter of the deep link.</span></span> <br/><br/> <span data-ttu-id="f94fa-171">2. Пользователь закрывает модуль задачи, нажав на X в правом верхнем правом части модуля задачи или нажав `Action.Submit` кнопку на карте.</span><span class="sxs-lookup"><span data-stu-id="f94fa-171">2. The user closes the task module by clicking on the X at the upper right of the task module or by pressing an `Action.Submit` button on the card.</span></span> <span data-ttu-id="f94fa-172">Так как нет `submitHandler` вызова, вы должны иметь бота, чтобы отправить значение адаптивных полей карты.</span><span class="sxs-lookup"><span data-stu-id="f94fa-172">Since there is no `submitHandler` to call, you must have a bot to send the value of the Adaptive card fields to.</span></span> <span data-ttu-id="f94fa-173">Вы используете `completionBotId` параметр в глубокой ссылке, чтобы указать бота для отправки данных через `task/submit invoke` событие.</span><span class="sxs-lookup"><span data-stu-id="f94fa-173">You use the `completionBotId` parameter in the deep link to specify the bot to send the data to via a `task/submit invoke` event.</span></span> |

## <a name="the-taskinfo-object"></a><span data-ttu-id="f94fa-174">Объект TaskInfo</span><span class="sxs-lookup"><span data-stu-id="f94fa-174">The TaskInfo object</span></span>

<span data-ttu-id="f94fa-175">Объект `TaskInfo` содержит метаданные для модуля задач.</span><span class="sxs-lookup"><span data-stu-id="f94fa-175">The `TaskInfo` object contains the metadata for a task module.</span></span> <span data-ttu-id="f94fa-176">Определение объекта приведено ниже.</span><span class="sxs-lookup"><span data-stu-id="f94fa-176">The object definition is below.</span></span> <span data-ttu-id="f94fa-177">Вы **должны** определить либо `url` для встроенного iFrame или `card` для адаптивной карты.</span><span class="sxs-lookup"><span data-stu-id="f94fa-177">You **must** define either `url` for an embedded iFrame or `card` for an Adaptive Card.</span></span>

| <span data-ttu-id="f94fa-178">Атрибут</span><span class="sxs-lookup"><span data-stu-id="f94fa-178">Attribute</span></span> | <span data-ttu-id="f94fa-179">Тип</span><span class="sxs-lookup"><span data-stu-id="f94fa-179">Type</span></span> | <span data-ttu-id="f94fa-180">Описание</span><span class="sxs-lookup"><span data-stu-id="f94fa-180">Description</span></span> |
| --- | --- | --- |
| `title` | <span data-ttu-id="f94fa-181">string</span><span class="sxs-lookup"><span data-stu-id="f94fa-181">string</span></span> | <span data-ttu-id="f94fa-182">Появляется под именем приложения и справа от значка приложения.</span><span class="sxs-lookup"><span data-stu-id="f94fa-182">Appears below the app name and to the right of the app icon.</span></span> |
| `height` | <span data-ttu-id="f94fa-183">number или string</span><span class="sxs-lookup"><span data-stu-id="f94fa-183">number or string</span></span> | <span data-ttu-id="f94fa-184">Это может быть число, представляющее высоту модуля задачи в пикселях, `small` `medium` или, `large` или.</span><span class="sxs-lookup"><span data-stu-id="f94fa-184">This can be a number representing the task module's height in pixels, or `small`, `medium`, or `large`.</span></span> <span data-ttu-id="f94fa-185">[Смотрите ниже, как высота и ширина обрабатываются.](#task-module-sizing)</span><span class="sxs-lookup"><span data-stu-id="f94fa-185">[See below for how height and width are handled](#task-module-sizing).</span></span> |
| `width` | <span data-ttu-id="f94fa-186">number или string</span><span class="sxs-lookup"><span data-stu-id="f94fa-186">number or string</span></span> | <span data-ttu-id="f94fa-187">Это может быть число, представляющее ширину модуля задачи в пикселях, `small` `medium` или, или `large` .</span><span class="sxs-lookup"><span data-stu-id="f94fa-187">This can be a number representing the task module's width in pixels, or `small`, `medium`, or `large`.</span></span> <span data-ttu-id="f94fa-188">[Смотрите ниже, как высота и ширина обрабатываются.](#task-module-sizing)</span><span class="sxs-lookup"><span data-stu-id="f94fa-188">[See below for how height and width are handled](#task-module-sizing).</span></span> |
| `url` | <span data-ttu-id="f94fa-189">Строка</span><span class="sxs-lookup"><span data-stu-id="f94fa-189">string</span></span> | <span data-ttu-id="f94fa-190">URL страницы, загруженный в качестве `<iframe>` внутреннего модуля задачи.</span><span class="sxs-lookup"><span data-stu-id="f94fa-190">The URL of the page loaded as an `<iframe>` inside the task module.</span></span> <span data-ttu-id="f94fa-191">Домен URL должен быть в массиве [приложения validDomains в](~/resources/schema/manifest-schema.md#validdomains) манифесте вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="f94fa-191">The URL's domain must be in the app's [validDomains array](~/resources/schema/manifest-schema.md#validdomains) in your app's manifest.</span></span> |
| `card` | <span data-ttu-id="f94fa-192">Адаптивная карта или вложение карты Adaptive card</span><span class="sxs-lookup"><span data-stu-id="f94fa-192">Adaptive card or an Adaptive card bot card attachment</span></span> | <span data-ttu-id="f94fa-193">JSON для адаптивной карты, чтобы появиться в модуле задачи.</span><span class="sxs-lookup"><span data-stu-id="f94fa-193">The JSON for the Adaptive card to appear in the task module.</span></span> <span data-ttu-id="f94fa-194">Если вы хотите получить вызов от бота, вам нужно будет использовать адаптивную карту JSON в объекте Bot `attachment` Framework.</span><span class="sxs-lookup"><span data-stu-id="f94fa-194">If you're invoking from a bot, you'll need to use the Adaptive card JSON in a Bot Framework `attachment` object.</span></span> <span data-ttu-id="f94fa-195">Из вкладки вы будете использовать только адаптивную карту.</span><span class="sxs-lookup"><span data-stu-id="f94fa-195">From a tab you'll use just an Adaptive Card.</span></span> [<span data-ttu-id="f94fa-196">Вот пример.</span><span class="sxs-lookup"><span data-stu-id="f94fa-196">Here's an example.</span></span>](#adaptive-card-or-adaptive-card-bot-card-attachment) |
| `fallbackUrl` | <span data-ttu-id="f94fa-197">Строка</span><span class="sxs-lookup"><span data-stu-id="f94fa-197">string</span></span> | <span data-ttu-id="f94fa-198">Если клиент не поддерживает функцию модуля задач, этот URL-адрес открыт во вкладке браузера.</span><span class="sxs-lookup"><span data-stu-id="f94fa-198">If a client does not support the task module feature, this URL is opened in a browser tab.</span></span> |
| `completionBotId` | <span data-ttu-id="f94fa-199">Строка</span><span class="sxs-lookup"><span data-stu-id="f94fa-199">string</span></span> | <span data-ttu-id="f94fa-200">Определяет идентификатор бота App ID для отправки результата взаимодействия пользователя с модулем задач.</span><span class="sxs-lookup"><span data-stu-id="f94fa-200">Specifies a bot App ID to send the result of the user's interaction with the task module to.</span></span> <span data-ttu-id="f94fa-201">Если указано, бот получит событие `task/submit invoke` с объектом JSON в полезной нагрузке события.</span><span class="sxs-lookup"><span data-stu-id="f94fa-201">If specified, the bot will receive a `task/submit invoke` event with a JSON object in the event payload.</span></span> |

> [!NOTE]
> <span data-ttu-id="f94fa-202">Функция модуля задач требует, чтобы домены любых URL-адресов, которые вы хотите загрузить, `validDomains` были включены в массив в манифесте вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="f94fa-202">The task module feature requires that the domains of any URLs you want to load are included in the `validDomains` array in your app's manifest.</span></span>

## <a name="task-module-sizing"></a><span data-ttu-id="f94fa-203">Размер модуля задач</span><span class="sxs-lookup"><span data-stu-id="f94fa-203">Task module sizing</span></span>

<span data-ttu-id="f94fa-204">Использование интеграторов для `TaskInfo.width` и `TaskInfo.height` будет устанавливать высоту и ширину в пикселях.</span><span class="sxs-lookup"><span data-stu-id="f94fa-204">Using integers for `TaskInfo.width` and `TaskInfo.height` will set the height and width in pixels.</span></span> <span data-ttu-id="f94fa-205">Однако в зависимости от размера окна группы и разрешения экрана они будут пропорционально уменьшены при сохранении соотношения сторон (ширина/высота).</span><span class="sxs-lookup"><span data-stu-id="f94fa-205">However, depending on the size of the Team's window and screen resolution they will be reduced proportionally while maintaining the aspect ratio (width/height).</span></span>

<span data-ttu-id="f94fa-206">Если `TaskInfo.width` `TaskInfo.height` и `"small"` `"medium"` есть, или размер красного `"large"` прямоугольника на картинке выше, доля от доступного пространства: 20%, 50%, 60% для `width` и 20%, 50%, 66% для `height` .</span><span class="sxs-lookup"><span data-stu-id="f94fa-206">If `TaskInfo.width` and `TaskInfo.height` are `"small"`, `"medium"` or `"large"` the size of the red rectangle in the picture above is a proportion of the available space: 20%, 50%, 60% for `width` and 20%, 50%, 66% for `height`.</span></span>

<span data-ttu-id="f94fa-207">Модули задач, вызываемые из вкладки, могут быть динамически реилизированы.</span><span class="sxs-lookup"><span data-stu-id="f94fa-207">Task modules invoked from a tab can be dynamically resized.</span></span> <span data-ttu-id="f94fa-208">После вызова `tasks.startTask()` вы можете `tasks.updateTask(newSize)` позвонить, где высота и ширина свойства на newSize объект соответствует спецификации TaskInfo (например.</span><span class="sxs-lookup"><span data-stu-id="f94fa-208">After calling `tasks.startTask()` you can call `tasks.updateTask(newSize)` where height and width properties on the newSize object conform to the TaskInfo spec (ex.</span></span> <span data-ttu-id="f94fa-209">`{ height: 'medium', width: 'medium' }`).</span><span class="sxs-lookup"><span data-stu-id="f94fa-209">`{ height: 'medium', width: 'medium' }`).</span></span>

## <a name="task-module-css-for-htmljavascript-task-modules"></a><span data-ttu-id="f94fa-210">Модуль задач CSS для модулей задач HTML/JavaScript</span><span class="sxs-lookup"><span data-stu-id="f94fa-210">Task module CSS for HTML/JavaScript task modules</span></span>

<span data-ttu-id="f94fa-211">Модули задач на основе HTML/JavaScript имеют доступ ко всей области модуля задач ниже заголовка.</span><span class="sxs-lookup"><span data-stu-id="f94fa-211">HTML/JavaScript-based task modules have access to the entire area of the task module below the header.</span></span> <span data-ttu-id="f94fa-212">Хотя это обеспечивает большую гибкость, если вы хотите обивка по краям, чтобы выровнять с элементами заголовка и избежать ненужных scrollbars вам нужно обеспечить право CSS.</span><span class="sxs-lookup"><span data-stu-id="f94fa-212">While that offers a great deal of flexibility, if you want padding around the edges to align with the header elements and avoid unnecessary scrollbars you'll need to provide the right CSS.</span></span> <span data-ttu-id="f94fa-213">Вот несколько примеров для нескольких случаев использования.</span><span class="sxs-lookup"><span data-stu-id="f94fa-213">Here are some examples for a few use cases.</span></span>

### <a name="example-1---youtube-video"></a><span data-ttu-id="f94fa-214">Пример 1 - видео YouTube</span><span class="sxs-lookup"><span data-stu-id="f94fa-214">Example 1 - YouTube video</span></span>

<span data-ttu-id="f94fa-215">YouTube предлагает возможность встраивания видео на веб-страницах.</span><span class="sxs-lookup"><span data-stu-id="f94fa-215">YouTube offers the ability to embed videos on web pages.</span></span> <span data-ttu-id="f94fa-216">Используя простую веб-страницу заглушки, это легко показать в модуле задач:</span><span class="sxs-lookup"><span data-stu-id="f94fa-216">Using a simple stub web page it's easy to show this in a task module:</span></span>

![Видео YouTube](~/assets/images/task-module/youtube-example.png)

<span data-ttu-id="f94fa-218">Вот HTML для этой страницы, без CSS:</span><span class="sxs-lookup"><span data-stu-id="f94fa-218">Here's the HTML for this page, without the CSS:</span></span>

```html
<!DOCTYPE html>
<html lang="en">
<head>
  ⋮
</head>
<body>
  <div id="embed-container">
    <iframe width="1000" height="700" src="https://www.youtube.com/embed/rd0Rd8w3FZ0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen=""></iframe>
  </div>
</body>
</html>
```

<span data-ttu-id="f94fa-219">CSS выглядит так:</span><span class="sxs-lookup"><span data-stu-id="f94fa-219">The CSS looks like this:</span></span>

```css
#embed-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 95%;
    height: 95%;
    padding-left: 20px;
    padding-right: 20px;
    padding-top: 10px;
    padding-bottom: 10px;
    border-style: none;
}
```

### <a name="example-2---powerapp"></a><span data-ttu-id="f94fa-220">Пример 2 - PowerApp</span><span class="sxs-lookup"><span data-stu-id="f94fa-220">Example 2 - PowerApp</span></span>

<span data-ttu-id="f94fa-221">Вы также можете использовать тот же подход для встраивания PowerApp.</span><span class="sxs-lookup"><span data-stu-id="f94fa-221">You can use the same approach to embed a PowerApp as well.</span></span> <span data-ttu-id="f94fa-222">Поскольку высота/ширина любого отдельного PowerApp настраивается, возможно, потребуется настроить высоту и ширину для достижения желаемой презентации.</span><span class="sxs-lookup"><span data-stu-id="f94fa-222">As the height/width of any individual PowerApp is customizable, you may need to adjust the height and width to achieve your desired presentation.</span></span>

![Управление активами PowerApp](~/assets/images/task-module/powerapp-example.png)

```html
<iframe width="720" height="520" src="https://web.powerapps.com/webplayer/iframeapp?source=iframe&screenColor=rgba(104,101,171,1)&appId=/providers/Microsoft.PowerApps/apps/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"></iframe>
```

<span data-ttu-id="f94fa-224">И CSS является:</span><span class="sxs-lookup"><span data-stu-id="f94fa-224">And the CSS is:</span></span>

```css
#embed-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 94%;
    height: 95%;
    padding-left: 20px;
    padding-right: 20px;
    padding-top: 10px;
    padding-bottom: 10px;
    border-style: none;
}
```

## <a name="adaptive-card-or-adaptive-card-bot-card-attachment"></a><span data-ttu-id="f94fa-225">Адаптивная карта или адаптивная карта бот-карты вложения</span><span class="sxs-lookup"><span data-stu-id="f94fa-225">Adaptive card or Adaptive card bot card attachment</span></span>

<span data-ttu-id="f94fa-226">Как мы уже отмечали выше, в зависимости от того, как вы ссылаееся на вас вам `card` нужно будет использовать либо адаптивной карты, или адаптивной карты бот карты вложения (который является просто адаптивной карты, завернутые в объект вложения).</span><span class="sxs-lookup"><span data-stu-id="f94fa-226">As we noted above, depending on how you're invoking your `card` you'll need to use either an Adaptive card, or an Adaptive card bot card attachment (which is just an Adaptive card wrapped in an attachment object).</span></span>

<span data-ttu-id="f94fa-227">Когда вы вызове из вкладки, вам нужно будет использовать адаптивную карту.</span><span class="sxs-lookup"><span data-stu-id="f94fa-227">When you're invoking from a tab, you'll need to use an adaptive card.</span></span> <span data-ttu-id="f94fa-228">Вот очень простой пример:</span><span class="sxs-lookup"><span data-stu-id="f94fa-228">Here's a very simple example:</span></span>

```json
{
    "type": "AdaptiveCard",
    "body": [
        {
            "type": "TextBlock",
            "text": "Here is a ninja cat:"
        },
        {
            "type": "Image",
            "url": "http://adaptivecards.io/content/cats/1.png",
            "size": "Medium"
        }
    ],
    "version": "1.0"
}
```

<span data-ttu-id="f94fa-229">Когда вы ссылаееся на бота, вам нужно будет использовать вложение карты adaptive card bot, как в приведеном ниже примере:</span><span class="sxs-lookup"><span data-stu-id="f94fa-229">When you're invoking from a bot you'll need to use an Adaptive card bot card attachment as in the example below:</span></span>

```json
{
    "contentType": "application/vnd.microsoft.card.adaptive",
    "content": {
        "type": "AdaptiveCard",
        "body": [
            {
                "type": "TextBlock",
                "text": "Here is a ninja cat:"
            },
            {
                "type": "Image",
                "url": "http://adaptivecards.io/content/cats/1.png",
                "size": "Medium"
            }
        ],
        "version": "1.0"
    }
}
```

<span data-ttu-id="f94fa-230">Вам нужно будет помнить, ссылаются ли вы на модуль задач, содержащий адаптивную карту от бота или вкладки.</span><span class="sxs-lookup"><span data-stu-id="f94fa-230">You'll need to remember whether you are invoking a task module containing an Adaptive card from a bot or a tab.</span></span>

## <a name="task-module-deep-link-syntax"></a><span data-ttu-id="f94fa-231">Модуль задачи глубокий синтаксис соединения</span><span class="sxs-lookup"><span data-stu-id="f94fa-231">Task module deep link syntax</span></span>

<span data-ttu-id="f94fa-232">Глубокий модуль задачи - это просто сериализация объекта [TaskInfo с двумя](#the-taskinfo-object) другими частями информации, `APP_ID` и факультативно: `BOT_APP_ID`</span><span class="sxs-lookup"><span data-stu-id="f94fa-232">A task module deep link is just a serialization of the [TaskInfo object](#the-taskinfo-object) with two other pieces of information, `APP_ID` and optionally the `BOT_APP_ID`:</span></span>

`https://teams.microsoft.com/l/task/APP_ID?url=<TaskInfo.url>&height=<TaskInfo.height>&width=<TaskInfo.width>&title=<TaskInfo.title>&completionBotId=BOT_APP_ID`

`https://teams.microsoft.com/l/task/APP_ID?card=<TaskInfo.card>&height=<TaskInfo.height>&width=<TaskInfo.width>&title=<TaskInfo.title>&completionBotId=BOT_APP_ID`

<span data-ttu-id="f94fa-233">Смотрите [объект TaskInfo](#the-taskinfo-object) для типов данных и допустимых `<TaskInfo.url>` значений `<TaskInfo.card>` `<TaskInfo.height>` для, , , и `<TaskInfo.width>` `<TaskInfo.title>` .</span><span class="sxs-lookup"><span data-stu-id="f94fa-233">See [TaskInfo object](#the-taskinfo-object) for the data types and allowable values for `<TaskInfo.url>`, `<TaskInfo.card>`, `<TaskInfo.height>`, `<TaskInfo.width>`, and `<TaskInfo.title>`.</span></span>

> [!TIP]
> <span data-ttu-id="f94fa-234">Обязательно url-адрес кодирует глубокую ссылку, особенно при `card` использовании параметра (например, функции [ `encodeURI()` JavaScript).](https://www.w3schools.com/jsref/jsref_encodeURI.asp)</span><span class="sxs-lookup"><span data-stu-id="f94fa-234">Be sure to URL encode the deep link, especially when using the `card` parameter (for example, JavaScript's [`encodeURI()` function](https://www.w3schools.com/jsref/jsref_encodeURI.asp)).</span></span>

<span data-ttu-id="f94fa-235">Вот информация и `APP_ID` `BOT_APP_ID` :</span><span class="sxs-lookup"><span data-stu-id="f94fa-235">Here's the information on `APP_ID` and `BOT_APP_ID`:</span></span>

| <span data-ttu-id="f94fa-236">Значение</span><span class="sxs-lookup"><span data-stu-id="f94fa-236">Value</span></span> | <span data-ttu-id="f94fa-237">Тип</span><span class="sxs-lookup"><span data-stu-id="f94fa-237">Type</span></span> | <span data-ttu-id="f94fa-238">Обязательный?</span><span class="sxs-lookup"><span data-stu-id="f94fa-238">Required?</span></span> | <span data-ttu-id="f94fa-239">Описание</span><span class="sxs-lookup"><span data-stu-id="f94fa-239">Description</span></span> |
| --- | --- | --- | --- |
| `APP_ID` | <span data-ttu-id="f94fa-240">string</span><span class="sxs-lookup"><span data-stu-id="f94fa-240">string</span></span> | <span data-ttu-id="f94fa-241">Да</span><span class="sxs-lookup"><span data-stu-id="f94fa-241">Yes</span></span> | <span data-ttu-id="f94fa-242">Идентификатор [приложения,](~/resources/schema/manifest-schema.md#id) ссылающегося на модуль задачи.</span><span class="sxs-lookup"><span data-stu-id="f94fa-242">The [id](~/resources/schema/manifest-schema.md#id) of the app invoking the task module.</span></span> <span data-ttu-id="f94fa-243">Действительный [массивDomains в](~/resources/schema/manifest-schema.md#validdomains) манифесте для `APP_ID` должен содержать домен, `url` если находится в `url` URL.</span><span class="sxs-lookup"><span data-stu-id="f94fa-243">The [validDomains array](~/resources/schema/manifest-schema.md#validdomains) in the manifest for `APP_ID` must contain the domain for `url` if `url` is in the URL.</span></span> <span data-ttu-id="f94fa-244">(Идентификатор приложения уже известен, когда модуль задачи вызывается из вкладки или бота, поэтому он не включен `TaskInfo` в .)</span><span class="sxs-lookup"><span data-stu-id="f94fa-244">(The app ID is already known when a task module is invoked from a tab or a bot, which is why it's not included in `TaskInfo`.)</span></span> |
| `BOT_APP_ID` | <span data-ttu-id="f94fa-245">string</span><span class="sxs-lookup"><span data-stu-id="f94fa-245">string</span></span> | <span data-ttu-id="f94fa-246">Нет</span><span class="sxs-lookup"><span data-stu-id="f94fa-246">No</span></span> | <span data-ttu-id="f94fa-247">Если значение `completionBotId` для указанного, `result` объект отправляется через сообщение `task/submit invoke` указанному боту.</span><span class="sxs-lookup"><span data-stu-id="f94fa-247">If a value for `completionBotId` is specified, the `result` object is sent via a a `task/submit invoke` message to the specified bot.</span></span> <span data-ttu-id="f94fa-248">`BOT_APP_ID` должны быть указаны в качестве бота в манифесте приложения, т.е. вы не можете просто отправить его любому боту.</span><span class="sxs-lookup"><span data-stu-id="f94fa-248">`BOT_APP_ID` must be specified as a bot in the app's manifest, i.e. you can't just send it to any bot.</span></span> |

<span data-ttu-id="f94fa-249">Обратите внимание, что он действителен и должен быть одинаковым, и во многих случаях `APP_ID` `BOT_APP_ID` будет, если приложение имеет бота, так как рекомендуется использовать его в качестве идентификатора приложения, если он есть.</span><span class="sxs-lookup"><span data-stu-id="f94fa-249">Note that it's valid for `APP_ID` and `BOT_APP_ID` to be the same, and in many cases will be if an app has a bot since it's recommended to use that as an app's ID if there is one.</span></span>

## <a name="keyboard-and-accessibility-guidelines"></a><span data-ttu-id="f94fa-250">Рекомендации по клавиатуре и доступности</span><span class="sxs-lookup"><span data-stu-id="f94fa-250">Keyboard and accessibility guidelines</span></span>

<span data-ttu-id="f94fa-251">С помощью модулей задач на основе HTML/JavaScript вы несете ответственность за то, чтобы модуль задач вашего приложения можно было использовать с помощью клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="f94fa-251">With HTML/JavaScript-based task modules it is your responsibility to ensure your app's task module can be used with a keyboard.</span></span> <span data-ttu-id="f94fa-252">Программы чтения с экрана также зависят от способности ориентироваться с помощью клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="f94fa-252">Screen reader programs also depend on the ability to navigate using the keyboard.</span></span> <span data-ttu-id="f94fa-253">В практическом плане это означает две вещи:</span><span class="sxs-lookup"><span data-stu-id="f94fa-253">As a practical matter this means two things:</span></span>

1. <span data-ttu-id="f94fa-254">Использование [атрибута tabindex в](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex) HTML-тегах для управления элементами, которые могут быть сфокусированы и если/где он участвует в последовательной навигации клавиатуры (обычно <kbd>с ключами Tab</kbd> <kbd>и Shift-Tab).</kbd></span><span class="sxs-lookup"><span data-stu-id="f94fa-254">Using the [tabindex attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex) in your HTML tags to control which elements can be focused and if/where it participates in sequential keyboard navigation (usually with the <kbd>Tab</kbd> and <kbd>Shift-Tab</kbd> keys).</span></span>
2. <span data-ttu-id="f94fa-255">Обработка <kbd>ключа Esc</kbd> в JavaScript для модуля задач.</span><span class="sxs-lookup"><span data-stu-id="f94fa-255">Handling the <kbd>Esc</kbd> key in the JavaScript for your task module.</span></span> <span data-ttu-id="f94fa-256">Вот пример кода, показывающий, как это сделать:</span><span class="sxs-lookup"><span data-stu-id="f94fa-256">Here's a code sample showing how to do this:</span></span>

  ```javascript
  // Handle the Esc key
  document.onkeyup = function(event) {
  if ((event.key === 27) || (event.key === "Escape")) {
    microsoftTeams.submitTask(null); // this will return an err object to the completionHandler()
    }
  }
  ```

<span data-ttu-id="f94fa-257">Microsoft Teams гарантирует, что клавиатура навигации работает должным образом от заголовка модуля задачи в HTML и наоборот.</span><span class="sxs-lookup"><span data-stu-id="f94fa-257">Microsoft Teams will ensure that keyboard navigation works properly from the task module header into your HTML and vice-versa.</span></span>

## <a name="code-sample"></a><span data-ttu-id="f94fa-258">Пример кода</span><span class="sxs-lookup"><span data-stu-id="f94fa-258">Code sample</span></span>
|<span data-ttu-id="f94fa-259">**Название образца**</span><span class="sxs-lookup"><span data-stu-id="f94fa-259">**Sample name**</span></span> | <span data-ttu-id="f94fa-260">**Описание**</span><span class="sxs-lookup"><span data-stu-id="f94fa-260">**Description**</span></span> | <span data-ttu-id="f94fa-261">**.NET**</span><span class="sxs-lookup"><span data-stu-id="f94fa-261">**.NET**</span></span> | <span data-ttu-id="f94fa-262">**Node.js**</span><span class="sxs-lookup"><span data-stu-id="f94fa-262">**Node.js**</span></span>|
|----------------|-----------------|--------------|----------------|
|<span data-ttu-id="f94fa-263">Образец модуля задач (Bots-V4)</span><span class="sxs-lookup"><span data-stu-id="f94fa-263">Task module sample (Bots-V4)</span></span> | <span data-ttu-id="f94fa-264">Образцы для создания модулей задач.</span><span class="sxs-lookup"><span data-stu-id="f94fa-264">Samples for creating task modules.</span></span> |[<span data-ttu-id="f94fa-265">View</span><span class="sxs-lookup"><span data-stu-id="f94fa-265">View</span></span>](https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/app-task-module/csharp)|[<span data-ttu-id="f94fa-266">View</span><span class="sxs-lookup"><span data-stu-id="f94fa-266">View</span></span>](https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/app-task-module/nodejs)| 
|<span data-ttu-id="f94fa-267">Образец модуля задач (Tabs и Bots-V3)</span><span class="sxs-lookup"><span data-stu-id="f94fa-267">Task module sample (Tabs + Bots-V3)</span></span> | <span data-ttu-id="f94fa-268">Образцы для создания модулей задач.</span><span class="sxs-lookup"><span data-stu-id="f94fa-268">Samples for creating task modules.</span></span> |[<span data-ttu-id="f94fa-269">View</span><span class="sxs-lookup"><span data-stu-id="f94fa-269">View</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/main/samples/csharp_dotnetcore/54.teams-task-module)|[<span data-ttu-id="f94fa-270">View</span><span class="sxs-lookup"><span data-stu-id="f94fa-270">View</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/main/samples/javascript_nodejs/54.teams-task-module)|

## <a name="see-also"></a><span data-ttu-id="f94fa-271">См. также</span><span class="sxs-lookup"><span data-stu-id="f94fa-271">See also</span></span>

* [<span data-ttu-id="f94fa-272">Запрос разрешений устройства</span><span class="sxs-lookup"><span data-stu-id="f94fa-272">Request device permissions</span></span>](../concepts/device-capabilities/native-device-permissions.md)
* [<span data-ttu-id="f94fa-273">Интеграция возможностей мультимедиа</span><span class="sxs-lookup"><span data-stu-id="f94fa-273">Integrate media capabilities</span></span>](../concepts/device-capabilities/mobile-camera-image-permissions.md)
* [<span data-ttu-id="f94fa-274">Интеграция возможностей сканера qR или штрих-кодов в Teams</span><span class="sxs-lookup"><span data-stu-id="f94fa-274">Integrate QR or barcode scanner capability in Teams</span></span>](../concepts/device-capabilities/qr-barcode-scanner-capability.md)
* [<span data-ttu-id="f94fa-275">Интеграция возможностей определения местоположения в Teams</span><span class="sxs-lookup"><span data-stu-id="f94fa-275">Integrate location capabilities in Teams</span></span>](../concepts/device-capabilities/location-capability.md)
