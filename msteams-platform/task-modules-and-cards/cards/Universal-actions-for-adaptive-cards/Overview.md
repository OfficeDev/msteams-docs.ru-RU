---
title: Обзор универсальных действий для адаптивных карт
description: Краткий обзор универсальных действий для адаптивных карт, таких как представления для пользователей, поддержка последовательного рабочего процесса и другие сведения для настольных и мобильных сред.
ms.topic: overview
ms.localizationpriority: medium
ms.openlocfilehash: 8ec546b0345c1fd26caf0b3016a788e14b623ae2
ms.sourcegitcommit: 2fdca6fb0ade3f6b460eb9a4dfea0a8e2ab8d3b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/08/2022
ms.locfileid: "63356166"
---
# <a name="universal-actions-for-adaptive-cards"></a>Универсальные действия для адаптивных карточек

Универсальные действия для адаптивных карт развивались из отзывов разработчиков о том, что, несмотря на универсальность макета и отрисовки для адаптивных карт, обработка действий не была. Даже если разработчик хотел отправить ту же карточку в разные места, он должен обрабатывать действия по-другому.

Универсальные действия для адаптивных карт приносят боту в качестве общей задней части для обработки действий и вводят новый тип действий, `Action.Execute`который работает в приложениях, таких как Teams и Outlook.

Этот документ поможет вам понять, как можно использовать модель Universal Actions для улучшения взаимодействия пользователей с адаптивными картами на платформах и приложениях.

> [!NOTE]
> Поддержка универсальных действий для адаптивных карт v1.4 доступна только для карт, отправленных ботом. Поддержка карт, отправленных через окне составить и ссылку unfurling карт скоро.

## <a name="enhance-user-experiences-with-universal-actions-for-adaptive-cards"></a>Расширение пользовательских интерфейсов с помощью универсальных действий для адаптивных карт

Универсальные действия для адаптивных карт улучшают пользовательский интерфейс, включив следующие сценарии:

* [Универсальные действия](#universal-actions)
* [Пользовательские просмотры](#user-specific-views)
* [Поддержка последовательного рабочего процесса](#sequential-workflow-support)
* [Просмотры на сегодняшний день](#up-to-date-views)

### <a name="universal-actions"></a>Универсальные действия

Перед универсальными действиями для адаптивных карт различные хосты предоставляли различные модели действий следующим образом:

* Teams или используемые боты `Action.Submit`, подход, который отоносят фактическую модель связи к основному каналу.
* Outlook используется `Action.Http` для связи со службой backend, явно указанной в полезной нагрузке адаптивной карты.

На следующем изображении показана текущая несогласованная модель действий:

:::image type="content" source="~/assets/images/adaptive-cards/current-teams-outlook-action-model.png" alt-text="Несогласованная модель действий":::

С помощью универсальных действий для адаптивных карт можно `Action.Execute` использовать для обработки действий на разных платформах. `Action.Execute`работает через концентраторы, включая Teams и Outlook. Кроме того, адаптивная карта может быть возвращена `Action.Execute` в качестве ответа на срабатываемом запросе на вызов.

На следующем изображении показана новая модель Universal Action:

:::image type="content" source="~/assets/images/adaptive-cards/universal-action-model.png" alt-text="Новые универсальные действия для адаптивных карт":::

Теперь вы можете отправить ту же карту как Teams, так и Outlook и синхронизировать их друг с другом с помощью бота. Любое действие, принятое на любой платформе, отражается на другой с помощью этой сборки один раз *,* развертывать в любом месте (универсальные действия для адаптивных карт) модели.

На следующем изображении показаны универсальные действия для адаптивных карт как для Teams, так и для Outlook:

# <a name="mobile"></a>[Мобильные устройства](#tab/mobile)

:::image type="content" source="~/assets/images/mobile-universal-bots-teams-outlook.png" alt-text="Мобильная карта для Teams и Outlook":::

# <a name="desktop"></a>[Компьютер](#tab/desktop)

:::image type="content" source="~/assets/images/adaptive-cards/universal-bots-teams-outlook.png" alt-text="Та же Teams и Outlook":::

* * *

### <a name="user-specific-views"></a>Пользовательские просмотры

Сегодня каждый пользователь в Teams или канале видит одно и то же представление и действия кнопки на адаптивной карте. Однако в некоторых сценариях для некоторых пользователей существует требование действовать по-другому и иметь доступ к различным сведениям в одном чате или канале.

Например, если вы отправляете карточку отчетов об инцидентах в чате или канале, только пользователь, которому назначен инцидент, должен видеть кнопку **Разрешить** . С другой стороны, создатель инцидента должен видеть кнопку **Изменить** , а все остальные пользователи должны иметь возможность просматривать только сведения об инциденте. Это можно сделать с помощью пользовательских представлений, включенных свойством `refresh` .

На следующем изображении показан пример расширения обмена сообщениями по билетам (ME), на котором различным пользователям в чате показаны различные действия, основанные на требовании:

# <a name="mobile"></a>[Мобильные устройства](#tab/mobile)

:::image type="content" source="~/assets/images/adaptive-cards/mobile-universal-bots-incident-management.jpg" alt-text="Представления для мобильных пользователей":::

# <a name="desktop"></a>[Компьютер](#tab/desktop)

:::image type="content" source="~/assets/images/adaptive-cards/universal-bots-incident-management.png" alt-text="Пользовательские просмотры":::

* * *

Дополнительные сведения см. [в примере для пользовательских представлений](User-Specific-Views.md).

### <a name="sequential-workflow-support"></a>Поддержка последовательного рабочего процесса

С поддержкой последовательного рабочего процесса пользователи могут проходить через ряд процессов, не отправляя разные карты отдельно. Это возможно благодаря возможности `Action.Execute` возврата адаптивной карты в ответ на действие. Кроме того, любой пользователь в чате или канале может пройти через рабочий процесс без изменения карты для других пользователей в чате.

На следующем изображении иллюстрируется пример бота для заказа продуктов питания: <br/>

<img src="~/assets/images/bots/sequentialWorkflow.gif" alt="Sequential Workflow" width="400"/>

На следующем изображении показаны различные состояния для разных пользователей в чате или канале:

:::image type="content" source="~/assets/images/adaptive-cards/universal-bots-catering-bot.png" alt-text="Состояния бота кейтеринга":::

Дополнительные сведения см. [в примере последовательного рабочего процесса](Sequential-Workflows.md).

### <a name="up-to-date-views"></a>Просмотры на сегодняшний день

Можно создавать адаптивные карты, которые обновляются автоматически. Например, это может быть запрос на утверждение, отправленный пользователем. После утверждения карта должна автоматически отображать сведения о времени утверждения запроса и о том, кто его одобрил. Модель обновления позволяет предоставлять такие обновленные представления. На следующем изображении показан многоэтапный поток утверждения и показаны представления для разных пользователей.

:::image type="content" source="~/assets/images/adaptive-cards/universal-bots-up-to-date-views.png" alt-text="В курсе конкретных представлений пользователей":::

Дополнительные сведения см. [в примере для просмотра на сегодняшний день](Up-To-Date-Views.md).

Теперь вы можете понять, как можно преобразовать адаптивные карты с помощью новой модели универсальных действий, чтобы обеспечить уникальный и расширенный пользовательский интерфейс.

## <a name="adaptive-cards-and-the-new-universal-actions-model"></a>Адаптивные карты и новая модель универсальных действий

Адаптивные карты — это сочетание контента, например текста и графики, и действий, которые может выполнять пользователь. Дополнительные сведения см. в разделе [Адаптивные карточки](http://adaptivecards.io/). Новые универсальные действия для адаптивных карт обеспечивают общую обработку действий адаптивной карты на платформах и приложениях. Дополнительные сведения см. в [универсальной модели действий](/adaptive-cards/authoring-cards/universal-action-model).

Вы можете начать работу, обновив сценарии с помощью руководства по [быстрому](Work-with-universal-actions-for-adaptive-cards.md) запуску и используя универсальные действия.

## <a name="next-step"></a>Следующий этап

> [!div class="nextstepaction"]
> [Работа с универсальными действиями для адаптивных карточек](Work-with-universal-actions-for-adaptive-cards.md)

## <a name="see-also"></a>См. также

* [Что такое боты](~/bots/what-are-bots.md)
* [Обзор адаптивных карточек](~/task-modules-and-cards/what-are-cards.md)
* [Адаптивные карты @ Microsoft Build 2020](https://youtu.be/hEBhwB72Qn4?t=1393)
* [Адаптивные карты @ Ignite 2020](https://techcommunity.microsoft.com/t5/video-hub/elevate-user-experiences-with-teams-and-adaptive-cards/m-p/1689460)
