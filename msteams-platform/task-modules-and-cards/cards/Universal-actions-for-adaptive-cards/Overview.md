---
title: Обзор универсальных действий для адаптивных карточек
description: Узнайте об универсальных действиях для адаптивных карточек, таких как пользовательские представления, поддержка последовательных рабочих процессов и многое другое для настольных и мобильных сред.
ms.topic: overview
ms.localizationpriority: medium
ms.openlocfilehash: 4ee3210391f3a8aaba4b74d3d07ee6507789afed
ms.sourcegitcommit: c3601696cced9aadc764f1e734646ee7711f154c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/03/2022
ms.locfileid: "68833060"
---
# <a name="universal-actions-for-adaptive-cards"></a>Универсальные действия для адаптивных карточек

Универсальные действия для адаптивных карточек эволюционировали на основе отзывов разработчиков о том, что, несмотря на то, что макет и отрисовка адаптивных карточек были универсальными, обработка действий не была. Даже если разработчик хочет отправить одну и ту же карточку в разные места, он должен обрабатывать действия по-разному.

Универсальные действия для адаптивных карточек позволяют использовать бота в качестве общей серверной части для обработки действий, а также новый тип действия , `Action.Execute`который работает в разных приложениях, таких как Teams и Outlook.

Этот документ поможет вам понять, как использовать модель универсальных действий для улучшения взаимодействия пользователей с адаптивными карточками на разных платформах и в приложениях.

> [!NOTE]
> Поддержка универсальных действий для адаптивных карточек версии 1.4 доступна только для карточек, отправленных ботом. В ближайшее время будет добавлена поддержка карточек, отправляемых через поле создания и раскупорки ссылок.

## <a name="enhance-user-experiences-with-universal-actions-for-adaptive-cards"></a>Улучшение взаимодействия с пользователем с помощью универсальных действий для адаптивных карточек

Универсальные действия для адаптивных карточек улучшают взаимодействие с пользователем, включив следующие сценарии:

* [Универсальные действия](#universal-actions)
* [Пользовательские просмотры](#user-specific-views)
* [Поддержка последовательных рабочих процессов](#sequential-workflow-support)
* [Актуальные представления](#up-to-date-views)

### <a name="universal-actions"></a>Универсальные действия

До универсальных действий для адаптивных карточек разные узлы предоставляли различные модели действий следующим образом:

* Команды или боты использовали `Action.Submit`, подход, который откладывает фактическую модель коммуникации в базовый канал.
* Outlook используется для `Action.Http` взаимодействия с серверной службой, явно указанной в полезных данных адаптивной карточки.

На следующем рисунке показана текущая модель несогласованных действий:

:::image type="content" source="~/assets/images/adaptive-cards/current-teams-outlook-action-model.png" alt-text="Несогласованная модель действий":::

С помощью универсальных действий для адаптивных карточек можно использовать `Action.Execute` для обработки действий на разных платформах.

`Action.Execute` работает во всех центрах, включая Teams и Outlook, и не является заменой `Action.Submit`. Например, если вы хотите, чтобы внешняя система делала действие, а результат действия должен быть отправлен обратно в беседу с помощью [расширения обмена сообщениями](../../../messaging-extensions/what-are-messaging-extensions.md), `Action.Execute` не поддерживается.

Для [распаковки ссылок,](../../../messaging-extensions/how-to/link-unfurling.md) таких как карточки с изображением и эскизами, необходимо вызвать .`Action.Submit`

Кроме того, адаптивная карточка может быть возвращена в качестве ответа для активированного `Action.Execute` запроса вызова.

На следующем рисунке показана новая модель универсального действия:

:::image type="content" source="~/assets/images/adaptive-cards/universal-action-model.png" alt-text="Новые универсальные действия для адаптивных карточек":::

Теперь вы можете отправить одну и ту же карточку в Teams и Outlook и поддерживать их синхронизацию друг с другом с помощью базового бота. Любое действие, выполняемое на любой платформе, отражается на другой с этой *сборкой один раз, разверните в любом месте* (универсальные действия для адаптивных карточек).

На следующем рисунке показаны универсальные действия для адаптивных карточек для Teams и Outlook:

# <a name="mobile"></a>[Мобильные устройства](#tab/mobile)

:::image type="content" source="~/assets/images/mobile-universal-bots-teams-outlook.png" alt-text="Одна и та же карточка для мобильных устройств в Teams и Outlook":::

# <a name="desktop"></a>[Компьютер](#tab/desktop)

:::image type="content" source="~/assets/images/adaptive-cards/universal-bots-teams-outlook.png" alt-text="Та же карточка в Teams и Outlook" lightbox="../../../assets/images/adaptive-cards/universal-bots-teams-outlook.png":::

* * *

### <a name="user-specific-views"></a>Пользовательские просмотры

Сегодня каждый пользователь в чате или канале Teams видит одно и то же представление и действия кнопок на адаптивной карточке. Однако в некоторых сценариях требуется, чтобы некоторые пользователи действовали по-разному и имели доступ к разным сведениям в одном чате или канале.

Например, если вы отправляете карточку отчета об инциденте в чате или канале, только пользователь, которому назначен инцидент, должен увидеть кнопку **Разрешить** . С другой стороны, создатель инцидента должен видеть кнопку **Изменить** , а все остальные пользователи должны иметь возможность просматривать только сведения об инциденте. Это становится возможным с помощью представлений для конкретных пользователей, включенных свойством `refresh` .

На следующем рисунке показан пример расширения сообщений с запросами (ME), где разные пользователи в чате отображают различные действия в зависимости от требования:

# <a name="mobile"></a>[Мобильные устройства](#tab/mobile)

:::image type="content" source="~/assets/images/adaptive-cards/mobile-universal-bots-incident-management.jpg" alt-text="Представления для мобильных пользователей" lightbox="../../../assets/images/adaptive-cards/mobile-universal-bots-incident-management.jpg":::

# <a name="desktop"></a>[Компьютер](#tab/desktop)

:::image type="content" source="~/assets/images/adaptive-cards/universal-bots-incident-management.png" alt-text="Пользовательские просмотры" lightbox="../../../assets/images/adaptive-cards/universal-bots-incident-management.png":::

* * *

Дополнительные сведения см [. в разделе Пример представлений для конкретных пользователей](User-Specific-Views.md).

### <a name="sequential-workflow-support"></a>Поддержка последовательных рабочих процессов

Благодаря поддержке последовательных рабочих процессов пользователи могут выполнять ряд рабочих процессов, не отправляя разные карточки отдельно. Это становится возможным благодаря возможности `Action.Execute` возвращать адаптивную карточку в ответ на действие. Кроме того, любой пользователь в чате или канале может выполнять свой рабочий процесс, не изменяя карточку для других пользователей в чате.

На следующем рисунке показан пример бота по заказу продуктов питания: <br/>

<img src="~/assets/images/bots/sequentialWorkflow.gif" alt="Sequential Workflow" width="400"/>

На следующем рисунке показаны различные состояния для разных пользователей в чате или канале:

:::image type="content" source="~/assets/images/adaptive-cards/universal-bots-catering-bot.png" alt-text="Состояния бота общественного питания" lightbox="../../../assets/images/adaptive-cards/universal-bots-catering-bot.png":::

Дополнительные сведения см. [в разделе Пример последовательного рабочего процесса](Sequential-Workflows.md).

### <a name="up-to-date-views"></a>Актуальные представления

Вы можете создать адаптивные карточки, которые обновляются автоматически. Например, это может быть запрос на утверждение, отправленный пользователем. После утверждения карточка должна автоматически отображать сведения о времени утверждения запроса и о том, кто одобрил запрос. Модель обновления позволяет предоставлять такие актуальные представления. На следующем рисунке показан поток многофакторного утверждения и отображение представлений для разных пользователей.

:::image type="content" source="~/assets/images/adaptive-cards/universal-bots-up-to-date-views.png" alt-text="Актуальные пользовательские представления" lightbox="../../../assets/images/adaptive-cards/universal-bots-up-to-date-views.png":::

Дополнительные сведения см. в [разделе Пример для актуальных представлений](Up-To-Date-Views.md).

Теперь вы можете понять, как можно преобразовать адаптивные карточки с помощью новой модели универсальных действий, чтобы обеспечить уникальный и улучшенный пользовательский интерфейс.

## <a name="adaptive-cards-and-the-new-universal-actions-model"></a>Адаптивные карточки и новая модель универсальных действий

Адаптивные карточки — это сочетание содержимого, например текста и графики, а также действий, которые могут выполняться пользователем. Дополнительные сведения см. в разделе [Адаптивные карточки](http://adaptivecards.io/). Новые универсальные действия для адаптивных карточек обеспечивают общую обработку действий адаптивной карточки на разных платформах и в приложениях. Дополнительные сведения см. в разделе [Модель универсального действия](/adaptive-cards/authoring-cards/universal-action-model).

Вы можете начать, обновив сценарии с помощью [краткого руководства по началу работы]. (Work-with-universal-actions-for-adaptive-cards.md) и используйте универсальные действия.

## <a name="next-step"></a>Следующий этап

> [!div class="nextstepaction"]
> [Работа с универсальными действиями для адаптивных карточек](Work-with-universal-actions-for-adaptive-cards.md)

## <a name="see-also"></a>См. также

* [Что такое боты](~/bots/what-are-bots.md)
* [Обзор адаптивных карточек](~/task-modules-and-cards/what-are-cards.md)
* [Адаптивные карточки для Microsoft Build 2020](https://youtu.be/hEBhwB72Qn4?t=1393)
* [Адаптивные карточки @ Ignite 2020](https://techcommunity.microsoft.com/t5/video-hub/elevate-user-experiences-with-teams-and-adaptive-cards/m-p/1689460).
* [Универсальные действия для расширений обмена сообщениями на основе поиска](../../../messaging-extensions/how-to/search-commands/universal-actions-for-search-based-message-extensions.md)
